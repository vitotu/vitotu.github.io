<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/img/cat.jpg"><title>剑指offer代码Python实现 | Vito's blog</title><meta name="description" content="vito的个人网站">
    <link rel="modulepreload" href="/assets/app.4a97f006.js"><link rel="modulepreload" href="/assets/python_sword_for_offer.html.ca43d15e.js"><link rel="modulepreload" href="/assets/n54.c5ba376b.js"><link rel="modulepreload" href="/assets/python_sword_for_offer.html.63d7162a.js"><link rel="prefetch" href="/assets/index.html.2d192a6b.js"><link rel="prefetch" href="/assets/guide.html.dbcdd283.js"><link rel="prefetch" href="/assets/UbuntuUsingNode.html.80352440.js"><link rel="prefetch" href="/assets/gitUseNote.html.8d8fe26b.js"><link rel="prefetch" href="/assets/index.html.54694863.js"><link rel="prefetch" href="/assets/小新pro14ACH安装Ubuntu并美化.html.054c71fe.js"><link rel="prefetch" href="/assets/index.html.1f1a55b5.js"><link rel="prefetch" href="/assets/browser.html.9ad3faf0.js"><link rel="prefetch" href="/assets/index.html.b03bf3d5.js"><link rel="prefetch" href="/assets/10sortedAlgorithm.html.78179c69.js"><link rel="prefetch" href="/assets/common.html.2e7d03db.js"><link rel="prefetch" href="/assets/index.html.9282c9ef.js"><link rel="prefetch" href="/assets/labuladongNote.html.86c04f02.js"><link rel="prefetch" href="/assets/leetcode100.html.03c073a6.js"><link rel="prefetch" href="/assets/tsClassicTop10SortAlgorithm.html.4e5e95c2.js"><link rel="prefetch" href="/assets/tsSword4Offer.html.3295ec98.js"><link rel="prefetch" href="/assets/index.html.6c522f55.js"><link rel="prefetch" href="/assets/npm-note.html.ca2c5ef4.js"><link rel="prefetch" href="/assets/html5.html.9e703483.js"><link rel="prefetch" href="/assets/html进阶.html.ad0c7e17.js"><link rel="prefetch" href="/assets/index.html.5cd0ee3d.js"><link rel="prefetch" href="/assets/longList.html.f35defc1.js"><link rel="prefetch" href="/assets/webSafe.html.e37923fb.js"><link rel="prefetch" href="/assets/jsBase.html.ce393cc9.js"><link rel="prefetch" href="/assets/jsHand.html.35643b8d.js"><link rel="prefetch" href="/assets/jsPlus.html.238ce40e.js"><link rel="prefetch" href="/assets/abstract.html.1b377a20.js"><link rel="prefetch" href="/assets/auto-app.html.83d6022e.js"><link rel="prefetch" href="/assets/wechat-miniAppBase.html.8d563961.js"><link rel="prefetch" href="/assets/qiankun.html.5803bcca.js"><link rel="prefetch" href="/assets/axios.html.6ba8ade4.js"><link rel="prefetch" href="/assets/index.html.c9ee70f1.js"><link rel="prefetch" href="/assets/webNetwork.html.8a89f882.js"><link rel="prefetch" href="/assets/index.html.57b00648.js"><link rel="prefetch" href="/assets/express.html.a6415a0c.js"><link rel="prefetch" href="/assets/koa基础.html.08440786.js"><link rel="prefetch" href="/assets/next.html.3f6ffc28.js"><link rel="prefetch" href="/assets/react-base.html.bbd42f5b.js"><link rel="prefetch" href="/assets/index.html.2f29f416.js"><link rel="prefetch" href="/assets/依恋的形成.html.c6c714ad.js"><link rel="prefetch" href="/assets/穷查理宝典读书笔记.html.9653c8ca.js"><link rel="prefetch" href="/assets/index.html.39af3822.js"><link rel="prefetch" href="/assets/Pinia.html.b1ab707a.js"><link rel="prefetch" href="/assets/vue2base.html.7fdafb9a.js"><link rel="prefetch" href="/assets/vue3plus.html.10517593.js"><link rel="prefetch" href="/assets/webpack5Note.html.319cce90.js"><link rel="prefetch" href="/assets/webpackNote.html.f7c9ea86.js"><link rel="prefetch" href="/assets/index.html.3711976d.js"><link rel="prefetch" href="/assets/index.html.51c50e28.js"><link rel="prefetch" href="/assets/index.html.9e7d9284.js"><link rel="prefetch" href="/assets/index.html.6ed7d561.js"><link rel="prefetch" href="/assets/index.html.fc5a02cf.js"><link rel="prefetch" href="/assets/index.html.cb9cc8f7.js"><link rel="prefetch" href="/assets/index.html.d0f1fe33.js"><link rel="prefetch" href="/assets/index.html.d1c52a1b.js"><link rel="prefetch" href="/assets/orgin.html.81e6e47b.js"><link rel="prefetch" href="/assets/outputGuide.html.d280e137.js"><link rel="prefetch" href="/assets/index.html.48718dd7.js"><link rel="prefetch" href="/assets/mustache.html.eb959298.js"><link rel="prefetch" href="/assets/reactive.html.1dcfe3ea.js"><link rel="prefetch" href="/assets/vDom.html.4dc2e0db.js"><link rel="prefetch" href="/assets/index.html.6ff629aa.js"><link rel="prefetch" href="/assets/index.html.8e8bd0a2.js"><link rel="prefetch" href="/assets/index.html.63d1fec8.js"><link rel="prefetch" href="/assets/404.html.d2dc3323.js"><link rel="prefetch" href="/assets/index.html.be712bbd.js"><link rel="prefetch" href="/assets/guide.html.a66c7d7c.js"><link rel="prefetch" href="/assets/UbuntuUsingNode.html.f0f7baea.js"><link rel="prefetch" href="/assets/gitUseNote.html.727cf803.js"><link rel="prefetch" href="/assets/index.html.587bdb12.js"><link rel="prefetch" href="/assets/小新pro14ACH安装Ubuntu并美化.html.dfa71144.js"><link rel="prefetch" href="/assets/index.html.0a8a63ef.js"><link rel="prefetch" href="/assets/browser.html.978bfdf9.js"><link rel="prefetch" href="/assets/index.html.f62203de.js"><link rel="prefetch" href="/assets/10sortedAlgorithm.html.923884e5.js"><link rel="prefetch" href="/assets/common.html.65d2a832.js"><link rel="prefetch" href="/assets/index.html.b4b34d8f.js"><link rel="prefetch" href="/assets/labuladongNote.html.f7a3b818.js"><link rel="prefetch" href="/assets/leetcode100.html.e78d5bd1.js"><link rel="prefetch" href="/assets/tsClassicTop10SortAlgorithm.html.ab6fedd0.js"><link rel="prefetch" href="/assets/tsSword4Offer.html.5bf9da01.js"><link rel="prefetch" href="/assets/index.html.f60852c6.js"><link rel="prefetch" href="/assets/npm-note.html.36ce5819.js"><link rel="prefetch" href="/assets/html5.html.b41cb880.js"><link rel="prefetch" href="/assets/html进阶.html.f073bf70.js"><link rel="prefetch" href="/assets/index.html.ae2cac5d.js"><link rel="prefetch" href="/assets/longList.html.d19d9874.js"><link rel="prefetch" href="/assets/webSafe.html.08ddefb9.js"><link rel="prefetch" href="/assets/jsBase.html.f0e53fc9.js"><link rel="prefetch" href="/assets/jsHand.html.b29393ba.js"><link rel="prefetch" href="/assets/jsPlus.html.6d9e2c53.js"><link rel="prefetch" href="/assets/abstract.html.3806dc27.js"><link rel="prefetch" href="/assets/auto-app.html.dc8ad995.js"><link rel="prefetch" href="/assets/wechat-miniAppBase.html.d0fb3b95.js"><link rel="prefetch" href="/assets/qiankun.html.47742830.js"><link rel="prefetch" href="/assets/axios.html.c57836a5.js"><link rel="prefetch" href="/assets/index.html.5f7de709.js"><link rel="prefetch" href="/assets/webNetwork.html.417b0f4b.js"><link rel="prefetch" href="/assets/index.html.1bfff21d.js"><link rel="prefetch" href="/assets/express.html.5d2267f8.js"><link rel="prefetch" href="/assets/koa基础.html.1e060fb9.js"><link rel="prefetch" href="/assets/next.html.334b1bf8.js"><link rel="prefetch" href="/assets/react-base.html.5b3280cb.js"><link rel="prefetch" href="/assets/index.html.46b2606f.js"><link rel="prefetch" href="/assets/依恋的形成.html.558fb1c5.js"><link rel="prefetch" href="/assets/穷查理宝典读书笔记.html.16930bea.js"><link rel="prefetch" href="/assets/index.html.1b262937.js"><link rel="prefetch" href="/assets/Pinia.html.0ec53685.js"><link rel="prefetch" href="/assets/vue2base.html.a84f2156.js"><link rel="prefetch" href="/assets/vue3plus.html.42df0a47.js"><link rel="prefetch" href="/assets/webpack5Note.html.c410b64b.js"><link rel="prefetch" href="/assets/webpackNote.html.a3a9eb09.js"><link rel="prefetch" href="/assets/index.html.fde65cd5.js"><link rel="prefetch" href="/assets/index.html.0393c229.js"><link rel="prefetch" href="/assets/index.html.828dfeb7.js"><link rel="prefetch" href="/assets/index.html.148f42ad.js"><link rel="prefetch" href="/assets/index.html.21fcf944.js"><link rel="prefetch" href="/assets/index.html.e51be984.js"><link rel="prefetch" href="/assets/index.html.e7baf612.js"><link rel="prefetch" href="/assets/index.html.d6900257.js"><link rel="prefetch" href="/assets/orgin.html.a08d60ef.js"><link rel="prefetch" href="/assets/outputGuide.html.641040c9.js"><link rel="prefetch" href="/assets/index.html.aa073dab.js"><link rel="prefetch" href="/assets/mustache.html.c89098e6.js"><link rel="prefetch" href="/assets/reactive.html.ad1bc248.js"><link rel="prefetch" href="/assets/vDom.html.1e547f4c.js"><link rel="prefetch" href="/assets/index.html.90163df7.js"><link rel="prefetch" href="/assets/index.html.73950556.js"><link rel="prefetch" href="/assets/index.html.e30289a6.js"><link rel="prefetch" href="/assets/404.html.77e43253.js">
    <link rel="stylesheet" href="/assets/style.02ec4131.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Vito&#39;s blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/js/jsBase" class="" aria-label="js基础"><!--[--><!--]--> js基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/js/es6+/" class="" aria-label="es6+基础"><!--[--><!--]--> es6+基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/js/jsPlus" class="" aria-label="js进阶"><!--[--><!--]--> js进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/js/jsHand" class="" aria-label="js手写系列"><!--[--><!--]--> js手写系列 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/js/typescript/" class="" aria-label="typescript"><!--[--><!--]--> typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>js读书笔记</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/js/jsAsync/" class="" aria-label="js异步编程"><!--[--><!--]--> js异步编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/js/jsDeep/" class="" aria-label="你不知道的js系列"><!--[--><!--]--> 你不知道的js系列 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue"><span class="title">Vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue"><span class="title">Vue</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/vue/vue2base" class="" aria-label="vue2基础"><!--[--><!--]--> vue2基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/vue2plus/" class="" aria-label="vue2进阶"><!--[--><!--]--> vue2进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/vue3base/" class="" aria-label="vue3基础"><!--[--><!--]--> vue3基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/vuex/" class="" aria-label="vuex"><!--[--><!--]--> vuex <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/vueRouter/" class="" aria-label="vue router"><!--[--><!--]--> vue router <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/Pinia" class="" aria-label="pinia"><!--[--><!--]--> pinia <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/html/" class="" aria-label="html"><!--[--><!--]--> html <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="css"><span class="title">css</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="css"><span class="title">css</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/css/css3/" class="" aria-label="图解css3"><!--[--><!--]--> 图解css3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/css/css3plus/" class="" aria-label="css进阶"><!--[--><!--]--> css进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/css/scss/" class="" aria-label="scss"><!--[--><!--]--> scss <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/browser/browser" class="" aria-label="浏览器"><!--[--><!--]--> 浏览器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/network/webNetwork" class="" aria-label="网络通信"><!--[--><!--]--> 网络通信 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linuxNote/gitUseNote" class="" aria-label="git使用笔记"><!--[--><!--]--> git使用笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linuxNote/UbuntuUsingNode" class="" aria-label="linux使用记录"><!--[--><!--]--> linux使用记录 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="开发构建工具"><span class="title">开发构建工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="开发构建工具"><span class="title">开发构建工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/devToolsNote/npm-note" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/webpack/webpackNote" class="" aria-label="webpack基础"><!--[--><!--]--> webpack基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/webpack/webpack5Note" class="" aria-label="webpack5"><!--[--><!--]--> webpack5 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/micro-app/qiankun" class="" aria-label="qiankun"><!--[--><!--]--> qiankun <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/algorithm/tsClassicTop10SortAlgorithm" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/tsSword4Offer" class="" aria-label="剑指offer"><!--[--><!--]--> 剑指offer <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/common" class="" aria-label="常见算法"><!--[--><!--]--> 常见算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/10sortedAlgorithm" class="" aria-label="排序算法python"><!--[--><!--]--> 排序算法python <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/python_sword_for_offer" class="router-link-active" aria-label="剑指offer-python"><!--[--><!--]--> 剑指offer-python <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/labuladongNote" class="" aria-label="labuladong算法"><!--[--><!--]--> labuladong算法 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/vitotu" rel="noopener noreferrer" target="_blank" aria-label="github主页"><!--[--><!--]--> github主页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/js/jsBase" class="" aria-label="js基础"><!--[--><!--]--> js基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/js/es6+/" class="" aria-label="es6+基础"><!--[--><!--]--> es6+基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/js/jsPlus" class="" aria-label="js进阶"><!--[--><!--]--> js进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/js/jsHand" class="" aria-label="js手写系列"><!--[--><!--]--> js手写系列 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/js/typescript/" class="" aria-label="typescript"><!--[--><!--]--> typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>js读书笔记</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/js/jsAsync/" class="" aria-label="js异步编程"><!--[--><!--]--> js异步编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/js/jsDeep/" class="" aria-label="你不知道的js系列"><!--[--><!--]--> 你不知道的js系列 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue"><span class="title">Vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue"><span class="title">Vue</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/vue/vue2base" class="" aria-label="vue2基础"><!--[--><!--]--> vue2基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/vue2plus/" class="" aria-label="vue2进阶"><!--[--><!--]--> vue2进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/vue3base/" class="" aria-label="vue3基础"><!--[--><!--]--> vue3基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/vuex/" class="" aria-label="vuex"><!--[--><!--]--> vuex <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/vueRouter/" class="" aria-label="vue router"><!--[--><!--]--> vue router <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/vue/Pinia" class="" aria-label="pinia"><!--[--><!--]--> pinia <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/html/" class="" aria-label="html"><!--[--><!--]--> html <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="css"><span class="title">css</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="css"><span class="title">css</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/css/css3/" class="" aria-label="图解css3"><!--[--><!--]--> 图解css3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/css/css3plus/" class="" aria-label="css进阶"><!--[--><!--]--> css进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/css/scss/" class="" aria-label="scss"><!--[--><!--]--> scss <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/browser/browser" class="" aria-label="浏览器"><!--[--><!--]--> 浏览器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/network/webNetwork" class="" aria-label="网络通信"><!--[--><!--]--> 网络通信 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linuxNote/gitUseNote" class="" aria-label="git使用笔记"><!--[--><!--]--> git使用笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linuxNote/UbuntuUsingNode" class="" aria-label="linux使用记录"><!--[--><!--]--> linux使用记录 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="开发构建工具"><span class="title">开发构建工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="开发构建工具"><span class="title">开发构建工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/devToolsNote/npm-note" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/webpack/webpackNote" class="" aria-label="webpack基础"><!--[--><!--]--> webpack基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/webpack/webpack5Note" class="" aria-label="webpack5"><!--[--><!--]--> webpack5 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/micro-app/qiankun" class="" aria-label="qiankun"><!--[--><!--]--> qiankun <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/algorithm/tsClassicTop10SortAlgorithm" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/tsSword4Offer" class="" aria-label="剑指offer"><!--[--><!--]--> 剑指offer <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/common" class="" aria-label="常见算法"><!--[--><!--]--> 常见算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/10sortedAlgorithm" class="" aria-label="排序算法python"><!--[--><!--]--> 排序算法python <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/python_sword_for_offer" class="router-link-active" aria-label="剑指offer-python"><!--[--><!--]--> 剑指offer-python <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/algorithm/labuladongNote" class="" aria-label="labuladong算法"><!--[--><!--]--> labuladong算法 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/vitotu" rel="noopener noreferrer" target="_blank" aria-label="github主页"><!--[--><!--]--> github主页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">剑指offer代码Python实现 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-3-数组中重复的数字" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.3 数组中重复的数字"><!--[--><!--]--> NO.3 数组中重复的数字 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#题目一-找出数组中重复的数字" class="router-link-active router-link-exact-active sidebar-item" aria-label="题目一：找出数组中重复的数字"><!--[--><!--]--> 题目一：找出数组中重复的数字 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-4-二维数组中的查找" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.4 二维数组中的查找"><!--[--><!--]--> NO.4 二维数组中的查找 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-5-替换空格" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.5 替换空格"><!--[--><!--]--> NO.5 替换空格 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-6-从尾到头打印链表" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.6  从尾到头打印链表"><!--[--><!--]--> NO.6  从尾到头打印链表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-7-重建二叉树" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.7 重建二叉树"><!--[--><!--]--> NO.7 重建二叉树 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-8-二叉树的下一个节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.8 二叉树的下一个节点"><!--[--><!--]--> NO.8 二叉树的下一个节点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-9-用两个栈实现队列" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.9 用两个栈实现队列"><!--[--><!--]--> NO.9 用两个栈实现队列 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-10-斐波拉契数列" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.10 斐波拉契数列"><!--[--><!--]--> NO.10 斐波拉契数列 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#题目1-求斐波拉契数列的第n项" class="router-link-active router-link-exact-active sidebar-item" aria-label="题目1：求斐波拉契数列的第n项"><!--[--><!--]--> 题目1：求斐波拉契数列的第n项 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#题目2-青蛙跳台阶问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="题目2：青蛙跳台阶问题"><!--[--><!--]--> 题目2：青蛙跳台阶问题 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-11-旋转数组中的最小数字" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.11 旋转数组中的最小数字"><!--[--><!--]--> NO.11 旋转数组中的最小数字 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-12-矩阵中的路径" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.12 矩阵中的路径"><!--[--><!--]--> NO.12 矩阵中的路径 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-13-机器人的运动范围" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.13 机器人的运动范围"><!--[--><!--]--> NO.13 机器人的运动范围 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-14-剪绳子" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.14 剪绳子"><!--[--><!--]--> NO.14 剪绳子 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-15-二进制中1的个数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.15 二进制中1的个数"><!--[--><!--]--> NO.15 二进制中1的个数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-16-数值的整数次方" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.16 数值的整数次方"><!--[--><!--]--> NO.16 数值的整数次方 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-17-打印从1到最大的n位数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.17 打印从1到最大的n位数"><!--[--><!--]--> NO.17 打印从1到最大的n位数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-18-删除链表的节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.18 删除链表的节点"><!--[--><!--]--> NO.18 删除链表的节点 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#题目一-在o-1-时间内删除链表节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="题目一：在O(1)时间内删除链表节点"><!--[--><!--]--> 题目一：在O(1)时间内删除链表节点 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-19-正则表达式匹配" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.19 正则表达式匹配"><!--[--><!--]--> NO.19 正则表达式匹配 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-20-表示数值的字符串" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.20 表示数值的字符串"><!--[--><!--]--> NO.20 表示数值的字符串 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-21-调整数组顺序使奇数位于偶数前面" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.21 调整数组顺序使奇数位于偶数前面"><!--[--><!--]--> NO.21 调整数组顺序使奇数位于偶数前面 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-22-链表中倒数第k个节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.22 链表中倒数第K个节点"><!--[--><!--]--> NO.22 链表中倒数第K个节点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-23-链表中环的入口节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.23 链表中环的入口节点"><!--[--><!--]--> NO.23 链表中环的入口节点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-24-反转链表" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.24 反转链表"><!--[--><!--]--> NO.24 反转链表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-25-合并两个排序的链表" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.25 合并两个排序的链表"><!--[--><!--]--> NO.25 合并两个排序的链表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-26-树的子结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.26 树的子结构"><!--[--><!--]--> NO.26 树的子结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-27-二叉树的镜像" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.27 二叉树的镜像"><!--[--><!--]--> NO.27 二叉树的镜像 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-28-对称的二叉树" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.28 对称的二叉树"><!--[--><!--]--> NO.28 对称的二叉树 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-29-顺时针打印矩阵" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.29 顺时针打印矩阵"><!--[--><!--]--> NO.29 顺时针打印矩阵 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-30-包含min函数的栈" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.30 包含min函数的栈"><!--[--><!--]--> NO.30 包含min函数的栈 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-31-栈的压入、弹出序列" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.31 栈的压入、弹出序列"><!--[--><!--]--> NO.31 栈的压入、弹出序列 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-32-从上到下打印二叉树" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.32 从上到下打印二叉树"><!--[--><!--]--> NO.32 从上到下打印二叉树 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#题目一-不分行从上到下打印二叉树" class="router-link-active router-link-exact-active sidebar-item" aria-label="题目一：不分行从上到下打印二叉树"><!--[--><!--]--> 题目一：不分行从上到下打印二叉树 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#题目二-分行从上到下打印二叉树" class="router-link-active router-link-exact-active sidebar-item" aria-label="题目二：分行从上到下打印二叉树"><!--[--><!--]--> 题目二：分行从上到下打印二叉树 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#题目三-之字形打印二叉树" class="router-link-active router-link-exact-active sidebar-item" aria-label="题目三：之字形打印二叉树"><!--[--><!--]--> 题目三：之字形打印二叉树 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-33-二叉搜索树的后序遍历序列" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.33 二叉搜索树的后序遍历序列"><!--[--><!--]--> NO.33 二叉搜索树的后序遍历序列 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-34-二叉树中和为某一值的路径" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.34 二叉树中和为某一值的路径"><!--[--><!--]--> NO.34 二叉树中和为某一值的路径 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-35-复杂链表的复制" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.35 复杂链表的复制"><!--[--><!--]--> NO.35 复杂链表的复制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-36-二叉搜索树与双向链表" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.36 二叉搜索树与双向链表"><!--[--><!--]--> NO.36 二叉搜索树与双向链表 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-37-序列化二叉树" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.37 序列化二叉树"><!--[--><!--]--> NO.37 序列化二叉树 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-38-字符串的排列" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.38 字符串的排列"><!--[--><!--]--> NO.38 字符串的排列 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-39-数组中出现次数超过一半的数字" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.39 数组中出现次数超过一半的数字"><!--[--><!--]--> NO.39 数组中出现次数超过一半的数字 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-40-最小的k个数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.40 最小的k个数"><!--[--><!--]--> NO.40 最小的k个数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-41-数据流中的中位数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.41 数据流中的中位数"><!--[--><!--]--> NO.41 数据流中的中位数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-42-连续子数组的最大和" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.42 连续子数组的最大和"><!--[--><!--]--> NO.42 连续子数组的最大和 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-43-1-n-整数中1出现的次数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.43 [1,n]整数中1出现的次数"><!--[--><!--]--> NO.43 [1,n]整数中1出现的次数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-44-数字序列中某一位的数字" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.44 数字序列中某一位的数字"><!--[--><!--]--> NO.44 数字序列中某一位的数字 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-45-把数组排成最小的数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.45 把数组排成最小的数"><!--[--><!--]--> NO.45 把数组排成最小的数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-46-把数字翻译成字符串" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.46 把数字翻译成字符串"><!--[--><!--]--> NO.46 把数字翻译成字符串 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-47-礼物的最大价值" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.47 礼物的最大价值"><!--[--><!--]--> NO.47 礼物的最大价值 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-48-最长不含重复字符的字符串" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.48 最长不含重复字符的字符串"><!--[--><!--]--> NO.48 最长不含重复字符的字符串 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-49-丑数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.49 丑数"><!--[--><!--]--> NO.49 丑数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-50-第一个只出现一次的字符" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.50 第一个只出现一次的字符"><!--[--><!--]--> NO.50 第一个只出现一次的字符 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-51-数组中的逆序对" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.51 数组中的逆序对"><!--[--><!--]--> NO.51 数组中的逆序对 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-52-两个链表的第一个公共节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.52 两个链表的第一个公共节点"><!--[--><!--]--> NO.52 两个链表的第一个公共节点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-53-在排序数组中查找数字" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.53 在排序数组中查找数字"><!--[--><!--]--> NO.53 在排序数组中查找数字 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-54-二叉搜索树的第k大节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.54 二叉搜索树的第K大节点"><!--[--><!--]--> NO.54 二叉搜索树的第K大节点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-55-二叉树的深度" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.55 二叉树的深度"><!--[--><!--]--> NO.55 二叉树的深度 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-56-数组中数字出现的次数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.56 数组中数字出现的次数"><!--[--><!--]--> NO.56 数组中数字出现的次数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-57-和为s的数字" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.57 和为s的数字"><!--[--><!--]--> NO.57 和为s的数字 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-58-翻转字符串" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.58 翻转字符串"><!--[--><!--]--> NO.58 翻转字符串 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-59-队列的最大值" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.59 队列的最大值"><!--[--><!--]--> NO.59 队列的最大值 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-60-n个骰子的点数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.60 n个骰子的点数"><!--[--><!--]--> NO.60 n个骰子的点数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-61-扑克牌中的顺子" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.61 扑克牌中的顺子"><!--[--><!--]--> NO.61 扑克牌中的顺子 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-62-圆圈中最后剩下的数字" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.62 圆圈中最后剩下的数字"><!--[--><!--]--> NO.62 圆圈中最后剩下的数字 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-63-股票的最大利润" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.63 股票的最大利润"><!--[--><!--]--> NO.63 股票的最大利润 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-64-求1-2-n" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.64 求1+2+...+n"><!--[--><!--]--> NO.64 求1+2+...+n <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-65-不用加减乘除做加法" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.65 不用加减乘除做加法"><!--[--><!--]--> NO.65 不用加减乘除做加法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-66-构建乘积数组" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.66 构建乘积数组"><!--[--><!--]--> NO.66 构建乘积数组 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-67-把字符串转换成整数" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.67 把字符串转换成整数"><!--[--><!--]--> NO.67 把字符串转换成整数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/algorithm/python_sword_for_offer.html#no-68-树中两个节点的最低公共祖先" class="router-link-active router-link-exact-active sidebar-item" aria-label="NO.68 树中两个节点的最低公共祖先"><!--[--><!--]--> NO.68 树中两个节点的最低公共祖先 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="剑指offer代码python实现" tabindex="-1"><a class="header-anchor" href="#剑指offer代码python实现" aria-hidden="true">#</a> 剑指offer代码Python实现</h1><!----> _以下代码块结合了 [剑指offer][1] 和 [牛客网][2] 来编写，部分代码将在牛客网上进行测试，为了还原剑指offer的算法思想，代码完全仿照C++版进行编写，因此针对python语言还有一定的改进空间_ [1]https://pan.baidu.com/s/1pavnkxcIRgwR1sKmjosVAQ 提取码:za5n [2]https://www.nowcode.com/ta/coding-interviews <div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 示例 快速排序法</span>
<span class="token keyword">import</span> random
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">Partition</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;随机选择基准数，将较小数移到前方，返回基准数在调整顺序后的索引位置&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> data<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;Invalid Parameters&quot;</span><span class="token punctuation">)</span>
        index <span class="token operator">=</span> random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>

        temp <span class="token operator">=</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>end<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> temp

        small <span class="token operator">=</span> start <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">for</span> index <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">&lt;</span> data<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">:</span>
                small <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> small <span class="token operator">!=</span> index<span class="token punctuation">:</span>
                    temp <span class="token operator">=</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
                    data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>small<span class="token punctuation">]</span>
                    data<span class="token punctuation">[</span>small<span class="token punctuation">]</span> <span class="token operator">=</span> temp
        small <span class="token operator">+=</span> <span class="token number">1</span>

        temp <span class="token operator">=</span> data<span class="token punctuation">[</span>small<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>small<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>end<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> temp

        <span class="token keyword">return</span> small
    <span class="token keyword">def</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;快速排序法，输入需要排序的范围&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> start <span class="token operator">==</span> end<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        index <span class="token operator">=</span> self<span class="token punctuation">.</span>Partition<span class="token punctuation">(</span>data<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
        <span class="token keyword">if</span> index <span class="token operator">&gt;</span> start<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>QuickSort<span class="token punctuation">(</span>data<span class="token punctuation">,</span> start<span class="token punctuation">,</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> index <span class="token operator">&lt;</span> end<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>QuickSort<span class="token punctuation">(</span>data<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span>
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">76</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span>QuickSort<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
data
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-3-数组中重复的数字" tabindex="-1"><a class="header-anchor" href="#no-3-数组中重复的数字" aria-hidden="true">#</a> NO.3 数组中重复的数字</h2><h3 id="题目一-找出数组中重复的数字" tabindex="-1"><a class="header-anchor" href="#题目一-找出数组中重复的数字" aria-hidden="true">#</a> 题目一：找出数组中重复的数字</h3><p>在一个长度为n的数组中素有的数字都在[0, n-1]范围内。<br> 请找出数组中任意一个重复的数字。<br> 例如，输入长度为7的数组{2,3,1,0,2,5,3}，那么对应输出的重复数字是2或3，若没有重复的元素则直接返回-1.</p><ul><li>解题思路：利用列表下标作为哈希表，通过元素互换逐步构建哈希表，若遇到相等的数字则通过下标索引key必然能检测到重复数字</li><li>步骤：</li></ul><ol><li>遍历数组，若i位置的值<code>arr[i]</code>不等于i，则进行步骤2</li><li>以该值为索引判断<code>arr[i]</code>是否与<code>arr[arr[i]]</code>位置的值相等,若相等则说明找到重复的元素，否则进行值交换。</li><li>交换后再次判断，重复步骤2，直到<code>arr[i] = i</code>，继续进行遍历</li><li>遍历完成还没有找到重复的元素则直接返回-1</li></ol><ul><li>总结 算法利用了哈希表思想，利用数组的索引作为key，每个数字最多交换两次就能放到合适的位置，因此时间复杂度为O(n)</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">duplicate</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    
    Arg(Argument参数): nums:list[int]
    Re(return): 若未找到重复数字，或者列表元素不符合要求将返回bool False，否则返回检索到的重复数字
    算法分析：尽管有两重循环，但每个数字最多只要交换两次就能找到属于它的位置，所以总体算法复杂度为O(n)空间复杂度为O(1)
    &quot;&quot;&quot;</span>
    length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    <span class="token keyword">if</span> length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">while</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> i<span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> nums<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token comment">#如果不相等就互换位置</span>
                temp <span class="token operator">=</span> nums<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>
                nums<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp
<span class="token comment">#                 nums[i], nums[nums[i]] = nums[nums[i] - 1], nums[i] 逗号赋值并非同时进行，在这种情况下无法得到正确结果</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>
<span class="token comment">#测试用例</span>
nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>duplicate<span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>2
</code></pre><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 牛客网版代码</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">duplicate</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> duplication<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用列表下标作为哈希表，通过元素互换逐步构建哈希表，若遇到相等的数字则通过下标索引key必然能检测到重复数字
        Arg(Argument参数): nums:list[int]
        Re(return): 若未找到重复数字，或者列表元素不符合要求将返回bool False，否则返回检索到的重复数字
        算法分析：尽管有两重循环，但每个数字最多只要交换两次就能找到属于它的位置，所以总体算法复杂度为O(n)空间复杂度为O(1)
        &quot;&quot;&quot;</span>
        length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
        <span class="token keyword">if</span> length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">False</span>
            <span class="token keyword">while</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> i<span class="token punctuation">:</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> nums<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># 如果不相等就互换位置</span>
                    temp <span class="token operator">=</span> nums<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>
                    nums<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                    nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    duplication<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                    <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目二：(接题目一中)增加限定条件：不修改数组找出重复的数字<br> 解题思路：利用二分查找法原理，确定中值，统计数组中比中值小或者比中值大的数字的个数，以此确定重复的数字在中值左侧还是右侧</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">countRange</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;统计nums中所有元素值在区间[start, end]中的数的个数
    &quot;&quot;&quot;</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> nums<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> start <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> end<span class="token punctuation">:</span>
            count <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> count

<span class="token keyword">def</span> <span class="token function">getDuplication</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;利用二分查找法来找出数组中任意一重复数字 (注意，此方法不能很好的解决此类问题，偶尔会出现错误)&quot;&quot;&quot;</span>
    length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    <span class="token keyword">if</span> length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    start <span class="token operator">=</span> <span class="token number">0</span>
    end <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">while</span> end <span class="token operator">&gt;=</span> start<span class="token punctuation">:</span>
        middle <span class="token operator">=</span> <span class="token punctuation">(</span>end <span class="token operator">+</span> start<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>  <span class="token comment"># 利用右移操作除二取整</span>
        count <span class="token operator">=</span> countRange<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> start<span class="token punctuation">,</span> middle<span class="token punctuation">)</span>
        <span class="token keyword">if</span> end <span class="token operator">==</span> start<span class="token punctuation">:</span>
            <span class="token keyword">if</span> count <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> start
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">break</span>
        <span class="token comment"># 如果count的数量大于该值区间长度，则此区间中必有重复数值，反之类似</span>
        <span class="token keyword">if</span> count <span class="token operator">&gt;</span> <span class="token punctuation">(</span>middle <span class="token operator">-</span> start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            end <span class="token operator">=</span> middle
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            start <span class="token operator">=</span> middle <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>
<span class="token comment">#测试用例</span>
nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>getDuplication<span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-4-二维数组中的查找" tabindex="-1"><a class="header-anchor" href="#no-4-二维数组中的查找" aria-hidden="true">#</a> NO.4 二维数组中的查找</h2><p>在一个二维数组中，每一行都按照从左到右的递增顺序排列，每一列都按照从上到下递增的顺序排列，请完成一个函数，输入这样的二维数组和一个整数，判断数组中是否含有该整数.</p><ul><li>解题思路:</li></ul><ol><li>首先选取数组右上角的数字，如果该数字大于目标数字则排除该列，小于则排除该行</li><li>向下或向左移动指针，直到等于目标或者范围为空停止</li></ol><ul><li>总结 其本质是二分查找法的变体，时间复杂度为O(m+n)</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">Find</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token keyword">or</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    i <span class="token operator">=</span> <span class="token number">0</span>
    j <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">while</span> i <span class="token operator">&lt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token keyword">and</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">:</span>
            j <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">:</span>
            i <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-5-替换空格" tabindex="-1"><a class="header-anchor" href="#no-5-替换空格" aria-hidden="true">#</a> NO.5 替换空格</h2><p>题目：请实现一个函数，把字符串中的每个空格替换成&quot;%20&quot;。例如，输入&quot;We are happy.&quot;，则输出&quot;We%20are%20happy.&quot;。</p><ul><li>解题思路：</li></ul><ol><li>先遍历一遍字符串统计空格的个数</li><li>然后分配足够的存储空间</li><li>从后向前的依次替换空格 (算法时间效率O(n))</li></ol><ul><li>总结 此题考察数组合并，从后向前填充数组可减少移动次数，时间复杂度为O(n)</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">ReplaceBlank</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;使用字符型列表来替换str类型，更好的诠释算法思想。若用str类型来做:string.replace(&#39; &#39;, &#39;%20&#39;)即可
    输入：string:list[char]
    输出：string：str
    &quot;&quot;&quot;</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> string<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>
    numOfBlank <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> string<span class="token punctuation">:</span>
        <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">:</span>
            numOfBlank <span class="token operator">+=</span> <span class="token number">1</span>
    originalLength <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
    newlength <span class="token operator">=</span> originalLength <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span>numOfBlank
    string <span class="token operator">=</span> string <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token string">&#39;&#39;</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">2</span><span class="token operator">*</span>numOfBlank
    <span class="token keyword">while</span> originalLength <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> newlength <span class="token operator">&gt;</span> originalLength<span class="token punctuation">:</span>
        <span class="token comment">#  从后往前替换空格</span>
        <span class="token keyword">if</span> string<span class="token punctuation">[</span>originalLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">:</span>
            string<span class="token punctuation">[</span>newlength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span>
            string<span class="token punctuation">[</span>newlength <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;2&#39;</span>
            string<span class="token punctuation">[</span>newlength <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;%&#39;</span>
            newlength <span class="token operator">-=</span> <span class="token number">3</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            string<span class="token punctuation">[</span>newlength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> string<span class="token punctuation">[</span>originalLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
            newlength <span class="token operator">-=</span> <span class="token number">1</span>
        originalLength <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>string<span class="token punctuation">)</span>

string <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;W&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;e&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;r&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;e&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;h&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;p&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;p&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.&#39;</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ReplaceBlank<span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-6-从尾到头打印链表" tabindex="-1"><a class="header-anchor" href="#no-6-从尾到头打印链表" aria-hidden="true">#</a> NO.6 从尾到头打印链表</h2><p>题目：输入一个链表的头节点，从尾到头反过来打印出每个节点的值。<br> 解题思路：利用栈的先进后出特性存储链表然后再输出(或者利用递归函数)</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment">#创建链表类</span>
<span class="token keyword">class</span> <span class="token class-name">ListNode</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;创建链表类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>val <span class="token operator">=</span> x
        self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token comment">#反转打印函数</span>
<span class="token keyword">def</span> <span class="token function">PrintListReversingly_Iteratively</span><span class="token punctuation">(</span>phead<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;利用栈来实现反向打印链表&quot;&quot;&quot;</span>
    pNode <span class="token operator">=</span> phead
    stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>val <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;None！&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> pNode <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
        pNode <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
    <span class="token keyword">while</span> stack <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">PrintListReversingly_Recursively</span><span class="token punctuation">(</span>phead<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;使用递归函数进行反向打印&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> phead <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> phead<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            PrintListReversingly_Recursively<span class="token punctuation">(</span>phead<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>phead<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
<span class="token comment">#测试用例代码</span>
<span class="token comment">##创建链表</span>
head <span class="token operator">=</span> ListNode<span class="token punctuation">(</span><span class="token string">&#39;head-&gt;&#39;</span><span class="token punctuation">)</span>
pnode <span class="token operator">=</span> head
valueList <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">&#39;abcdefg&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> valueList<span class="token punctuation">:</span>
    pnode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> ListNode<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    pnode <span class="token operator">=</span> pnode<span class="token punctuation">.</span><span class="token builtin">next</span>
<span class="token comment">#验证链表用代码</span>
<span class="token triple-quoted-string string">&#39;&#39;&#39;
pnode = head
while pnode != None:
    print(pnode.val)
    pnode = pnode.next
print(head.val)
&#39;&#39;&#39;</span>
<span class="token comment">#测试打印函数</span>
PrintListReversingly_Iteratively<span class="token punctuation">(</span>head<span class="token punctuation">)</span>
PrintListReversingly_Recursively<span class="token punctuation">(</span>head<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment">#牛客网解题对应函数(不要在此cell中运行)</span>
<span class="token keyword">def</span> <span class="token function">printListFromTailToHead</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> listNode<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&#39;&#39;&#39;利用栈实现反向输出链表&#39;&#39;&#39;</span>
    pNode <span class="token operator">=</span> listNode
    stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> pNode <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> stack
    <span class="token keyword">while</span> pNode <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
        pNode <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
    stack<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> stack

<span class="token keyword">def</span> <span class="token function">printListFromTailToHead</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> listNode<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&#39;&#39;&#39;利用递归函数反向输出链表&#39;&#39;&#39;</span>
    <span class="token keyword">if</span> listNode <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>printListFromTailToHead<span class="token punctuation">(</span>listNode<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">[</span>listNode<span class="token punctuation">.</span>val<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-7-重建二叉树" tabindex="-1"><a class="header-anchor" href="#no-7-重建二叉树" aria-hidden="true">#</a> NO.7 重建二叉树</h2><p>题目：输入某二叉树的前序遍历和中序遍历的结果，请重建该二叉树。假设输入的前序遍历和中序遍历的结果中都不含重复数字。例如输入前序遍历序列{1,2,4,7,3,5,6,8}和中序遍历序列{4,7,2,1,5,3,8,6}，则重建如下入的二叉树并输出它的头节点。</p><ul><li>解析 前序遍历:根左右；中序遍历：左根右；后序遍历：左右根</li><li>思路 <ol><li>前序序列中第一个数为根节点parent</li><li>找到中序序列中parent的位置，其前方为左子树，后方为右子树</li><li>根据中序序列中左右子树的长度在前序序列中分割左右子树</li><li>重复1-3步骤，递归的重建左右子树</li></ol></li><li>图例 <img src="/assets/n7-01.467918ee.png" alt="n7-01.png"></li></ul><p><img src="/assets/n7-02.cbcd022d.png" alt="n7-02.png"></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">BinaryTreeNode</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&#39;&#39;&#39;创建二叉树节点&#39;&#39;&#39;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>val <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token boolean">None</span>
        self<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token keyword">def</span> <span class="token function">preTree</span><span class="token punctuation">(</span>treehead<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的先根序遍历二叉树，返回列表序列&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> treehead <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>treehead<span class="token punctuation">.</span>val<span class="token punctuation">]</span> <span class="token operator">+</span> preTree<span class="token punctuation">(</span>treehead<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> preTree<span class="token punctuation">(</span>treehead<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">tinTree</span><span class="token punctuation">(</span>treehead<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的中根序遍历二叉树，返回列表序列&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> treehead <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> tinTree<span class="token punctuation">(</span>treehead<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">[</span>treehead<span class="token punctuation">.</span>val<span class="token punctuation">]</span> <span class="token operator">+</span> tinTree<span class="token punctuation">(</span>treehead<span class="token punctuation">.</span>right<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">_ConstructBinaryTree</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span>tin<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;递归调用构造子二叉树&quot;&quot;&quot;</span>
    root <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span>pre<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment">#递归终止条件</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tin<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> pre<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> tin<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> root
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;input error&quot;</span><span class="token punctuation">)</span>
    rootInorderIndex <span class="token operator">=</span> tin<span class="token punctuation">.</span>index<span class="token punctuation">(</span>pre<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tin<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> tin<span class="token punctuation">[</span>rootInorderIndex<span class="token punctuation">]</span> <span class="token operator">!=</span> root<span class="token punctuation">.</span>val<span class="token punctuation">:</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;input error&quot;</span><span class="token punctuation">)</span>
    left <span class="token operator">=</span> tin<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>rootInorderIndex<span class="token punctuation">]</span>
    right <span class="token operator">=</span> tin<span class="token punctuation">[</span>rootInorderIndex<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        root<span class="token punctuation">.</span>left <span class="token operator">=</span> _ConstructBinaryTree<span class="token punctuation">(</span>pre<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> left<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        root<span class="token punctuation">.</span>right <span class="token operator">=</span> _ConstructBinaryTree<span class="token punctuation">(</span>pre<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span>
    <span class="token keyword">return</span> root
<span class="token keyword">def</span> <span class="token function">reConstructBinaryTree</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span> tin<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;初始判断输入是否合法，并递归调用构造函数&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> pre <span class="token keyword">or</span> <span class="token keyword">not</span> tin<span class="token punctuation">:</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;input error&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> _ConstructBinaryTree<span class="token punctuation">(</span>pre<span class="token punctuation">,</span> tin<span class="token punctuation">)</span>
<span class="token comment">#测试代码</span>
prelist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
tinlist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
treehead <span class="token operator">=</span> reConstructBinaryTree<span class="token punctuation">(</span>prelist<span class="token punctuation">,</span> tinlist<span class="token punctuation">)</span>
<span class="token comment">#验证prelist和tinlist</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tinTree<span class="token punctuation">(</span>treehead<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment">#牛客网通过代码   (#####!!不要运行此段代码!!#####)</span>
<span class="token keyword">def</span> <span class="token function">_ConstructBinaryTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>pre<span class="token punctuation">,</span>tin<span class="token punctuation">)</span><span class="token punctuation">:</span>
    root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>pre<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tin<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> pre<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> tin<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> root
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    rootInorderIndex <span class="token operator">=</span> tin<span class="token punctuation">.</span>index<span class="token punctuation">(</span>pre<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tin<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> tin<span class="token punctuation">[</span>rootInorderIndex<span class="token punctuation">]</span> <span class="token operator">!=</span> root<span class="token punctuation">.</span>val<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    left <span class="token operator">=</span> tin<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>rootInorderIndex<span class="token punctuation">]</span>
    right <span class="token operator">=</span> tin<span class="token punctuation">[</span>rootInorderIndex<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>_ConstructBinaryTree<span class="token punctuation">(</span>pre<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> left<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>_ConstructBinaryTree<span class="token punctuation">(</span>pre<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span>right<span class="token punctuation">)</span>
    <span class="token keyword">return</span> root
<span class="token keyword">def</span> <span class="token function">reConstructBinaryTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pre<span class="token punctuation">,</span> tin<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> pre <span class="token keyword">or</span> <span class="token keyword">not</span> tin<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">None</span>
    <span class="token keyword">return</span> self<span class="token punctuation">.</span>_ConstructBinaryTree<span class="token punctuation">(</span>pre<span class="token punctuation">,</span> tin<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-8-二叉树的下一个节点" tabindex="-1"><a class="header-anchor" href="#no-8-二叉树的下一个节点" aria-hidden="true">#</a> NO.8 二叉树的下一个节点</h2><p>题目：给定一颗二叉树和其中的一个节点，如何找出中序遍历序列的下一个节点？树中的节点除了有两个分别指向左、右子节点的指针，还有一个指向父节点的指针。</p><ul><li>思路： <ol><li>若该子节点有右子树，则右子树的中序遍历序列第一个节点即为下一个节点</li><li>若无右子树，且是其父节点的左子节点，则下一个节点为父节点</li><li>若无右子树，且为父节点的右节点，则向上遍历，直到找到一个节点为其父节点的左子节点，则该节点的父节点为下一个节点</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">BinaryTreeNode</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&#39;&#39;&#39;创建二叉树节点&#39;&#39;&#39;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>val <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token boolean">None</span>
        self<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token boolean">None</span>
        self<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token boolean">None</span>

<span class="token keyword">def</span> <span class="token function">GetNext</span><span class="token punctuation">(</span>pNode<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;获取&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> pNode <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">None</span>
    pNext <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token comment">#若存在右子树，则右子树中最左侧的节点是下一节点</span>
        pRight <span class="token operator">=</span> pNode<span class="token punctuation">.</span>right
        <span class="token keyword">while</span> pRight<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pRight <span class="token operator">=</span> pRight<span class="token punctuation">.</span>left
        pNext <span class="token operator">=</span> pRight
    <span class="token keyword">elif</span> pNode<span class="token punctuation">.</span>parent <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token comment">#若右子树不存在，则父节点中是左子树的父节点是下一节点</span>
        pCurrent <span class="token operator">=</span> pNode
        pParent <span class="token operator">=</span> pNode<span class="token punctuation">.</span>parent
        <span class="token keyword">while</span> pParent <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pCurrent <span class="token operator">==</span> pParent<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
            pCurrent <span class="token operator">=</span> pParent
            pParent <span class="token operator">=</span> pParent<span class="token punctuation">.</span>parent
        pNext <span class="token operator">=</span> pParent
    <span class="token keyword">return</span> pNext
<span class="token comment">#test code</span>
<span class="token comment">#tin=list(&#39;dbheiafcg&#39;)</span>
<span class="token comment">#pre=list(&#39;abdehicfg&#39;)</span>
headNode <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>
headNode<span class="token punctuation">.</span>left <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span>
headNode<span class="token punctuation">.</span>left<span class="token punctuation">.</span>parent <span class="token operator">=</span> headNode
pNode <span class="token operator">=</span> headNode<span class="token punctuation">.</span>left
pNode<span class="token punctuation">.</span>left <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token string">&#39;d&#39;</span><span class="token punctuation">)</span>
pNode<span class="token punctuation">.</span>right <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token string">&#39;e&#39;</span><span class="token punctuation">)</span>
pNode<span class="token punctuation">.</span>left<span class="token punctuation">.</span>parent <span class="token operator">=</span> pNode
pNode<span class="token punctuation">.</span>right<span class="token punctuation">.</span>parent <span class="token operator">=</span> pNode
pNode <span class="token operator">=</span> pNode<span class="token punctuation">.</span>right
pNode<span class="token punctuation">.</span>left <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token string">&#39;h&#39;</span><span class="token punctuation">)</span>
pNode<span class="token punctuation">.</span>right <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token string">&#39;i&#39;</span><span class="token punctuation">)</span>
pNode<span class="token punctuation">.</span>left<span class="token punctuation">.</span>parent <span class="token operator">=</span> pNode
pNode<span class="token punctuation">.</span>right<span class="token punctuation">.</span>parent <span class="token operator">=</span> pNode
headNode<span class="token punctuation">.</span>right <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token string">&#39;c&#39;</span><span class="token punctuation">)</span>
headNode<span class="token punctuation">.</span>right<span class="token punctuation">.</span>parent <span class="token operator">=</span> headNode
pNode <span class="token operator">=</span> headNode<span class="token punctuation">.</span>right
pNode<span class="token punctuation">.</span>left <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token string">&#39;f&#39;</span><span class="token punctuation">)</span>
pNode<span class="token punctuation">.</span>right <span class="token operator">=</span> BinaryTreeNode<span class="token punctuation">(</span><span class="token string">&#39;g&#39;</span><span class="token punctuation">)</span>
pNode<span class="token punctuation">.</span>left<span class="token punctuation">.</span>parent <span class="token operator">=</span> pNode
pNode<span class="token punctuation">.</span>right<span class="token punctuation">.</span>parent <span class="token operator">=</span> pNode


result <span class="token operator">=</span> GetNext<span class="token punctuation">(</span>pNode<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 牛客网版代码</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">GetNext</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pNode<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> pNode <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        pNext <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token comment"># 若存在右子树，则右子树中最左侧的节点是下一节点</span>
            pRight <span class="token operator">=</span> pNode<span class="token punctuation">.</span>right
            <span class="token keyword">while</span> pRight<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                pRight <span class="token operator">=</span> pRight<span class="token punctuation">.</span>left
            pNext <span class="token operator">=</span> pRight
        <span class="token keyword">elif</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token comment"># 若右子树不存在，则父节点中是左子树的父节点是下一节点</span>
            pCurrent <span class="token operator">=</span> pNode
            pParent <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            <span class="token keyword">while</span> pParent <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pCurrent <span class="token operator">==</span> pParent<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
                pCurrent <span class="token operator">=</span> pParent
                pParent <span class="token operator">=</span> pParent<span class="token punctuation">.</span><span class="token builtin">next</span>
            pNext <span class="token operator">=</span> pParent
        <span class="token keyword">return</span> pNext
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-9-用两个栈实现队列" tabindex="-1"><a class="header-anchor" href="#no-9-用两个栈实现队列" aria-hidden="true">#</a> NO.9 用两个栈实现队列</h2><p>题目：用两个栈实现一个队列。队列的声明如下，请实现它的两个函数appendTail和deleteHead，分别完成在队列尾部插入节点在队列头部删除节点的功能。</p><ul><li>解题思路： <ol><li>利用栈1入队，在栈2为空时将栈1中的元素通过出栈，再入栈的方式转移到栈2中实现反序</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>stack1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>stack2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>stack1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stack2<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token comment">#若栈2为空则转移已入栈元素</span>
            <span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stack1<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>stack2<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stack1<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stack2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token comment">#若已转移元素之后栈2还是空，则说明队列为空</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&#39;queue is empty&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>stack2<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#测试代码</span>
inqueue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
testqueue <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> inqueue<span class="token punctuation">:</span>
    testqueue<span class="token punctuation">.</span>push<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token keyword">while</span> testqueue<span class="token punctuation">.</span>stack1 <span class="token keyword">or</span> testqueue<span class="token punctuation">.</span>stack2<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>testqueue<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-10-斐波拉契数列" tabindex="-1"><a class="header-anchor" href="#no-10-斐波拉契数列" aria-hidden="true">#</a> NO.10 斐波拉契数列</h2><h3 id="题目1-求斐波拉契数列的第n项" tabindex="-1"><a class="header-anchor" href="#题目1-求斐波拉契数列的第n项" aria-hidden="true">#</a> 题目1：求斐波拉契数列的第n项</h3><p>[斐波拉契数列定义] f(n) = f(n-1) + f(n-2)、f(0) = 0、f(1) = 1</p><ul><li>解题思路： <ol><li>可以用递归的方式来实现，但算法效率低，使用循环来代替递归会更好，循环的方式时间复杂度为O(n)</li><li>还可通过矩阵快速求幂的方式计算时间复杂度为O(log(n))，进一步的可通过矩阵特征值及特征向量求出数列通项，从而实现O(1)时间复杂度</li></ol></li></ul><h3 id="题目2-青蛙跳台阶问题" tabindex="-1"><a class="header-anchor" href="#题目2-青蛙跳台阶问题" aria-hidden="true">#</a> 题目2：青蛙跳台阶问题</h3><p>一只青蛙一次可以跳上一级台阶，也可以跳上2级台阶。求该青蛙跳上一个n级台阶总共有多少种跳法。</p><p>解题思路：</p><ol><li>设有f(n)种方法，</li><li>n=1时f(1) = 1,</li><li>n=2时f(2) = 2，</li><li>n&gt;2时，先跳一级，剩余还有f(n-1)种方法，先跳2级，剩余还有f(n-2)种方法，所以f(n) = f(n-1) + f(n-2)，因此与斐波拉契数列相似</li><li>为保证大数相加时整数不溢出，通常需要先对相加结果1e9+7取余</li></ol><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">Fibonacci</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;从小到大计算，类推出第n项，时间复杂度O(n)比递归小&quot;&quot;&quot;</span>
    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> result<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
    fibOne <span class="token operator">=</span> <span class="token number">1</span>
    fibTwo <span class="token operator">=</span> <span class="token number">0</span>
    temp <span class="token operator">=</span> <span class="token boolean">None</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        temp <span class="token operator">=</span> fibOne <span class="token operator">+</span> fibTwo
        fibTwo <span class="token operator">=</span> fibOne
        fibOne <span class="token operator">=</span> temp
    <span class="token keyword">return</span> temp
Fibonacci<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">FibonacciM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;利用数学公式[[f(n), f(n-1)], [f(n-1), f(n-2)]] = [[1, 1], [1,0]]^(n-1)。此方法时间复杂度为O(log(n))&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;此函数待实现，留作练习&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;函数Fibonacci在牛客网上测试通过&quot;&quot;&quot;</span>

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;青蛙台阶问题、矩形覆盖问题&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">jumpFloor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> number <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> result<span class="token punctuation">[</span>number<span class="token punctuation">]</span>
        fibOne <span class="token operator">=</span> <span class="token number">2</span>
        fibTwo <span class="token operator">=</span> <span class="token number">1</span>
        fibN <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>number<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            fibN <span class="token operator">=</span> fibOne <span class="token operator">+</span> fibTwo
            fibTwo <span class="token operator">=</span> fibOne
            fibOne <span class="token operator">=</span> fibN
        <span class="token keyword">return</span> fibN
    
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;青蛙跳台阶变态版：青蛙每次可以跳任意级&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">jumpFloorII</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> number <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        <span class="token keyword">return</span> <span class="token number">2</span><span class="token operator">**</span><span class="token punctuation">(</span>number <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-11-旋转数组中的最小数字" tabindex="-1"><a class="header-anchor" href="#no-11-旋转数组中的最小数字" aria-hidden="true">#</a> NO.11 旋转数组中的最小数字</h2><p>题目：把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。输入一个递增排序的数组的一个旋转，输出旋转数组的最小元素。例如，数组[3,4,5,1,2]为[1,2,3,4,5]的一个旋转，该数组的最小值为1.</p><ul><li>解题思路： 旋转后的排序数组是由两个已排好序的子数组组成， 利用对撞指针的二分查找法逐步缩小查找范围， 但若遇上大量重复数字时，需要遍历子数组进行查找(算法基于二分查找，时间复杂度为O(log(n))) <ol><li>定义start、mid、end三个指针，分别指向数组的起始、中间、末尾</li><li>若剩余序列长度为2，则end一定为最小的元素，mid指向end，跳出循环</li><li>取mid = start + (end - start) / 2 即正中间位置</li><li>若start、mid、end所指向的元素都相等，则无法判断最小值位于左子序列还是右子序列，只能对序列进行遍历取得最小值</li><li>若start的元素小于或等于mid的元素，则说明最小元素在右子序列，若end的元素大于或等于mid则说明最小元素在左子序列</li><li>递归的重复2-5步骤，直到start的元素大于或等于end不成立，最后能保证mid指向最小元素</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">MinInorder</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;顺序查找最小数字子函数&quot;&quot;&quot;</span>
    result <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> nums<span class="token punctuation">:</span>
        <span class="token keyword">if</span> i <span class="token operator">&lt;</span> result<span class="token punctuation">:</span>
            result <span class="token operator">=</span> i
    <span class="token keyword">return</span> result

<span class="token keyword">def</span> <span class="token function">Min</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> nums<span class="token punctuation">:</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;无效的输入&quot;</span><span class="token punctuation">)</span>
    length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    <span class="token keyword">if</span> length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    start <span class="token operator">=</span> <span class="token number">0</span>
    end <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span>
    mid <span class="token operator">=</span> start
    <span class="token keyword">while</span> nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> nums<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> end <span class="token operator">-</span> start <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            mid <span class="token operator">=</span> end
            <span class="token keyword">break</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>end <span class="token operator">+</span> start<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> MinInorder<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>start<span class="token punctuation">:</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">:</span>
            start <span class="token operator">=</span> mid
        <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">:</span>
            end <span class="token operator">=</span> mid
    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span>


<span class="token comment"># test code</span>
<span class="token triple-quoted-string string">&quot;&quot;&quot;在牛客网上通过测试&quot;&quot;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-12-矩阵中的路径" tabindex="-1"><a class="header-anchor" href="#no-12-矩阵中的路径" aria-hidden="true">#</a> NO.12 矩阵中的路径</h2><p>题目： 请设计一个函数，用来判断在一个矩阵中是否存在一条包含某字符串的所有字符的路径。<br> 路径可以从矩阵中的任意一格开始，每一步可以在矩阵中向左、右、上、下移动一格。<br> 如果一条路径经过了矩阵的某一格，那么该路径不能再次进入该格子。<br> 例如，在下面的3*4的矩阵中包含一条字符串“bfce”的路径(路径中的字母用大写标出)。<br> 但矩阵中不包含字符串“abfb”的路径，因为字符串的第一个字符b占据了矩阵中的第一行第二个格子后，路径不能再次进入这个格子。 $$\begin{matrix} a&amp;B&amp;t&amp;g\ c&amp;F&amp;C&amp;s\ j&amp;d&amp;E&amp;h\ \end{matrix}$$</p><ul><li>解题思路：利用回溯法，若当前路径不通，则回溯上一节点，尝试未尝试过的路径 <ol><li>维护一个访问矩阵visited，若对应位置被占据则记为true，遍历目标矩阵matrix，</li><li>指针p所指向的str中的字符，若等于遍历位置的字符，则将指针p移动一个位置，并标记visited，递归判断字符上下左右位置是否存在移动后的p指向的字符</li><li>若不存在则回溯，p指针回退一步，并还原标记visited，结束该节点的递归</li><li>若一直满足步骤2中的条件，则递归结束条件为p大于str长度，并返回true表示找到路径</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">hasPathCore</span><span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> strs<span class="token punctuation">,</span> visited<span class="token punctuation">,</span> pathLength<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;递归调用自己，探索每一个节点&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> pathLength <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    result <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token keyword">if</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span> <span class="token keyword">and</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> j <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">and</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> strs<span class="token punctuation">[</span>pathLength<span class="token punctuation">]</span> <span class="token keyword">and</span> <span class="token keyword">not</span> visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token comment"># 索引范围正确且此时矩阵的值和字符串的值相匹配，并且此点未被占据过，则递归探索下一符合要求的点</span>
        pathLength <span class="token operator">+=</span> <span class="token number">1</span>
        visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
        result <span class="token operator">=</span> hasPathCore<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span> <span class="token keyword">or</span> hasPathCore<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>j<span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span> \
        <span class="token keyword">or</span> hasPathCore<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span> <span class="token keyword">or</span> hasPathCore<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>j<span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span>
        <span class="token comment"># 递归探索四个方向的下一节点是否符合要求，若不符合要求则退回上一节点</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> result<span class="token punctuation">:</span>
            pathLength <span class="token operator">-=</span> <span class="token number">1</span>
            visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token keyword">return</span> result

<span class="token keyword">def</span> <span class="token function">hasPath</span><span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>strs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> matrix <span class="token keyword">or</span> <span class="token keyword">not</span> strs<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    rows <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span>
    clos <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment"># visited = [[False]*clos]*rows </span>
    <span class="token comment"># 这样构造矩阵，其行将会是第一行的浅拷贝，修改任一元素，将引起整列元素同时被改，因此采用下面的循环进行构造</span>
    visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token operator">*</span>clos <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">]</span>
    pathLength <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>clos<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment">#双循环遍历每一个点作为起点</span>
            <span class="token keyword">if</span> hasPathCore<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token comment">#test code</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">3</span>
a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">&#39;abtg&#39;</span><span class="token punctuation">)</span>
a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">&#39;cfcs&#39;</span><span class="token punctuation">)</span>
a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">&#39;jdeh&#39;</span><span class="token punctuation">)</span>
strs <span class="token operator">=</span> <span class="token string">&#39;tegsc&#39;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>hasPath<span class="token punctuation">(</span>a<span class="token punctuation">,</span> strs<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 牛客网版代码</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">hasPathCore</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> matrix<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> strs<span class="token punctuation">,</span> visited<span class="token punctuation">,</span> pathLength<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归调用自己，探索每一个节点&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> pathLength <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        result <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span> <span class="token keyword">and</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> j <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">and</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> strs<span class="token punctuation">[</span>pathLength<span class="token punctuation">]</span> <span class="token keyword">and</span> <span class="token keyword">not</span> visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token comment"># 索引范围正确且此时矩阵的值和字符串的值相匹配，并且此点未被占据过，则递归探索下一符合要求的点</span>
            pathLength <span class="token operator">+=</span> <span class="token number">1</span>
            visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
            result <span class="token operator">=</span> self<span class="token punctuation">.</span>hasPathCore<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>hasPathCore<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>j<span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>hasPathCore<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>hasPathCore<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>j<span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span>
            <span class="token comment"># 递归探索四个方向的下一节点是否符合要求，若不符合要求则退回上一节点</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> result<span class="token punctuation">:</span>
                pathLength <span class="token operator">-=</span> <span class="token number">1</span>
                visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">return</span> result
    
    <span class="token keyword">def</span> <span class="token function">hasPath</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> matrix<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> strs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> matrix <span class="token keyword">or</span> <span class="token keyword">not</span> strs<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">list</span><span class="token punctuation">(</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">:</span>i<span class="token operator">+</span>cols<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">,</span> cols<span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token comment"># visited = [[False]*clos]*rows</span>
        <span class="token comment"># 这样构造矩阵，其行将会是第一行的浅拷贝，修改任一元素，将引起整列元素同时被改，因此采用下面的循环进行构造</span>
        visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token operator">*</span>cols <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">]</span>
        pathLength <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>cols<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment">#双循环遍历每一个点作为起点</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>hasPathCore<span class="token punctuation">(</span>temp<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>strs<span class="token punctuation">,</span>visited<span class="token punctuation">,</span>pathLength<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-13-机器人的运动范围" tabindex="-1"><a class="header-anchor" href="#no-13-机器人的运动范围" aria-hidden="true">#</a> NO.13 机器人的运动范围</h2><p>题目：地上有一个m×n的方格。一个机器人从坐标(0, 0)的格子开始移动，它每次可以向左、右、上、下移动一格，但不能进入行坐标和列坐标的位数之和大于k的格子。例如，当k=18时，机器人能够进入方格(35,37),因为3+5+3+7=18。但它不能进入方格(35, 38)，因为3+5+3+8=19。请问该机器人能够到达多少个格子？</p><ul><li>解题思路：因为机器人每次只能移动一格，同样可以利用回溯法逐步遍历能够到达哪些格子 <ol><li>使用map记录机器人已访问的格子，模拟visited</li><li>设定起点为<code>[0,0]</code>，若当前节点满足条件k及visited中不存在，则将节点坐标为key，加入visited中，并将count加1，否则返回count的初始值0</li><li>递归的将节点上下左右位置进行判断，重复2步骤，并将返回值加入到count中</li><li>判断是否满足条件k需要判断左边是否溢出，并计算位数和是否不大于k</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">getDigitSum</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;计算数字和函数&quot;&quot;&quot;</span>
    sumResult <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> number <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        sumResult <span class="token operator">+=</span> number <span class="token operator">%</span> <span class="token number">10</span>
        number <span class="token operator">/=</span> <span class="token number">10</span>
    <span class="token keyword">return</span> sumResult


<span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;条件判断函数&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> row <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> row <span class="token operator">&lt;</span> rows <span class="token keyword">and</span> col <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> col <span class="token operator">&lt;</span> cols <span class="token keyword">and</span> getDigitSum<span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token operator">+</span> getDigitSum<span class="token punctuation">(</span>col<span class="token punctuation">)</span>\
    <span class="token operator">&lt;=</span> threshold <span class="token keyword">and</span> <span class="token keyword">not</span> visited<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>


<span class="token keyword">def</span> <span class="token function">movingCountCroe</span><span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;递归探索每一个可能的格子&quot;&quot;&quot;</span>
    count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">if</span> check<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">:</span>
        visited<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
        count <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span> \
            <span class="token operator">+</span> movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> visited<span class="token punctuation">)</span>\
            <span class="token operator">+</span> movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span>\
            <span class="token operator">+</span> movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> visited<span class="token punctuation">)</span>
    <span class="token keyword">return</span> count


<span class="token keyword">def</span> <span class="token function">movingCount</span><span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;主函数，初始化visited方便核心函数递归调用&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> threshold <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token keyword">or</span> rows <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token keyword">or</span> cols <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token operator">*</span>cols <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">]</span>
    count <span class="token operator">=</span> movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> visited<span class="token punctuation">)</span>
    <span class="token keyword">return</span> count


<span class="token comment"># test code</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>movingCount<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 牛客网版代码</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">getDigitSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算数字和函数&quot;&quot;&quot;</span>
        sumResult <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> number <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            sumResult <span class="token operator">+=</span> number <span class="token operator">%</span> <span class="token number">10</span>
            number <span class="token operator">/=</span> <span class="token number">10</span>
        <span class="token keyword">return</span> sumResult

    <span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;条件判断函数&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> row <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> row <span class="token operator">&lt;</span> rows <span class="token keyword">and</span> col <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> col <span class="token operator">&lt;</span> cols <span class="token keyword">and</span> self<span class="token punctuation">.</span>getDigitSum<span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>getDigitSum<span class="token punctuation">(</span>col<span class="token punctuation">)</span> \
                <span class="token operator">&lt;=</span> threshold <span class="token keyword">and</span> <span class="token keyword">not</span> visited<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

    <span class="token keyword">def</span> <span class="token function">movingCountCroe</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归探索每一个可能的格子&quot;&quot;&quot;</span>
        count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>check<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">:</span>
            visited<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
            count <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span> \
                    <span class="token operator">+</span> self<span class="token punctuation">.</span>movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> visited<span class="token punctuation">)</span> \
                    <span class="token operator">+</span> self<span class="token punctuation">.</span>movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col<span class="token punctuation">,</span> visited<span class="token punctuation">)</span> \
                    <span class="token operator">+</span> self<span class="token punctuation">.</span>movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> visited<span class="token punctuation">)</span>
        <span class="token keyword">return</span> count

    <span class="token keyword">def</span> <span class="token function">movingCount</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;主函数，初始化visited方便核心函数递归调用&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> threshold <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token keyword">or</span> rows <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token keyword">or</span> cols <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> cols <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">]</span>
        count <span class="token operator">=</span> self<span class="token punctuation">.</span>movingCountCroe<span class="token punctuation">(</span>threshold<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> cols<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> visited<span class="token punctuation">)</span>
        <span class="token keyword">return</span> count
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-14-剪绳子" tabindex="-1"><a class="header-anchor" href="#no-14-剪绳子" aria-hidden="true">#</a> NO.14 剪绳子</h2><p>题目：给你一根长度为n的绳子，请把绳子剪成m段(m,n都是整数，n&gt;1并且m&gt;1)，每段绳子的长度记为k[0],k[1],...,k[m]。请问k[0]<em>k[1]</em>...*k[m]可能的最大乘积是多少？例如，当绳子的长度为8时，我们把他剪成长度分别为2,3,3的三段，此时得到的最大乘积是18.</p><ul><li><p>解题思路：因为是最优化问题，且问题可分，可考虑使用动态规划或者贪婪法，详细见代码文档或剑指offer（注：题目中需补充条件，m为任意整数，且切成的绳子长度必须为整数）</p><ul><li>动态规划解法 <ol><li>创建长度为n的数组maxLens用于存储对应索引i长度的绳子剪断最大乘积，则maxLens[n - 1]程序返回值</li><li>可尝试先剪下一段长度j，然后剩余长度可剪可不剪，</li><li>记长度为n的绳子剪断后的乘积为f(n),则f(n)=j*(n-j)或f(n)=j*f(n-j),可取其中的最大值记为FMax</li><li>从2开始遍历j，直到不满足j &lt;= Math.floor(n / 2)，每次遍历中将较大的FmMx存入<code>maxLens[i]</code></li><li>定义maxLens = [0, 1, 2, 4]为初始值分别表示绳子长度为[1, 2, 3, 4]时绳子剪断后最大乘积，从长度为5开始遍历绳子长度i，直到i &lt;= n，每次遍历执行步骤4,遍历完成后返回maxLens[n - 1]即为长度为n的绳子剪断后的最大乘积</li></ol></li></ul></li><li><p>贪婪算法解法</p><ol><li>尽可能的将绳子分为长度为3的段，并且剩余长度尽可能为2或4，不可为1</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">maxProductAfterCutting_solution</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;动态规划法，从上而下的分析分解问题，自下而上的顺序计算问题&quot;&quot;&quot;</span>
    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token keyword">elif</span> length <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> result<span class="token punctuation">[</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
    products <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> result<span class="token punctuation">:</span>
        products<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i
    maxValue <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        maxValue <span class="token operator">=</span> <span class="token number">0</span>
        j <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">while</span> j <span class="token operator">&lt;=</span> i<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">:</span>
            product <span class="token operator">=</span> products<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">*</span>products<span class="token punctuation">[</span>i<span class="token operator">-</span>j<span class="token punctuation">]</span>
            <span class="token keyword">if</span> maxValue <span class="token operator">&lt;</span> product<span class="token punctuation">:</span>
                maxValue <span class="token operator">=</span> product
            products<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> maxValue
            j <span class="token operator">+=</span> <span class="token number">1</span>
    maxValue <span class="token operator">=</span> products<span class="token punctuation">[</span>length<span class="token punctuation">]</span>
    <span class="token keyword">return</span> maxValue


<span class="token keyword">def</span> <span class="token function">maxProductAfterCutting_solution2</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;贪婪算法，尽可能多的剪长度为3的绳子，当剩下的绳子长度为4时，把绳子剪成两段为2的绳子。
    解释：当n&gt;=5时,3*(n-3)&gt;=2*(n-2)&gt;n,故选用上述策略&quot;&quot;&quot;</span>
    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token keyword">elif</span> length <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> result<span class="token punctuation">[</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
    timesOf3 <span class="token operator">=</span> length <span class="token operator">/</span> <span class="token number">3</span>
    <span class="token keyword">if</span> length <span class="token operator">-</span> timesOf3 <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        timesOf3 <span class="token operator">-=</span> <span class="token number">1</span>
    timesOf2 <span class="token operator">=</span> <span class="token punctuation">(</span>length <span class="token operator">-</span> timesOf3 <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
    <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> timesOf3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> timesOf2<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment"># test code</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>maxProductAfterCutting_solution<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>maxProductAfterCutting_solution2<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-15-二进制中1的个数" tabindex="-1"><a class="header-anchor" href="#no-15-二进制中1的个数" aria-hidden="true">#</a> NO.15 二进制中1的个数</h2><p>题目：请实现一个函数，输入一个整数，输出该数的二进制表示中1的个数。例如，把9表示成二进制是1001，有2位是1，因此，输入9，则函数输出2.</p><ul><li>解题思路 <ul><li><p>逐位扫描</p><ol><li>将数与flag=1进行与操作，每次flag按位左移，遍历整型的二进制位数(32或64)后即可统计出1的个数</li></ol></li><li><p>减1算法</p><ol><li>将一个整数减1，都是把二进制中最右边的1变成0，并且把它右边的所有0变成1(即：最右边的数为1时，直接变成0，最右边的数为0时，将其前方最近的一个1变为0，其后的所有0变为1)</li><li>因此，将整数n做n&amp;(n-1)相当于将其最右边的1去掉，因此n&gt;0时，可以反复进行此操作，并统计1的个数</li><li>n中有多少个1就需要循环多少次</li></ol></li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 方法一</span>
<span class="token keyword">def</span> <span class="token function">NumberOf1Croe</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;将1逐位与n按位与，检测该二进制位是否有1，若有则计数。该算法需要循环sizeof(int)次&quot;&quot;&quot;</span>
    count <span class="token operator">=</span><span class="token number">0</span>
    flag <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">while</span> flag <span class="token operator">&lt;=</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> n<span class="token operator">&amp;</span>flag<span class="token punctuation">:</span>
            count <span class="token operator">+=</span> <span class="token number">1</span>
        flag <span class="token operator">=</span> flag <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>
    <span class="token keyword">return</span> count
<span class="token keyword">def</span> <span class="token function">NumberOf1</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;计算整数的二进制数中1的个数，由于在python中负数没有用补码表示，故在主函数中另行处理&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">32</span> <span class="token operator">-</span> NumberOf1Croe<span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> NumberOf1Croe<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
<span class="token comment"># 方法二</span>
<span class="token keyword">def</span> <span class="token function">numberOf1Croe</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;将一个整数减1，都是把二进制中最右边的1变成0，并且把它右边的所有0变成1，将此数再与原数按位与，相当于将原数二进制数中最右
    边的1变成0，整数中有多少个1就可以做多少次这种操作。基于这种思想写出类的算法需要循环count次，即有多少个1循环多少次&quot;&quot;&quot;</span>
    count <span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">while</span> n<span class="token punctuation">:</span>
        count <span class="token operator">+=</span> <span class="token number">1</span>
        n <span class="token operator">=</span> <span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>n
    <span class="token keyword">return</span> count
<span class="token keyword">def</span> <span class="token function">numberOf1</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;计算整数的二进制数中1的个数，由于在python中负数没有用补码表示，故在主函数中另行处理&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> n <span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">32</span> <span class="token operator">-</span> numberOf1Croe<span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> numberOf1Croe<span class="token punctuation">(</span>n<span class="token punctuation">)</span>

<span class="token comment">#test code</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>NumberOf1<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>numberOf1<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;
#将int类型转为补码表示的函数
def int2Bin32(i):
    return (bin(((1&lt;&lt;32) - 1) &amp; i)[2:]).zfill(32)
&quot;&quot;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-16-数值的整数次方" tabindex="-1"><a class="header-anchor" href="#no-16-数值的整数次方" aria-hidden="true">#</a> NO.16 数值的整数次方</h2><p>题目：实现函数double Power(double base, int exponent)，求base的exponent次方。不得使用库函数，同时不需要考虑大数问题。</p><ul><li>解题思路：利用二分法，对exponent进行分解，每次除2取整，同时对base使用自乘，利用已计算好的值，算法复杂度为O(log2(n))</li><li>流程 <ol><li>判断base，exponent是否为0，若为0则直接分别返回0和1</li><li>若exponent &lt; 0 则将base设置为 1 / base，exponent设置为-exponent转换为正数的情况</li><li>设置res=1用于缓存奇数的结果，pow=base用于自乘，遍历结束后返回res*pow，即默认结果为exponent=1的情况</li><li>exponent &gt; 1时进行遍历，每次判断若为奇数，则执行res*=base累乘base，并将exponent/2取整，进行二分，并执行pow*=pow累积自乘，循环结束后返回res*pow</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">PowerWithUnsignedExponent</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> exponent<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;使用循环连乘来计算无符号指数&quot;&quot;&quot;</span>
    result <span class="token operator">=</span> <span class="token number">1.0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>exponent<span class="token punctuation">)</span><span class="token punctuation">:</span>
        result <span class="token operator">*=</span> base
    <span class="token keyword">return</span> result
<span class="token keyword">def</span> <span class="token function">PowerWithUnsignedExponent2</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> exponent<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的将指数拆分成平方，减少乘法的次数，并用右移运算符代替除2，利用按位与运算符来判断函数奇偶&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> exponent <span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token keyword">if</span> exponent <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> base
    result <span class="token operator">=</span> PowerWithUnsignedExponent2<span class="token punctuation">(</span>base<span class="token punctuation">,</span> exponent <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
    result <span class="token operator">*=</span> result <span class="token comment">#平方</span>
    <span class="token keyword">if</span> exponent <span class="token operator">&amp;</span> <span class="token number">0x1</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        result <span class="token operator">*=</span>base
    <span class="token keyword">return</span> result

g_InvalidInput <span class="token operator">=</span> <span class="token boolean">False</span>
<span class="token comment">#错误输入指示，在牛客网python编程中，请删除此功能，否则不能通过测试</span>
<span class="token keyword">def</span> <span class="token function">Power</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> exponent<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;主函数。浮点型数据类型不可直接用‘==’判断是否为0，可借助比较较小数1.0e-9来判断&quot;&quot;&quot;</span>
    g_InvalidInput <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>base<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1.0e-9</span> <span class="token keyword">and</span> exponent <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        g_InvalidInput <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token number">0.0</span>
    absExponent <span class="token operator">=</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>exponent<span class="token punctuation">)</span>
    result <span class="token operator">=</span> PowerWithUnsignedExponent2<span class="token punctuation">(</span>base<span class="token punctuation">,</span> absExponent<span class="token punctuation">)</span>
    <span class="token keyword">if</span> exponent <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        result <span class="token operator">=</span> <span class="token number">1.0</span><span class="token operator">/</span>result
    <span class="token keyword">return</span> result

<span class="token comment">#test code </span>
base <span class="token operator">=</span> <span class="token number">2</span>
exponent <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Power<span class="token punctuation">(</span>base<span class="token punctuation">,</span> exponent<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-17-打印从1到最大的n位数" tabindex="-1"><a class="header-anchor" href="#no-17-打印从1到最大的n位数" aria-hidden="true">#</a> NO.17 打印从1到最大的n位数</h2><p>题目：输入数字n，按顺序打印出从1到最大的n位十进制数。比如输入3，则打印输出1,2,3一直到最大的3为数999.</p><p>解题思路：此题涉及到大数问题，python内置类型智能支持大数，但为了表现算法思想不使用python内置大数，转而使用list[str]来表示大数</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">PrintNumber</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;打印函数，从第一个非零数字开始打印，循环查找第一个非零数字打印并跳出循环
    nums必须是list类型&quot;&quot;&quot;</span>
    isBeginning <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> isBeginning <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">:</span>
            isBeginning <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> isBeginning<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
<span class="token keyword">def</span> <span class="token function">Increment</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;数字自增函数，并判断是否溢出，返回溢出标志，nums必须是list[str]类型，list是可变类型，在传参的时候类似于c++
    中传指针，所以无需返回即可修改传入nums中的元素&quot;&quot;&quot;</span>
    isOverflow <span class="token operator">=</span> <span class="token boolean">False</span>
    nTakeOver <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment"># 进位</span>
    nLength <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>nLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#反向循环[nLength,0]，设置步长为-1即反向</span>
        nSum <span class="token operator">=</span> <span class="token builtin">ord</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> nTakeOver
        <span class="token keyword">if</span> i <span class="token operator">==</span> nLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
            nSum <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> nSum <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                isOverflow <span class="token operator">=</span> <span class="token boolean">True</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                nSum <span class="token operator">-=</span> <span class="token number">10</span>
                nTakeOver <span class="token operator">=</span> <span class="token number">1</span>
                nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> nSum<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> nSum<span class="token punctuation">)</span>
            <span class="token keyword">break</span>
    <span class="token keyword">return</span> isOverflow
<span class="token keyword">def</span> <span class="token function">PrintToMaxOfNDigits</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;打印主函数，生成长度为n的list[str]来表示n位数字，可表示任意大的数字&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> n <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span>
    nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">]</span><span class="token operator">*</span>n
    <span class="token keyword">while</span> <span class="token keyword">not</span> Increment<span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
        PrintNumber<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>

        
<span class="token keyword">def</span> <span class="token function">PrintToMaxOfNDigitsRecursively</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> length<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;利用排列组合的思想，递归的循环调用函数，打印不同的数字组合&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> index <span class="token operator">==</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
        PrintNumber<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        nums<span class="token punctuation">[</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
        PrintToMaxOfNDigitsRecursively<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> length<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">PrintToMaxOfNDigits2</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;打印数字，递归调用版&quot;&quot;&quot;</span>
    <span class="token keyword">if</span> n <span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span>
    nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">]</span><span class="token operator">*</span>n
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        PrintToMaxOfNDigitsRecursively<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">#test code</span>
PrintToMaxOfNDigits<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
PrintToMaxOfNDigits2<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>1
2
3
4
5
6
7
8
9
</code></pre><h2 id="no-18-删除链表的节点" tabindex="-1"><a class="header-anchor" href="#no-18-删除链表的节点" aria-hidden="true">#</a> NO.18 删除链表的节点</h2><h3 id="题目一-在o-1-时间内删除链表节点" tabindex="-1"><a class="header-anchor" href="#题目一-在o-1-时间内删除链表节点" aria-hidden="true">#</a> 题目一：在O(1)时间内删除链表节点</h3><p>给定单向链表的头指针和一个节点指针，定义一个函数在O(1)时间内删除该节点。</p><ul><li>思路： 通过复制下一个节点的内容到当前节点的方式删除当前节点，并保存下一个节点的下一个节点，断开链接并重新连上当前节点即可做到删除，<br> 若要删除的节点没有下一个节点则需要从头指针开始遍历链表<br> 若要删除的节点就是头指针，则直接将头指针置空即可</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ListNode</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;创建链表类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>val <span class="token operator">=</span> x
        self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token keyword">def</span> <span class="token function">DeleteNode</span><span class="token punctuation">(</span>pListHead<span class="token punctuation">,</span> pToBeDelete<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;通过复制的方式删除指定节点，若要删除尾节点，则只能遍历再删除。平均时间复杂度[(n-1)*O(1)+O(n)]/n=O(1)&quot;&quot;&quot;</span>
<span class="token comment">#     print(&quot;pListHead&#39;s id is: &quot;+str(id(pListHead)))</span>
<span class="token comment">#     print(&quot;pToBeDelete&#39;s id is: &quot;+str(id(pToBeDelete)))</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> pListHead <span class="token keyword">or</span> <span class="token keyword">not</span> pToBeDelete<span class="token punctuation">:</span>
        <span class="token keyword">return</span>
    <span class="token keyword">if</span> pToBeDelete<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        pNext <span class="token operator">=</span> pToBeDelete<span class="token punctuation">.</span><span class="token builtin">next</span>
        pToBeDelete<span class="token punctuation">.</span>val <span class="token operator">=</span> pNext<span class="token punctuation">.</span>val
<span class="token comment">#         print(&quot;pToBeDelete.val&#39;s id is: &quot;+str(id(pToBeDelete.val)))</span>
        pToBeDelete<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pNext<span class="token punctuation">.</span><span class="token builtin">next</span>
    <span class="token keyword">elif</span> pListHead <span class="token operator">==</span> pToBeDelete<span class="token punctuation">:</span>
        pListHead<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token boolean">None</span>
        pListHead<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token comment">#         pListHead = ListNode()</span>
<span class="token comment">#         print(&quot;pListHead&#39;s id is: &quot;+str(id(pListHead)))</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        pNode <span class="token operator">=</span> pListHead
        <span class="token keyword">while</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">!=</span> pToBeDelete<span class="token punctuation">:</span>
            pNode <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
        pNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token comment">#     return pListHead</span>
<span class="token comment">##创建链表</span>
head <span class="token operator">=</span> ListNode<span class="token punctuation">(</span><span class="token string">&#39;head-&gt;&#39;</span><span class="token punctuation">)</span>
<span class="token comment"># print(&quot;head&#39;s id is: &quot;+str(id(head)))</span>
<span class="token comment">#可变对象直接赋值就是浅拷贝，相当于c++中传递地址</span>
pnode <span class="token operator">=</span> head
<span class="token comment"># print(&quot;pnode&#39;s id is: &quot;+str(id(pnode)))</span>
valueList <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> valueList<span class="token punctuation">:</span>
    pnode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> ListNode<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    pnode <span class="token operator">=</span> pnode<span class="token punctuation">.</span><span class="token builtin">next</span>
<span class="token comment">#     print(&quot;pnode&#39;s id is: &quot;+str(id(pnode)))</span>
<span class="token comment"># gnode = ListNode(&#39;1&#39;)</span>
DeleteNode<span class="token punctuation">(</span>head<span class="token punctuation">,</span> pnode<span class="token punctuation">)</span>    
<span class="token comment">#验证链表用代码</span>
<span class="token comment"># print(gnode.val)</span>
rnode <span class="token operator">=</span> head
<span class="token keyword">while</span> rnode <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>rnode<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
    rnode <span class="token operator">=</span> rnode<span class="token punctuation">.</span><span class="token builtin">next</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;
！！！注：python传参与c++中常引用传参相似，对于可变对象，不可直接改变对象本身，但可改变对象内置的值,如直接
改链表头不可行，但可以改链表头的值及其他未传入的节点，若一定要改链表头则只能通过返回值的方式进行，例如list对象
&quot;&quot;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目二：删除链表中重复的节点。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment">#该算法仅能删除相邻重复节点，比如[1,2,3,4,1]首位节点重复就不会被删除，故不作深入测试</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">deleteDuplication</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> phead<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> phead <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> phead
        pPreNode <span class="token operator">=</span> <span class="token boolean">None</span>
        pNode <span class="token operator">=</span> phead
        <span class="token keyword">while</span> pNode <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pNext <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            needDelete <span class="token operator">=</span> <span class="token boolean">False</span>
            <span class="token keyword">if</span> pNext <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pNext<span class="token punctuation">.</span>val <span class="token operator">==</span> pNode<span class="token punctuation">.</span>val<span class="token punctuation">:</span>
                needDelete <span class="token operator">=</span> <span class="token boolean">True</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> needDelete<span class="token punctuation">:</span>
                pPreNode <span class="token operator">=</span> pNode
                pNode <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                value <span class="token operator">=</span> pNode<span class="token punctuation">.</span>val
                pToBeDel <span class="token operator">=</span> pNode
                <span class="token keyword">while</span> pToBeDel <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pToBeDel<span class="token punctuation">.</span>val <span class="token operator">==</span> value<span class="token punctuation">:</span>
                    pNext <span class="token operator">=</span> pToBeDel<span class="token punctuation">.</span><span class="token builtin">next</span>
                    <span class="token keyword">del</span> pToBeDel
                    pToBeDel <span class="token operator">=</span> pNext
                <span class="token keyword">if</span> pPreNode <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                    phead <span class="token operator">=</span> pNext
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    pPreNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pNext
                pNode <span class="token operator">=</span> pNext
        <span class="token keyword">return</span> phead
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-19-正则表达式匹配" tabindex="-1"><a class="header-anchor" href="#no-19-正则表达式匹配" aria-hidden="true">#</a> NO.19 正则表达式匹配</h2><p>题目：请实现一个函数用来匹配包含&quot;.&quot;和&quot;*&quot;的正则表达式。模式中的字符&quot;.&quot;表示任意一个字符，而&quot;*&quot;表示它前面的字符可以出现任意次(含0次)。在本题中，匹配是指字符串的所有字符匹配整个模式。例如，字符串&quot;aaa&quot;与模式&quot;a.a&quot;和&quot;ab*ac*a&quot;匹配，但与&quot;aa.a&quot;和&quot;ab*a&quot;均不匹配。</p><ul><li>解题思路：</li><li>步骤：</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">matchCore</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> strs<span class="token punctuation">,</span> pattern<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归探索每一种情况&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> strs <span class="token keyword">and</span> <span class="token keyword">not</span> pattern<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> strs <span class="token keyword">and</span> <span class="token keyword">not</span> pattern<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token keyword">and</span> pattern<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> strs <span class="token keyword">and</span> <span class="token punctuation">(</span>pattern<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> strs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">or</span> pattern<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> self<span class="token punctuation">.</span>matchCore<span class="token punctuation">(</span>strs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span>pattern<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>matchCore<span class="token punctuation">(</span>strs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span>pattern<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>matchCore<span class="token punctuation">(</span>strs<span class="token punctuation">,</span> pattern<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> self<span class="token punctuation">.</span>matchCore<span class="token punctuation">(</span>strs<span class="token punctuation">,</span> pattern<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> strs <span class="token keyword">and</span> <span class="token punctuation">(</span>strs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> pattern<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">or</span> pattern<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>matchCore<span class="token punctuation">(</span>strs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pattern<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">def</span> <span class="token function">match</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">,</span> pattern<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> s <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">or</span> pattern <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>matchCore<span class="token punctuation">(</span>s<span class="token punctuation">,</span> pattern<span class="token punctuation">)</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;a.a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-20-表示数值的字符串" tabindex="-1"><a class="header-anchor" href="#no-20-表示数值的字符串" aria-hidden="true">#</a> NO.20 表示数值的字符串</h2><p>题目：请实现一个函数用来判断字符串是否表示数值(包括整数和小数)。例如，字符串&quot;+100&quot;,&quot;5e2&quot;,&quot;-123&quot;,&quot;3.1416&quot;,&quot;-1E-16&quot;都表示数值，但&quot;12e&quot;,&quot;1a3.14&quot;,&quot;1.2.3&quot;,&quot;+-5&quot;,&quot;12e+5.4&quot;都不是</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">scanUnsignedInterger</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> strs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;对传入字符串从头计算是无符号数字的长度，返回长度&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> strs<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        i <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span> <span class="token keyword">and</span> strs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token string">&#39;0&#39;</span> <span class="token keyword">and</span> strs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token string">&#39;9&#39;</span><span class="token punctuation">:</span>
            i <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> i
    <span class="token keyword">def</span> <span class="token function">scanInteger</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> strs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;对传入字符串从头计算有符号数字的长度，返回长度&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> strs<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        <span class="token keyword">if</span> strs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token string">&#39;-+&#39;</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>scanUnsignedInterger<span class="token punctuation">(</span>strs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>scanUnsignedInterger<span class="token punctuation">(</span>strs<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">isNumeric</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;使用index表示首个未进行遍历的字符的索引，使用temp变量表示上一个匹配的长度，为应对index有可能超出字符串长度，
        每次进行判断之前先进行判断是否溢出&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> s<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        index <span class="token operator">=</span> <span class="token number">0</span>
        temp <span class="token operator">=</span> self<span class="token punctuation">.</span>scanInteger<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
        numeric <span class="token operator">=</span> temp <span class="token operator">&gt;</span> <span class="token number">0</span>
        index <span class="token operator">+=</span> temp
        <span class="token keyword">if</span> index <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">and</span> s<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;.&#39;</span><span class="token punctuation">:</span>
            index <span class="token operator">+=</span> <span class="token number">1</span>
            temp <span class="token operator">=</span> self<span class="token punctuation">.</span>scanUnsignedInterger<span class="token punctuation">(</span>s<span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            numeric <span class="token operator">=</span> temp <span class="token keyword">or</span> numeric
            index <span class="token operator">+=</span> temp
        <span class="token keyword">if</span> index <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;e&#39;</span> <span class="token keyword">or</span> s<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;E&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            index <span class="token operator">+=</span> <span class="token number">1</span>
            temp <span class="token operator">=</span> self<span class="token punctuation">.</span>scanInteger<span class="token punctuation">(</span>s<span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            numeric <span class="token operator">=</span> numeric <span class="token keyword">and</span> temp
            index <span class="token operator">+=</span> temp
        <span class="token keyword">return</span> <span class="token builtin">bool</span><span class="token punctuation">(</span>numeric<span class="token punctuation">)</span> <span class="token keyword">and</span> index <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token comment">#test code </span>
a_test <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a_test<span class="token punctuation">.</span>isNumeric<span class="token punctuation">(</span><span class="token string">&#39;+100&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-21-调整数组顺序使奇数位于偶数前面" tabindex="-1"><a class="header-anchor" href="#no-21-调整数组顺序使奇数位于偶数前面" aria-hidden="true">#</a> NO.21 调整数组顺序使奇数位于偶数前面</h2><p>题目：输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于数组的后半部分。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">reOrderArray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;对撞指针法，发现不符合要求的元素则与另一不符合要求的元素调换顺序&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> array<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        pBegin <span class="token operator">=</span> <span class="token number">0</span>
        pEnd <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">while</span> pBegin <span class="token operator">&lt;</span> pEnd<span class="token punctuation">:</span>
            <span class="token keyword">while</span> pBegin <span class="token operator">&lt;</span> pEnd <span class="token keyword">and</span> array<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0x1</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
                pBegin <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">while</span> pBegin <span class="token operator">&lt;</span> pEnd <span class="token keyword">and</span> array<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0x1</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                pEnd <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> pBegin <span class="token operator">&lt;</span> pEnd<span class="token punctuation">:</span>
                temp <span class="token operator">=</span> array<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span>
                array<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span>
                array<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span> <span class="token operator">=</span> temp
<span class="token comment">#test code</span>
a_test <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
b_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
a_test<span class="token punctuation">.</span>reOrderArray<span class="token punctuation">(</span>b_list<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b_list<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;将判断函数解耦分离出来，可以让程序具有更好的通用性&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">_isEven</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;判断函数&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>n<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">reOrderArray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;主函数，指针对撞，交换不符合条件的值&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> array<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        pBegin <span class="token operator">=</span> <span class="token number">0</span>
        pEnd <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">while</span> pBegin <span class="token operator">&lt;</span> pEnd<span class="token punctuation">:</span>
            <span class="token keyword">while</span> pBegin <span class="token operator">&lt;</span> pEnd <span class="token keyword">and</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>_isEven<span class="token punctuation">(</span>array<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                pBegin <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">while</span> pBegin <span class="token operator">&lt;</span> pEnd <span class="token keyword">and</span> self<span class="token punctuation">.</span>_isEven<span class="token punctuation">(</span>array<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                pEnd <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> pBegin <span class="token operator">&lt;</span> pEnd<span class="token punctuation">:</span>
                temp <span class="token operator">=</span> array<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span>
                array<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span>
                array<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span> <span class="token operator">=</span> temp
<span class="token comment">#test code</span>
a_test <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
b_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
a_test<span class="token punctuation">.</span>reOrderArray<span class="token punctuation">(</span>b_list<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b_list<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment">#注意牛客网上增加了附加条件，奇数与奇数之间，偶数与偶数之间的相对位置不能改变，目前暂无较好的解法</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">reOrderArray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># write code here</span>
        count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> array<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">and</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>
                    array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> array<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span> array<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        <span class="token keyword">return</span> array
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-22-链表中倒数第k个节点" tabindex="-1"><a class="header-anchor" href="#no-22-链表中倒数第k个节点" aria-hidden="true">#</a> NO.22 链表中倒数第K个节点</h2><p>题目：输入一个链表，输出该链表中倒数第k个节点。为了符合大多数人的习惯，本题从1开始计数，即链表的尾节点是倒数第一个节点。例如，一个链表有6个节点，从头结点开始，它们的值依次是1,2,3,4,5,6。这个链表的倒数第三个节点是值为4的节点。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ListNode</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;创建链表类&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>val <span class="token operator">=</span> x
        self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">FindKthToTail</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> head <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> k <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        pAHead <span class="token operator">=</span> head
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> pAHead<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                pAHead <span class="token operator">=</span> pAHead<span class="token punctuation">.</span><span class="token builtin">next</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">None</span>
        pBHead <span class="token operator">=</span> head
        <span class="token keyword">while</span> pAHead<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pAHead <span class="token operator">=</span> pAHead<span class="token punctuation">.</span><span class="token builtin">next</span>
            pBHead <span class="token operator">=</span> pBHead<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> pBHead
<span class="token comment">#test code</span>
<span class="token comment">#牛客网已通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-23-链表中环的入口节点" tabindex="-1"><a class="header-anchor" href="#no-23-链表中环的入口节点" aria-hidden="true">#</a> NO.23 链表中环的入口节点</h2><p>题目：如果一个链表中包含环，如何找出环的入口节点？例如在如图3.8所示的链表中，环的入口节点是3<br> 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6 and 6-&gt;3</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">MeetingNode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pHead<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用速度不同的双指针，检查链表中是否包含环，若包含则返回环中的节点&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> pHead <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        pSlow <span class="token operator">=</span> pHead<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">if</span> pSlow <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        pFast <span class="token operator">=</span> pSlow<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">while</span> pFast <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pSlow <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> pFast <span class="token operator">==</span> pSlow<span class="token punctuation">:</span>
                <span class="token keyword">return</span> pFast
            pSlow <span class="token operator">=</span> pSlow<span class="token punctuation">.</span><span class="token builtin">next</span>
            pFast <span class="token operator">=</span> pFast<span class="token punctuation">.</span><span class="token builtin">next</span>
            <span class="token keyword">if</span> pFast <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                pFast <span class="token operator">=</span> pFast<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> <span class="token boolean">None</span>
    <span class="token keyword">def</span> <span class="token function">EntryNodeOfLoop</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pHead<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;获取环中的节点，并循环统计环中包含节点的个数nodesInLoop，再利用间隔nodesInLoop个节点的指针对撞，判断入口&quot;&quot;&quot;</span>
        meetingNode <span class="token operator">=</span> self<span class="token punctuation">.</span>MeetingNode<span class="token punctuation">(</span>pHead<span class="token punctuation">)</span>
        <span class="token keyword">if</span> meetingNode <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        nodesInLoop <span class="token operator">=</span> <span class="token number">1</span>
        pNode1 <span class="token operator">=</span> meetingNode
        <span class="token keyword">while</span> pNode1<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">!=</span> meetingNode<span class="token punctuation">:</span>
            pNode1 <span class="token operator">=</span> pNode1<span class="token punctuation">.</span><span class="token builtin">next</span>
            nodesInLoop <span class="token operator">+=</span> <span class="token number">1</span>
        pNode1 <span class="token operator">=</span> pHead
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>nodesInLoop<span class="token punctuation">)</span><span class="token punctuation">:</span>
            pNode1 <span class="token operator">=</span> pNode1<span class="token punctuation">.</span><span class="token builtin">next</span>
        pNode2 <span class="token operator">=</span> pHead
        <span class="token keyword">while</span> pNode1 <span class="token operator">!=</span> pNode2<span class="token punctuation">:</span>
            pNode1 <span class="token operator">=</span> pNode1<span class="token punctuation">.</span><span class="token builtin">next</span>
            pNode2 <span class="token operator">=</span> pNode2<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> pNode1
    
<span class="token comment">#test code </span>
<span class="token comment">#牛客网上已通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-24-反转链表" tabindex="-1"><a class="header-anchor" href="#no-24-反转链表" aria-hidden="true">#</a> NO.24 反转链表</h2><p>题目：定义一个函数，输入一个链表的头节点，反转该链表并输出反转后的链表的头结点。</p><ul><li>解题思路：使用三个指针，从左到右依次保存反转后的结果result，待添加到反转结果中的节点指针left，链表中下一个节点的指针right，遍历一次链表即可将链表反转；</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token comment"># 返回ListNode</span>
    <span class="token keyword">def</span> <span class="token function">ReverseList</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pHead<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用三个指针分别指向当前指针的前和后节点，以防止链表反转时断裂，并初始化反转后链表的头节点和前节点，
        以防返回出错&quot;&quot;&quot;</span>
        pReversedHead <span class="token operator">=</span> <span class="token boolean">None</span>
        pNode <span class="token operator">=</span> pHead
        pPrev <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">while</span> pNode <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pNext <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            <span class="token keyword">if</span> pNext <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                pReversedHead <span class="token operator">=</span> pNode
            pNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pPrev
            pPrev <span class="token operator">=</span> pNode
            pNode <span class="token operator">=</span> pNext
        <span class="token keyword">return</span> pReversedHead
<span class="token comment">#test code</span>
<span class="token comment">#代码通过牛客网测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-25-合并两个排序的链表" tabindex="-1"><a class="header-anchor" href="#no-25-合并两个排序的链表" aria-hidden="true">#</a> NO.25 合并两个排序的链表</h2><p>题目：输入两个递增排序的链表，合并这两个链表并使新链表中的节点仍然是递增排序的。</p><ul><li>解题思路： <ol><li>使用p1，p2两个指针来遍历两个链表，初始时，保证p1指向较小的那个；</li><li>即合并后结果头指针为p1初始指向，遍历将最先从p1所在链表开始，记flag为true，则p2链表为false</li><li>使用指针pre设为null，其后该指针始终指向正在遍历的链接p指针的前一个节点，方便断开节点并重连</li><li>若p1、p2都不为null时，对较小的链表进行遍历，若判断flag不为要遍历的链表时，pre即时要合并的一个节点，将p指针赋值给pre，并翻转flag，开始遍历对应的链表</li><li>遍历结束后判断flag若为true，则表明p1先遍历完成，将p2剩下的节点链接到pre上即可，反之一样</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token comment"># 返回合并后列表</span>
    <span class="token keyword">def</span> <span class="token function">Merge</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pHead1<span class="token punctuation">,</span> pHead2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归比较每一个节点的值，并将较小的节点加入新的链表中&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> pHead1 <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> pHead2
        <span class="token keyword">elif</span> pHead2 <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> pHead1
        pMergedHead <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">if</span> pHead1<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> pHead2<span class="token punctuation">.</span>val<span class="token punctuation">:</span>
            pMergedHead <span class="token operator">=</span> pHead1
            pMergedHead<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>Merge<span class="token punctuation">(</span>pHead1<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">,</span> pHead2<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            pMergedHead <span class="token operator">=</span> pHead2
            pMergedHead<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>Merge<span class="token punctuation">(</span>pHead1<span class="token punctuation">,</span> pHead2<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> pMergedHead
<span class="token comment">#test code</span>
<span class="token comment">#牛客网已通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-26-树的子结构" tabindex="-1"><a class="header-anchor" href="#no-26-树的子结构" aria-hidden="true">#</a> NO.26 树的子结构</h2><p>题目：输入两颗二叉树A和B，判断B是不是A的子结构。</p><ul><li>解题思路：先递归的判断A中是否包含B的根子节点，若包含，则开始比较其子结构是否相同，递归终止条件为A或B遍历完成</li><li>步骤： <ol><li>设置默认结果result为false，当两根节点存在时，先递归查找A树中与B根节点相同的点，并递归判断其子结构是否相同，将比较结果保存在result中，便于后续判断是否还要继续遍历A树</li><li>判断子结构时，先判断B树的节点是否为空，若为空表示前置匹配都正确直接返回true，否则A树节点为空或不相等时直接返回false，若相同则递归的判断其左右子树是相同</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">Equal</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;定义通用的比较函数，可以兼容更多不同类型的存储值&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>num1 <span class="token operator">-</span> num2<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1E-7</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">def</span> <span class="token function">DoesTree1HaveTree2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot1<span class="token punctuation">,</span> pRoot2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归比较，两颗子树的值&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> pRoot2 <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> pRoot1 <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>Equal<span class="token punctuation">(</span>pRoot1<span class="token punctuation">.</span>val<span class="token punctuation">,</span> pRoot2<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>DoesTree1HaveTree2<span class="token punctuation">(</span>pRoot1<span class="token punctuation">.</span>left<span class="token punctuation">,</span> pRoot2<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">and</span> \
    self<span class="token punctuation">.</span>DoesTree1HaveTree2<span class="token punctuation">(</span>pRoot1<span class="token punctuation">.</span>right<span class="token punctuation">,</span> pRoot2<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">HasSubtree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot1<span class="token punctuation">,</span> pRoot2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的进行先根序遍历，从根节点开始对值进行比较&quot;&quot;&quot;</span>
        result <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> pRoot1 <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pRoot2 <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>Equal<span class="token punctuation">(</span>pRoot1<span class="token punctuation">.</span>val<span class="token punctuation">,</span> pRoot2<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>
                result <span class="token operator">=</span> self<span class="token punctuation">.</span>DoesTree1HaveTree2<span class="token punctuation">(</span>pRoot1<span class="token punctuation">,</span> pRoot2<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> result<span class="token punctuation">:</span>
                result <span class="token operator">=</span> self<span class="token punctuation">.</span>HasSubtree<span class="token punctuation">(</span>pRoot1<span class="token punctuation">.</span>left<span class="token punctuation">,</span> pRoot2<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> result<span class="token punctuation">:</span>
                result <span class="token operator">=</span> self<span class="token punctuation">.</span>HasSubtree<span class="token punctuation">(</span>pRoot1<span class="token punctuation">.</span>right<span class="token punctuation">,</span> pRoot2<span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-27-二叉树的镜像" tabindex="-1"><a class="header-anchor" href="#no-27-二叉树的镜像" aria-hidden="true">#</a> NO.27 二叉树的镜像</h2><p>题目：请完成一个函数，输入一颗二叉树，输出它的镜像。</p><ul><li>解题思路：利用递归，当节点为叶子节点时停止递归，否则不断交换该节点的左右节点</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">Mirror</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的交换二叉树的左右子树，遇叶子节点停止递归&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> root <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        pTemp <span class="token operator">=</span> root<span class="token punctuation">.</span>left
        root<span class="token punctuation">.</span>left <span class="token operator">=</span> root<span class="token punctuation">.</span>right
        root<span class="token punctuation">.</span>right <span class="token operator">=</span> pTemp
        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>Mirror<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
        <span class="token keyword">if</span> root<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>Mirror<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-28-对称的二叉树" tabindex="-1"><a class="header-anchor" href="#no-28-对称的二叉树" aria-hidden="true">#</a> NO.28 对称的二叉树</h2><p>题目：请实现一个函数，用来判断一颗二叉树是不是对称的。如果一颗二叉树和它的镜像一样，那么它是对称的。</p><ul><li>解题思路：前序遍历为 左-&gt;根-&gt;右，定义右序遍历为 右-&gt;根-&gt;左，则对称二叉树的前序遍历必然与其镜像的右序遍历相等，因此可以写出前序遍历时，同时判断右序遍历对应节点是否相同</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">isSymmetricalCore</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot1<span class="token punctuation">,</span> pRoot2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归比较前序遍历和对称前序遍历序列的值，若相同，则为对称二叉树&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> pRoot1 <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pRoot2 <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> pRoot1 <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">or</span> pRoot2 <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> pRoot1<span class="token punctuation">.</span>val <span class="token operator">!=</span> pRoot2<span class="token punctuation">.</span>val<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>isSymmetricalCore<span class="token punctuation">(</span>pRoot1<span class="token punctuation">.</span>left<span class="token punctuation">,</span>pRoot2<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>isSymmetricalCore<span class="token punctuation">(</span>pRoot1<span class="token punctuation">.</span>right<span class="token punctuation">,</span> pRoot2<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">isSymmetrical</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;调用核心函数，利用传参避免指向同一个对象&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>isSymmetricalCore<span class="token punctuation">(</span>pRoot<span class="token punctuation">,</span> pRoot<span class="token punctuation">)</span>
    
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网上通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-29-顺时针打印矩阵" tabindex="-1"><a class="header-anchor" href="#no-29-顺时针打印矩阵" aria-hidden="true">#</a> NO.29 顺时针打印矩阵</h2><p>题目：输入一个举着，按照从外向里以顺时针的顺序依次打印出每一个数字。例如： [[1,2,3,4]<br> [5,6,7,8]<br> [9,10,11,12]<br> [13,14,15,16]]<br> 则依次打印出数字1,2,3,4,8,12,16,15,14,13,9,5,6,7,11,10。</p><ul><li>解题思路：可先顺时针打印完一圈，再对内圈的数字继续打印，层层嵌套</li><li>步骤： <ol><li>定义start表示顺时针打印的起点，每次打印一圈start加1，递归打印终点为2*start小于矩阵mat的最小的维度(<code>2*start &lt; mat.length &amp;&amp; 2*start &lt; mat[0].length</code>)</li><li>顺时针打印可采取贪婪打印方法，打印矩阵范围为<code>start</code>向右至<code>endX = mat[0].length - 1 - start</code>，向下至<code>endY = mat.length - 1 - start</code>从左到右尽量打印完一行，从上到下打印时，则起点为start+1，同样尽量打印完一列。</li><li>从右至左打印时需要先判断是否仅有一行，避免重复打印，起点为endX - 1，终点为start</li><li>从下至上也需要先判断是否只有一列，避免重复打印,起点为endY - 1,终点为start+1</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">PrintMatrixInCircle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> matrix<span class="token punctuation">,</span> start<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;根据给定的start打印二维矩阵的一圈，并将其存入result中，因为result是列表、可变类型，函数不返回
        任何参数也可对传入的result中的元素进行修改&quot;&quot;&quot;</span>
        endX <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> start
        endY <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> start
        <span class="token comment">#从左到右打印一行</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> endX <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            number <span class="token operator">=</span> matrix<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>number<span class="token punctuation">)</span>
        <span class="token comment">#从上到下打印一列</span>
        <span class="token keyword">if</span> start <span class="token operator">&lt;</span> endY<span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> endY <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                number <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>endX<span class="token punctuation">]</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>number<span class="token punctuation">)</span>
        <span class="token comment">#从右到左打印一行</span>
        <span class="token keyword">if</span> start <span class="token operator">&lt;</span> endX <span class="token keyword">and</span> start <span class="token operator">&lt;</span> endY<span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>endX <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> start <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                number <span class="token operator">=</span> matrix<span class="token punctuation">[</span>endY<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>number<span class="token punctuation">)</span>
        <span class="token comment">#从下到上打印一列</span>
        <span class="token keyword">if</span> start <span class="token operator">&lt;</span> endX <span class="token keyword">and</span> start <span class="token operator">&lt;</span> endY <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>endY <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> start<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                number <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>start<span class="token punctuation">]</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>number<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">printMatrix</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> matrix<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;循环打印每一圈矩阵&quot;&quot;&quot;</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> matrix <span class="token keyword">or</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> result
        start <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> start<span class="token operator">*</span><span class="token number">2</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span> <span class="token operator">&gt;</span> start<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>PrintMatrixInCircle<span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> start<span class="token punctuation">,</span> result<span class="token punctuation">)</span>
            start <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-30-包含min函数的栈" tabindex="-1"><a class="header-anchor" href="#no-30-包含min函数的栈" aria-hidden="true">#</a> NO.30 包含min函数的栈</h2><p>题目：定义栈的数据结构，请在该类型中实现一个能够得到栈的最小元素的min函数。在该栈中，调用min、push、pop的时间复杂度都是O(1)。</p><ul><li>解题思路：内部增加一个辅助栈，每次push时，同时给辅助栈push最小的元素(比较辅助栈中top和传入数值，push较小的进辅助栈)，这样就能保证最小的元素始终在栈顶，每次pop时同时pop辅助栈中的元素</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;维护一个和data相同大小的辅助栈，用来存储最小值&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>m_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>m_min <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;压入数据的同时维护辅助栈，使的辅助栈中存储的最小值始终和数据栈中具有相同的位置&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>m_data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>node<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>m_min<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> node <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>m_min<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>m_min<span class="token punctuation">.</span>append<span class="token punctuation">(</span>node<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>m_min<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>m_min<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>m_min<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>m_data<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>m_data<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>m_min<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">assert</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;data is empty&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">top</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>m_data<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">min</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>m_min<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-31-栈的压入、弹出序列" tabindex="-1"><a class="header-anchor" href="#no-31-栈的压入、弹出序列" aria-hidden="true">#</a> NO.31 栈的压入、弹出序列</h2><p>题目：输入两个整数的序列，第一个序列表示栈的压入顺序，请判断第二个序列是否为该栈的弹出顺序。假设压入栈的所有数字均不相等。例如，序列[1,2,3,4,5]是某栈的压入序列，序列[4,5,3,2,1]是该压栈序列对应的一个弹出序列，但[4,3,5,1,2]就不可能是该压栈序列的弹出序列。</p><ul><li>解题思路：开辟一个辅助栈stack，按照入栈序列pushed，压入元素，入栈的同时判断是否与出栈序列popped的元素是否相同，若相同则出栈</li><li>步骤： <ol><li>判断输入序列长度是否相同，若不同则直接返回false</li><li>设置两个指针i,j分别指向两个序列pushed, popped</li><li>先循环遍历pushed序列，按顺序入栈，若判断i若指向的元素与j指向的相同，则可跳过入栈，直接右移i、j指针并跳过本轮循环，若栈顶元素与j的指向相同则先出栈右移j指针并跳过本轮循环，其次才是将i元素入栈，并右移i指针，遍历终止条件为i或j越界</li><li>判断辅助栈stack是否为空，若不为空，则说明未完全出栈，则使用j指针继续对popped进行遍历，相同元素相同则出栈，不同则表明顺序不同，不是弹出序列直接返回false</li><li>最后i、j指针应该索引应该相同，并且辅助栈stack为空，说明popped为弹出序列返回true，否则返回false</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">IsPopOrder</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pushV<span class="token punctuation">,</span> popV<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用辅助栈模拟栈的压入和弹出，与弹出序列比较若不符合则返回False&quot;&quot;&quot;</span>
        bPossible <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> pushV <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> popV <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pNextPush <span class="token operator">=</span> <span class="token number">0</span>
            pNextPop <span class="token operator">=</span> <span class="token number">0</span>
            stackData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            nLength <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>pushV<span class="token punctuation">)</span>
            <span class="token keyword">while</span> pNextPop <span class="token operator">&lt;</span> nLength<span class="token punctuation">:</span>
                <span class="token keyword">while</span> <span class="token keyword">not</span> stackData <span class="token keyword">or</span> stackData<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> popV<span class="token punctuation">[</span>pNextPop<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> pNextPush <span class="token operator">==</span> nLength<span class="token punctuation">:</span>
                        <span class="token keyword">break</span>
                    stackData<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pushV<span class="token punctuation">[</span>pNextPush<span class="token punctuation">]</span><span class="token punctuation">)</span>
                    pNextPush <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> stackData<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> popV<span class="token punctuation">[</span>pNextPop<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">break</span>
                stackData<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
                pNextPop <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> stackData <span class="token keyword">and</span> pNextPop <span class="token operator">==</span> nLength<span class="token punctuation">:</span>
                bPossible <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> bPossible
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-32-从上到下打印二叉树" tabindex="-1"><a class="header-anchor" href="#no-32-从上到下打印二叉树" aria-hidden="true">#</a> NO.32 从上到下打印二叉树</h2><h3 id="题目一-不分行从上到下打印二叉树" tabindex="-1"><a class="header-anchor" href="#题目一-不分行从上到下打印二叉树" aria-hidden="true">#</a> 题目一：不分行从上到下打印二叉树</h3><p>从上到下打印出二叉树的每个节点，同一层的节点按照从左到右收尾顺序打印。</p><ul><li>解题思路：利用队列的先进先出特性，将节点左右节点顺序添加到队列中，判断队列长度，每次出队将节点值保存在结果中，并判断是否右左右子节点，并入队到队列中，遍历完成后返回结果即可</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">PrintFromTopToBottom</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用队列的先进先出原则，顺序存储要打印的数值&quot;&quot;&quot;</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>
            <span class="token keyword">return</span> result
        dequeTreeNode <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        dequeTreeNode<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">)</span>
        <span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>dequeTreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>
            pNode <span class="token operator">=</span> dequeTreeNode<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
            result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
            <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>left<span class="token punctuation">:</span>
                dequeTreeNode<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
            <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
                dequeTreeNode<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="题目二-分行从上到下打印二叉树" tabindex="-1"><a class="header-anchor" href="#题目二-分行从上到下打印二叉树" aria-hidden="true">#</a> 题目二：分行从上到下打印二叉树</h3><p>从上到下按层打印二叉树，同一层的节点按照从左到右的顺序打印，每一层打印一行。</p><ul><li>解题思路：与上题类似，增加记录当前层剩余节点和下一层要遍历节点数的变量，在遍历中更新，并判断当前剩余节点数为0且下层节点数不为0时，将下层节点数推入当前层剩余节点数变量中，重置下层节点数，给result推入新的空数组，用于记录下一层的节点值，进入下一层遍历循环</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token comment"># 返回二维列表[[1,2],[4,5]]</span>
    <span class="token keyword">def</span> <span class="token function">Print</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;在利用队列的基础上，额外加两个变量表示下一行的节点数和当前行剩余位打印节点数&quot;&quot;&quot;</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> pRoot<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        nodes<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pRoot<span class="token punctuation">)</span>
        nextLevel <span class="token operator">=</span> <span class="token number">0</span>
        toBePrinted <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">while</span> nodes<span class="token punctuation">:</span>
            pNode <span class="token operator">=</span> nodes<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
            result<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
            <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>left<span class="token punctuation">:</span>
                nodes<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
                nextLevel <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
                nodes<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
                nextLevel <span class="token operator">+=</span> <span class="token number">1</span>
            toBePrinted <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> toBePrinted <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">and</span> nextLevel <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                toBePrinted <span class="token operator">=</span> nextLevel
                nextLevel <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="题目三-之字形打印二叉树" tabindex="-1"><a class="header-anchor" href="#题目三-之字形打印二叉树" aria-hidden="true">#</a> 题目三：之字形打印二叉树</h3><p>请实现一个函数按照之字形顺序打印二叉树，即第一行按照从左到右的顺序打印，第二层按照从右到左的顺序打印，第三行再按照从左到右的顺序打印，其他行以此类推。</p><ul><li>解题思路：利用栈的先进后出特性，翻转打印顺序，维持两个栈分别存储当前行和下一行，出栈时刚好可以实现反序</li><li>步骤： <ol><li>接上题利用变量存储当前层剩余节点数和下一层节点数，达到按层遍历</li><li>利用双端队列模拟两个栈，当从左向右遍历时，在左边取数据，右边推入数据，推入数据时先推左节点，后推右节点，这样在下一层出栈时就会先出右节点再出左节点达到反序的效果。</li><li>指定一个变量表示左右遍历顺序，当从左向右遍历时，从左边取数据，反之从右边取数据，推入数据时依次类推，当该层遍历完成时翻转该变量</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token comment"># 返回二维列表[[1,2],[4,5]]</span>
    <span class="token keyword">def</span> <span class="token function">Print</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用栈的先进后出原则，使用两个栈分别存储当前行和下一行，在弹出元素的同时压入下一行元素到另一个栈中&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> pRoot<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        levels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        current <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token builtin">next</span> <span class="token operator">=</span> <span class="token number">1</span>
        levels<span class="token punctuation">[</span>current<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>pRoot<span class="token punctuation">)</span>
        <span class="token keyword">while</span> levels<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">or</span> levels<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            pNode <span class="token operator">=</span> levels<span class="token punctuation">[</span>current<span class="token punctuation">]</span><span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
            result<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
            <span class="token keyword">if</span> current <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>left<span class="token punctuation">:</span>
                    levels<span class="token punctuation">[</span><span class="token builtin">next</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
                <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
                    levels<span class="token punctuation">[</span><span class="token builtin">next</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
                    levels<span class="token punctuation">[</span><span class="token builtin">next</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
                <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>left<span class="token punctuation">:</span>
                    levels<span class="token punctuation">[</span><span class="token builtin">next</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>pNode<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> levels<span class="token punctuation">[</span>current<span class="token punctuation">]</span> <span class="token keyword">and</span> levels<span class="token punctuation">[</span><span class="token builtin">next</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                current <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> current
                <span class="token builtin">next</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token builtin">next</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-33-二叉搜索树的后序遍历序列" tabindex="-1"><a class="header-anchor" href="#no-33-二叉搜索树的后序遍历序列" aria-hidden="true">#</a> NO.33 二叉搜索树的后序遍历序列</h2><p>题目：输入一个整数数组，判断该数组是不是某二叉搜索树的后序遍历结果。如果是则返回true，否则返回false。假设输入的数组的任意两个数字互不相同。</p><ul><li>解题思路：利用二叉搜索树的特性。后序遍历序列的最后一个值为根节点，其左子树都小于根节点，右子树都大于根节点，可以找到左右子树后序序列，再递归的判断左右子树是否满足条件</li><li>步骤 <ol><li>约定空数组直接返回true，设定p指针指向第一个右子树的节点</li><li>循环遍历数组，直到p大于根节点root，表明0-p为左子树，遍历右子树，若发现小于root的元素则直接返回false</li><li>若左子树存在则递归判断左子树序列是否满足，右子树同理</li><li>最后合并左右判断结果并返回</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">VerifySquenceOfBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sequence<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;先提取末尾元素作为根节点，然后递归验证左右子树&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> sequence<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        root <span class="token operator">=</span> sequence<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        i <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token comment">#使用while循环使的i总是指向第一个非左子树元素</span>
        <span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sequence<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> sequence<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> root<span class="token punctuation">:</span>
                <span class="token keyword">break</span>
            i <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sequence<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> sequence<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> root<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">False</span>
        left <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            left <span class="token operator">=</span> self<span class="token punctuation">.</span>VerifySquenceOfBST<span class="token punctuation">(</span>sequence<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        right <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sequence<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
            right <span class="token operator">=</span> self<span class="token punctuation">.</span>VerifySquenceOfBST<span class="token punctuation">(</span>sequence<span class="token punctuation">[</span>i<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> left <span class="token keyword">and</span> right
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网测试通过</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-34-二叉树中和为某一值的路径" tabindex="-1"><a class="header-anchor" href="#no-34-二叉树中和为某一值的路径" aria-hidden="true">#</a> NO.34 二叉树中和为某一值的路径</h2><p>题目：输入一颗二叉树和一个整数，打印出二叉树中节点值的和为输入整数的所有路径。从树的根节点开始往下一直到叶节点所经过的节点形成一条路径</p><ul><li>解题思路：定义path数组用于存储路径，result用于存储符合条件的路径，对节点进行递归遍历，将该节点的值推入path中，若该节点没有左右子节点则为叶子节点，计算路径和，并与目标数进行比较，若相同则推入result数组中，最后回溯出栈结束该节点的遍历</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token comment"># 返回二维列表，内部每个列表表示找到的路径</span>
    <span class="token keyword">def</span> <span class="token function">FindPathCore</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>root<span class="token punctuation">,</span> expectNumber<span class="token punctuation">,</span> path<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归遍历左子树、右子树，path列表记录一次遍历路径，result列表记录符合条件的路径，因path，result都是可变类型
        故，函数中可不设返回值就能进行参数传递。另由于二叉树一般填满左子树再填充右子树，故先检查左子数，再检查右子树即可满足
        牛客网中较长的路径在前，较短路径在后的要求，但此方法对一般二叉树不适用，还有改进空间&quot;&quot;&quot;</span>
        path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token operator">==</span> expectNumber <span class="token keyword">and</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment">#找到一个匹配的路径</span>
            <span class="token comment">#使用path[:]的方式浅拷贝列表到result中，避免直接使用path(引用)造成后续path发生变化，引起result也改变。</span>
            <span class="token comment">#注：path中元素为基本常量类型时可采用此方法，否侧需要使用深拷贝</span>
            result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>path<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>FindPathCore<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span>expectNumber<span class="token punctuation">,</span>path<span class="token punctuation">,</span> result<span class="token punctuation">)</span>
        <span class="token keyword">if</span> root<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>FindPathCore<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span>expectNumber<span class="token punctuation">,</span>path<span class="token punctuation">,</span>result<span class="token punctuation">)</span>
        path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">FindPath</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> expectNumber<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;主函数，检查输入节点是否为空&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>FindPathCore<span class="token punctuation">(</span>root<span class="token punctuation">,</span> expectNumber<span class="token punctuation">,</span>path<span class="token punctuation">,</span> result<span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-35-复杂链表的复制" tabindex="-1"><a class="header-anchor" href="#no-35-复杂链表的复制" aria-hidden="true">#</a> NO.35 复杂链表的复制</h2><p>题目：请实现函数，复制一个复杂链表。在复杂链表中，每个节点除了有一个next指针指向下一个节点，还有一个pSibling指针指向链表中的任意节点或者nullptr</p><ul><li>解题思路：在原链表的基础上，每个节N点后面复制一个节点N&#39;,如<code>1-&gt;2-&gt;3</code>变为<code>1-&gt;1&#39;-&gt;2-&gt;2&#39;-&gt;3-&gt;3&#39;</code>。遍历复制后的链表，修复N&#39;节点上的pSibling指针，分离N和N&#39;节点组成两个链表，N&#39;节点所在的链表即为复制好的链表</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token comment"># 返回 RandomListNode</span>
    <span class="token keyword">def</span> <span class="token function">CloneNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>phead<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;在原有的链表基础上进行赋值，即将每个节点沿着next链复制一个&quot;&quot;&quot;</span>
        pNode <span class="token operator">=</span> phead
        <span class="token keyword">while</span> pNode <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pCloned <span class="token operator">=</span> RandomListNode<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span>
            pCloned<span class="token punctuation">.</span>label <span class="token operator">=</span> pNode<span class="token punctuation">.</span>label
            pCloned<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            pCloned<span class="token punctuation">.</span>random <span class="token operator">=</span> <span class="token boolean">None</span>
            pNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pCloned
            pNode <span class="token operator">=</span> pCloned<span class="token punctuation">.</span><span class="token builtin">next</span>
    <span class="token keyword">def</span> <span class="token function">ConnetSiblingNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pHead<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;修复复制后链表节点的random链接&quot;&quot;&quot;</span>
        pNode <span class="token operator">=</span> pHead
        <span class="token keyword">while</span> pNode <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pClone <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            <span class="token keyword">if</span> pNode<span class="token punctuation">.</span>random <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                pClone<span class="token punctuation">.</span>random <span class="token operator">=</span> pNode<span class="token punctuation">.</span>random<span class="token punctuation">.</span><span class="token builtin">next</span>
            pNode <span class="token operator">=</span> pClone<span class="token punctuation">.</span><span class="token builtin">next</span>
    <span class="token keyword">def</span> <span class="token function">ReconnectNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pHead<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;将复制好的链表拆分成两个链表，奇数位为原链表，偶数位为赋值好的链表&quot;&quot;&quot;</span>
        pNode <span class="token operator">=</span> pHead
        pCloneHead <span class="token operator">=</span> <span class="token boolean">None</span>
        pCloneNode <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">if</span> pNode <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pCloneHead <span class="token operator">=</span> pCloneNode <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            pNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pCloneNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            pNode <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">while</span> pNode <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pCloneNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            pCloneNode <span class="token operator">=</span> pCloneNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            pNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pCloneNode<span class="token punctuation">.</span><span class="token builtin">next</span>
            pNode <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> pCloneHead
    <span class="token keyword">def</span> <span class="token function">Clone</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pHead<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;在原链表基础上进行复制，再拆分，分成三个步骤，三个函数依次进行处理&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>CloneNodes<span class="token punctuation">(</span>pHead<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>ConnetSiblingNodes<span class="token punctuation">(</span>pHead<span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>ReconnectNodes<span class="token punctuation">(</span>pHead<span class="token punctuation">)</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-36-二叉搜索树与双向链表" tabindex="-1"><a class="header-anchor" href="#no-36-二叉搜索树与双向链表" aria-hidden="true">#</a> NO.36 二叉搜索树与双向链表</h2><p>题目：输入一颗二叉搜索树，将该二叉搜索树转换成一个排序的双向链表。要求不能创建任何新的节点，只能调整树中节点指针的指向</p><ul><li>解题思路：利用二叉搜索树的：左&lt;根&lt;右的特性，递归遍历各节点，传入链表的最后一个节点，对于当前节点，链表的最后一个节点与其左子树中的左叶子节点相连，如果最后一个节点不为空，则修复双向链接，此时该节点就被添加到了链表中，移动最后一个节点指针，递归判断其右子树，返回最后一个节点指针，最后向前回溯，直到找到链表头指针即可</li><li>步骤： <ol><li>设置链表尾部指针pTail，初始值为null，若当前节点存在左子节点，递归判断左子树,将左子树转换结果与当前节点相连(pCur.left = pTail)</li><li>若pTail不为空，则修复双向链接，移动pTail指向当前节点，表示已将当前节点添加到链表中</li><li>若pCur.right存在，则遍历右子树，此过程右子树中会自动将链表结果相连</li><li>对根节点的遍历会返回链表的末尾节点，向前遍历链表找到链表头指针，返回即可</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">ConvertNode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>pNode<span class="token punctuation">,</span> pLastNodeInList<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的转换节点的左子树和右子树，返回转换成链表后的最后一个节点
        注意：pLastNodeList对象本身在函数中是不可更改的，若强行修改相当于定义了同名的局部变量，因此必须用return的方式返回修改值&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> pNode <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        pCurrent <span class="token operator">=</span> pNode
        <span class="token keyword">if</span> pCurrent<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pLastNodeInList <span class="token operator">=</span> self<span class="token punctuation">.</span>ConvertNode<span class="token punctuation">(</span>pCurrent<span class="token punctuation">.</span>left<span class="token punctuation">,</span> pLastNodeInList<span class="token punctuation">)</span>
        pCurrent<span class="token punctuation">.</span>left <span class="token operator">=</span> pLastNodeInList
        <span class="token keyword">if</span> pLastNodeInList <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pLastNodeInList<span class="token punctuation">.</span>right <span class="token operator">=</span> pCurrent
        pLastNodeInList <span class="token operator">=</span> pCurrent
        <span class="token keyword">if</span> pCurrent<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pLastNodeInList <span class="token operator">=</span> self<span class="token punctuation">.</span>ConvertNode<span class="token punctuation">(</span>pCurrent<span class="token punctuation">.</span>right<span class="token punctuation">,</span> pLastNodeInList<span class="token punctuation">)</span>
        <span class="token keyword">return</span> pLastNodeInList
    <span class="token keyword">def</span> <span class="token function">Convert</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRootOfTree<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;通过调用转换函数，并调整返回的末尾节点，返回头节点&quot;&quot;&quot;</span>
        pLastNodeInList <span class="token operator">=</span> <span class="token boolean">None</span>
        pLastNodeInList <span class="token operator">=</span> self<span class="token punctuation">.</span>ConvertNode<span class="token punctuation">(</span>pRootOfTree<span class="token punctuation">,</span>pLastNodeInList<span class="token punctuation">)</span>
        pHeadOfList <span class="token operator">=</span> pLastNodeInList
        <span class="token keyword">while</span> pHeadOfList <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pHeadOfList<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            pHeadOfList <span class="token operator">=</span> pHeadOfList<span class="token punctuation">.</span>left
        <span class="token keyword">return</span> pHeadOfList
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-37-序列化二叉树" tabindex="-1"><a class="header-anchor" href="#no-37-序列化二叉树" aria-hidden="true">#</a> NO.37 序列化二叉树</h2><p>题目：请实现两个函数，分别用来序列化和反序列化二叉树</p><ul><li>解题思路：<a href="#no7-%E9%87%8D%E5%BB%BA%E4%BA%8C%E5%8F%89%E6%A0%91">面试题7</a>中利用了前序和中序序列来重建二叉树，因此可以使用前序方法来序列化二叉树，为了能反序列化，对于空节点使用null表示，因此根节点后即为其左子树的根节点，若值为null则表示没有左子树，若其后跟两个null则表示到达叶子节点，因此可以利用递归的方式对其序列化和反序列化</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">Serialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的前序遍历二叉树，遇空节点使用特殊字符代替&quot;&quot;&quot;</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> root <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> result
        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
        result <span class="token operator">=</span> result <span class="token operator">+</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>Serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span>
        result <span class="token operator">=</span> result <span class="token operator">+</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>Serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
        
    <span class="token keyword">def</span> <span class="token function">Deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的读取序列生成节点&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> s<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        value <span class="token operator">=</span> s<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        pRoot <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">if</span> value<span class="token punctuation">:</span>
            pRoot <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            pRoot<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>Deserialize<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
            pRoot<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>Deserialize<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
        <span class="token keyword">return</span> pRoot
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-38-字符串的排列" tabindex="-1"><a class="header-anchor" href="#no-38-字符串的排列" aria-hidden="true">#</a> NO.38 字符串的排列</h2><p>题目：输入一个字符串，打印出该字符串中字符的所有排列。例如，输入字符abc，则打印出由字符a,b,c所能排列出来的所有字符串abc,acb,bac,bca,cab,cba。</p><ul><li>解题思路：对字符串进行排列，在考虑有重复字符的情况下，固定一位字符，剩下的字符f(n-1)种排列方法，而固定字符的选取可以有n种选择，因此长度为n的字符串有n*f(n-1)中排列方法，可采取递归的方式求得f(n-1)的组合，在将第一个固定位的字符与后面的字符依次交换，分别求f(n-1)即可得到全排列，在有重复字符的情况下，每次保存交换过的字符，对重复的字符仅交换一次，即可避免继续重复排列。</li><li>步骤 <ol><li>设置结果容器result，判断当前固定位pCur是否是最后一位，若是则直接将当前字符数组拼接，推入result中，并返回result</li><li>设置charSet集合临时变量，从当前固定位开始遍历，若charSet中存储有该字符则，跳过本次遍历，若没有则加入charSet中，进行步骤3</li><li>交换当前索引i和pCur处的字符，向后移动pCur，递归子串的排列，重复步骤1-3</li><li>将递归的返回结果与result连接起来，复原交换的字符(回溯)</li><li>遍历完成后返回result即可</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;依照剑指offer中C++代码思路修改的python算法，原C++代码中无法保证输入重复字符时，输出不重复的组合，也无法保证按字典序输出。
    本算法中在循环中添加if判断是否字符是否重复，并在Permutation函数返回时，调用sorted函数进行排序，因此有很大的算法改进空间&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">PermutationCore</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> ss<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的从左到右调换列表中的元素位置，返回调换后的组合，i为调换的起始位置&quot;&quot;&quot;</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> i <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token comment"># 当起始位置到达列表末尾时，直接返回该列表组合成的字符串即可</span>
            result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>ss<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> result
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># 循环中依次将每个字符和起始字符交换，递归返回剩余部分组合的字符串</span>
                <span class="token keyword">if</span> ss<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> ss<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">and</span> j <span class="token operator">!=</span> i<span class="token punctuation">:</span>
                    <span class="token comment"># 若两字符相同，则没有交换的必要(首字符交换的情况除外)</span>
                    <span class="token keyword">continue</span>
                temp <span class="token operator">=</span> ss<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
                ss<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> ss<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                ss<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp
                result <span class="token operator">=</span> result <span class="token operator">+</span> self<span class="token punctuation">.</span>PermutationCore<span class="token punctuation">(</span>ss<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token comment"># 还原交换过的字符</span>
                temp <span class="token operator">=</span> ss<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
                ss<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> ss<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                ss<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp
        <span class="token keyword">return</span> result

    <span class="token keyword">def</span> <span class="token function">Permutation</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> ss<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;主函数，传入列表，使用sorted函数按字典序重新排序返回的字符串组合&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> ss<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>
        <span class="token keyword">return</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>PermutationCore<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-39-数组中出现次数超过一半的数字" tabindex="-1"><a class="header-anchor" href="#no-39-数组中出现次数超过一半的数字" aria-hidden="true">#</a> NO.39 数组中出现次数超过一半的数字</h2><p>题目：数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如，输入一个长度为9的数组[1,2,3,2,2,2,5,4,2]。由于数组2在数组中出现了5次，超过数组长度的一半，因此输出2.</p><ul><li>解题思路： <ol><li>次数超过一般的数字一定位于排序后数组的n/2处，可以利用快速排序法，选择比较基数，若左边的序列长度超过一半，则该数字在左边序列中，递归判断子序列累积长度，即可找到该数字</li><li>遍历数组，对数字出现次数进行统计，num初始次数为1，若下一个数字相同则次数times++，否则times--，若times为0时，则改变num为当前遍历的数字，重置times为1，遍历完成后，times不为0，num一定是数组中出现次数最多的数字，验证其次数超过一半时即可返回</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">CheckMoreThanHalf</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers <span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;检查输入数字重复次数是否超过数组长度的一半&quot;&quot;&quot;</span>
        times <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> number<span class="token punctuation">:</span>
                times <span class="token operator">+=</span> <span class="token number">1</span>
        isMoreThanHalf <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> times <span class="token operator">*</span><span class="token number">2</span> <span class="token operator">&lt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
            isMoreThanHalf <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">return</span> isMoreThanHalf

    <span class="token keyword">def</span> <span class="token function">MoreThanHalfNum_Solution</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;通过加减法统计数字在数组中出现的次数，得到次数最高的数字，最终判断其次数是否超过数组长度的一半，算法复杂度O(n)&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> numbers<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        result <span class="token operator">=</span> numbers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        times <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> times <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                result <span class="token operator">=</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                times <span class="token operator">=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> result<span class="token punctuation">:</span>
                times <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                times <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>CheckMoreThanHalf<span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">:</span>
            result <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 另一个思路，利用快速排序法的思想，(此代码尚存在bug通过牛客网测试)</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;初始化全局错误指针，为了能使用random标准库，用self.random去应用导入后的该库&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>g_bInputInvalid <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">import</span> random
        self<span class="token punctuation">.</span>random <span class="token operator">=</span> random

    <span class="token keyword">def</span> <span class="token function">Partition</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;随机选择基准数，将较小数移到前方，返回基准数在调整顺序后的索引位置&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> data<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;Invalid Parameters&quot;</span><span class="token punctuation">)</span>
        <span class="token comment"># 在快速排序法基础上额外添加的防止错误出入代码</span>
        <span class="token keyword">if</span> start <span class="token operator">==</span> end<span class="token punctuation">:</span>
            <span class="token keyword">return</span> start
        
        index <span class="token operator">=</span> self<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>

        temp <span class="token operator">=</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>end<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> temp

        small <span class="token operator">=</span> start <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">for</span> index <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">&lt;</span> data<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">:</span>
                small <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> small <span class="token operator">!=</span> index<span class="token punctuation">:</span>
                    temp <span class="token operator">=</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
                    data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>small<span class="token punctuation">]</span>
                    data<span class="token punctuation">[</span>small<span class="token punctuation">]</span> <span class="token operator">=</span> temp
        small <span class="token operator">+=</span> <span class="token number">1</span>

        temp <span class="token operator">=</span> data<span class="token punctuation">[</span>small<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>small<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>end<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> temp

        <span class="token keyword">return</span> small

    <span class="token keyword">def</span> <span class="token function">CheckMoreThanHalf</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;同上一cell方法的检查函数&quot;&quot;&quot;</span>
        times <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> number<span class="token punctuation">:</span>
                times <span class="token operator">+=</span> <span class="token number">1</span>
        isMoreThanHalf <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> times <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">&lt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
            isMoreThanHalf <span class="token operator">=</span> <span class="token boolean">False</span>
            self<span class="token punctuation">.</span>g_bInputInvalid <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> isMoreThanHalf

    <span class="token keyword">def</span> <span class="token function">CheckInvalidArray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;检查输入是否合法&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>g_bInputInvalid <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> numbers<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>g_bInputInvalid <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>g_bInputInvalid

    <span class="token keyword">def</span> <span class="token function">MoreThanHalfNum_Solution</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;基于快速排序法，重复次数超过数组长度一半时该元素必定位于排序后数组的中间位置，因此基于快速排序法查找排序后位于中间位置
        的元素，并检查该元素是否符合要求&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>CheckInvalidArray<span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        middle <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        start <span class="token operator">=</span> <span class="token number">0</span>
        end <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
        index <span class="token operator">=</span> self<span class="token punctuation">.</span>Partition<span class="token punctuation">(</span>numbers<span class="token punctuation">,</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
        <span class="token keyword">while</span> index <span class="token operator">!=</span> middle<span class="token punctuation">:</span>
            <span class="token keyword">if</span> index <span class="token operator">&gt;</span> middle<span class="token punctuation">:</span>
                end <span class="token operator">=</span> index <span class="token operator">-</span> <span class="token number">1</span>
                index <span class="token operator">=</span> self<span class="token punctuation">.</span>Partition<span class="token punctuation">(</span>numbers<span class="token punctuation">,</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                start <span class="token operator">=</span> index <span class="token operator">+</span> <span class="token number">1</span>
                index <span class="token operator">=</span> self<span class="token punctuation">.</span>Partition<span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
        result <span class="token operator">=</span> numbers<span class="token punctuation">[</span>middle<span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>CheckMoreThanHalf<span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">:</span>
            result <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">return</span> result
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-40-最小的k个数" tabindex="-1"><a class="header-anchor" href="#no-40-最小的k个数" aria-hidden="true">#</a> NO.40 最小的k个数</h2><p>题目：输入n个整数，找出其中最小的k个数。例如，输入4,5,1,6,2,7,3,8这8个数，则最小的四个数是1,2,3,4.</p><ul><li>解题思路： <ol><li>利用快速排序法，选定基数，将较小的数移到数组前方，返回基数所在位置索引。若索引小于目标k-1(索引从0开始)，则说明最小的k个数有一部分在右边序列中，并对右方范围序列再进行快排比较，如此反复直到返回索引为k-1,则该数组前k项即为最小的k个数。时间复杂度为O(n)</li><li>利用容量为k个数的最大堆或红黑树容器，对数组进行一次遍历比较，较小的存入/交换到容器中，遍历完成后容器中即为最小的k个数，时间复杂度为O(nlogk)</li></ol></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;时间复杂度为O(n)的算法，需要修改数组，且输出的k个数不一定是排序的，此算法虽能满足题目要求，但不能通过牛客网测试&quot;&quot;&quot;</span>

    <span class="token keyword">def</span> <span class="token function">Partition</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;随机选择基准数，将较小数移到前方，返回基准数在调整顺序后的索引位置&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> data<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;Invalid Parameters&quot;</span><span class="token punctuation">)</span>
        <span class="token comment"># 在快速排序法基础上额外添加的防止错误出入代码</span>
        <span class="token keyword">if</span> start <span class="token operator">==</span> end<span class="token punctuation">:</span>
            <span class="token keyword">return</span> start

        index <span class="token operator">=</span> random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>

        temp <span class="token operator">=</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>end<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> temp

        small <span class="token operator">=</span> start <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">for</span> index <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">&lt;</span> data<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">:</span>
                small <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> small <span class="token operator">!=</span> index<span class="token punctuation">:</span>  <span class="token comment"># 此时index指向较小数，small指向较大数，交换两者的位置</span>
                    temp <span class="token operator">=</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
                    data<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>small<span class="token punctuation">]</span>
                    data<span class="token punctuation">[</span>small<span class="token punctuation">]</span> <span class="token operator">=</span> temp
        small <span class="token operator">+=</span> <span class="token number">1</span>

        temp <span class="token operator">=</span> data<span class="token punctuation">[</span>small<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>small<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>end<span class="token punctuation">]</span>
        data<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> temp

        <span class="token keyword">return</span> small

    <span class="token keyword">def</span> <span class="token function">GetLeastNumbers_Solution</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tinput<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> tinput <span class="token keyword">or</span> k <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        start <span class="token operator">=</span> <span class="token number">0</span>
        end <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tinput<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
        index <span class="token operator">=</span> self<span class="token punctuation">.</span>Partition<span class="token punctuation">(</span>tinput<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
        <span class="token keyword">while</span> index <span class="token operator">!=</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment"># 若基准为不为k，大于则递归其前方的位置，小于则递归后方，直到找到k所在的位置，其前方均为小于k的数</span>
            <span class="token keyword">if</span> index <span class="token operator">&gt;</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
                end <span class="token operator">=</span> index <span class="token operator">-</span> <span class="token number">1</span>
                index <span class="token operator">=</span> self<span class="token punctuation">.</span>Partition<span class="token punctuation">(</span>tinput<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                start <span class="token operator">=</span> index <span class="token operator">+</span> <span class="token number">1</span>
                index <span class="token operator">=</span> self<span class="token punctuation">.</span>Partition<span class="token punctuation">(</span>tinput<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
        <span class="token keyword">return</span> tinput<span class="token punctuation">[</span><span class="token punctuation">:</span>k<span class="token punctuation">]</span>
<span class="token comment">#test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>GetLeastNumbers_Solution<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;解法二：时间复杂度为O(nlogK)的算法，利用红黑树来维护最大值，适合用来处理海量数据&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">GetLeastNumbers_Solution</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tinput<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> tinput <span class="token keyword">or</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tinput<span class="token punctuation">)</span> <span class="token operator">&lt;</span> k <span class="token keyword">or</span> k <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> tinput<span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">&lt;</span> k<span class="token punctuation">:</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                result<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> i <span class="token operator">&lt;</span> result<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    result<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> i
        <span class="token keyword">return</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-41-数据流中的中位数" tabindex="-1"><a class="header-anchor" href="#no-41-数据流中的中位数" aria-hidden="true">#</a> NO.41 数据流中的中位数</h2><p>题目：如何得到一个数据流中的中位数？如果从数据流中读出奇数个数值，那么中位数就是所有数值排序之后位于中间的数值，若果从数据流中读出偶数个数值，那么中位数就是所有数值排序后中间两个数的平均值</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;使用最大堆和最小堆来存储排好序后的中位数左边和右边，根据两堆的总元素两即可判断中位数的数值&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用对象的初始化功能，导入heapq优先队列堆标准库，并初始化最大堆和最小堆&quot;&quot;&quot;</span>
        <span class="token keyword">import</span> heapq
        self<span class="token punctuation">.</span>hq <span class="token operator">=</span> heapq
        self<span class="token punctuation">.</span>max_hq <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>min_hq <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">Insert</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;数据流的个数是偶数个则在最小堆中插入，同时判断新输入的数据流插入后是否符合最大堆的最大元素小于最小堆的最小元素。
        由于heapq标准库中只有最小堆，所以采用所有数据取反存储的方式实现最大堆&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>min_hq<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>max_hq<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>max_hq<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> num <span class="token operator">&lt;</span> <span class="token operator">-</span>self<span class="token punctuation">.</span>max_hq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>hq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>self<span class="token punctuation">.</span>max_hq<span class="token punctuation">,</span> <span class="token operator">-</span>num<span class="token punctuation">)</span>
                num <span class="token operator">=</span> <span class="token operator">-</span>self<span class="token punctuation">.</span>hq<span class="token punctuation">.</span>heappop<span class="token punctuation">(</span>self<span class="token punctuation">.</span>max_hq<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>hq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>self<span class="token punctuation">.</span>min_hq<span class="token punctuation">,</span> num<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>min_hq<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>min_hq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> num<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>hq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>self<span class="token punctuation">.</span>min_hq<span class="token punctuation">,</span> num<span class="token punctuation">)</span>
                num <span class="token operator">=</span> self<span class="token punctuation">.</span>hq<span class="token punctuation">.</span>heappop<span class="token punctuation">(</span>self<span class="token punctuation">.</span>min_hq<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>hq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>self<span class="token punctuation">.</span>max_hq<span class="token punctuation">,</span> <span class="token operator">-</span>num<span class="token punctuation">)</span>
                
    <span class="token keyword">def</span> <span class="token function">GetMedian</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> fuck<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;判断数据流的大小，按照奇偶规则从堆中返回中位数,另外由于牛客网bug，此函数必须额外增加一个参数，遂用fuck代替&quot;&quot;&quot;</span>
        size <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>max_hq<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>min_hq<span class="token punctuation">)</span>
        <span class="token keyword">if</span> size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;No number are available!&quot;</span><span class="token punctuation">)</span>
        median <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            median <span class="token operator">=</span> self<span class="token punctuation">.</span>min_hq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            median <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>min_hq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>max_hq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
        <span class="token keyword">return</span> median
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-42-连续子数组的最大和" tabindex="-1"><a class="header-anchor" href="#no-42-连续子数组的最大和" aria-hidden="true">#</a> NO.42 连续子数组的最大和</h2><p>题目：输入一个整形数组，数组中有正数也有负数。数组中的一个或连续多个整数组成一个子数组。求所有子数组的和的最大值。要求时间复杂度为O(n)</p><ul><li>解题思路： <ul><li>思路1：使用sum变量存储累加和，当sum小于或等于0时再累加只能让数字更小，因此丢弃sum值，并赋予当前遍历的值item，每次遍历判断sum是否比暂存的max大，若大则将max更新为最新的sum</li><li>思路2：动态规划</li></ul></li><li>js实现思路1：</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">FindGreatestSumOfSubArray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;一次遍历，逐个比较累加子数组之和，若当前和小于等于0则重新选择下一值为新起点&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> array<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        nCurSum <span class="token operator">=</span> <span class="token number">0</span>
        nGreatSum <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0x80000000</span> <span class="token comment"># python中数值溢出会自动使用大数表示法，因此要表示最小整型数字只能在前方加‘-’号</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> array<span class="token punctuation">:</span>
            <span class="token keyword">if</span> nCurSum <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
                nCurSum <span class="token operator">=</span> i
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                nCurSum <span class="token operator">+=</span> i
            <span class="token keyword">if</span> nCurSum <span class="token operator">&gt;</span> nGreatSum<span class="token punctuation">:</span>
                nGreatSum <span class="token operator">=</span> nCurSum
        <span class="token keyword">return</span> nGreatSum
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-43-1-n-整数中1出现的次数" tabindex="-1"><a class="header-anchor" href="#no-43-1-n-整数中1出现的次数" aria-hidden="true">#</a> NO.43 [1,n]整数中1出现的次数</h2><p>题目：输入一个整数n，求[1,n]这n个整数的十进制表示中1出现的次数。例如，输入12，则[1,12]这些整数中包含1的数字有1，10,11和12,1一共出现了5次</p><ul><li>解题思路：此题本质可按照排列组合来处理</li></ul><p>将1~n，个、十、百、千···等各位置出现1的次数相加，即为总次数<br> 设当前为i的值为cur，则高位组成的值为high、低位组成的值为low，当前为乘率为digit</p><ol><li>当cur=0，出现1的次数为<code>high*digit</code>，以n=2304的十位为例:<br><img src="/assets/S4O43-1.8649e887.png" alt="S4O43-1.png"></li><li>当cur=1，出现1的次数为<code>high*digit + low + 1</code>，以n=2314的十位为例:<br><img src="/assets/S4O43-2.fc71c274.png" alt="S4O43-2.png"></li><li>当cur&gt;1时，出现1的次数为<code>(high + 1) * digit</code>，以n=2324的十位为例:<br><img src="/assets/S4O43-3.495765f4.png" alt="S4O43-3.png"></li></ol><p>循环遍历每一位，终止条件为cur和high同时为0，<a href="https://leetcode.cn/problems/1nzheng-shu-zhong-1chu-xian-de-ci-shu-lcof/solution/mian-shi-ti-43-1n-zheng-shu-zhong-1-chu-xian-de-2/" target="_blank" rel="noopener noreferrer">参考leetcode路飞<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 此题转换为排列组合后，关键在于确定cur出现1的数字范围，限定范围后，可按照排列组合的方式确定，组合数</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">countDigitOne</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        digit<span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span>
        high<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> low <span class="token operator">=</span> n <span class="token operator">//</span> <span class="token number">10</span><span class="token punctuation">,</span> n <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span>
        <span class="token keyword">while</span> high <span class="token operator">!=</span> <span class="token number">0</span> <span class="token keyword">or</span> cur <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> cur <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span> res <span class="token operator">+=</span> high <span class="token operator">*</span> digit
            <span class="token keyword">elif</span> cur <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span> res <span class="token operator">+=</span> high <span class="token operator">*</span> digit <span class="token operator">+</span> low <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span> res <span class="token operator">+=</span> <span class="token punctuation">(</span>high <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> digit
            low <span class="token operator">+=</span> cur <span class="token operator">*</span> digit
            cur <span class="token operator">=</span> high <span class="token operator">%</span> <span class="token number">10</span>
            high <span class="token operator">//=</span> <span class="token number">10</span>
            digit <span class="token operator">*=</span> <span class="token number">10</span>
        <span class="token keyword">return</span> res
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-44-数字序列中某一位的数字" tabindex="-1"><a class="header-anchor" href="#no-44-数字序列中某一位的数字" aria-hidden="true">#</a> NO.44 数字序列中某一位的数字</h2><p>题目：数字以0123456789101112131415...的格式序列化到一个字符序列中。在这个序列中，第5位(从0开始计数)是5，第13位是1，第19为是4，等等。请写一个函数，求任意第n位对应的数字</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">beginNumber</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> digits<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> digits <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        <span class="token keyword">return</span> <span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> digits <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">digitsAtIndex</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>index<span class="token punctuation">,</span> digits<span class="token punctuation">)</span><span class="token punctuation">:</span>
        number <span class="token operator">=</span> self<span class="token punctuation">.</span>beginNumber<span class="token punctuation">(</span>digits<span class="token punctuation">)</span> <span class="token operator">+</span> index <span class="token operator">/</span> digits
        indexFromRight <span class="token operator">=</span> digits <span class="token operator">-</span> index <span class="token operator">%</span> digits
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>indexFromRight<span class="token punctuation">)</span><span class="token punctuation">:</span>
            number <span class="token operator">/=</span> <span class="token number">10</span>
        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>number <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">countOfIntegers</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> digits<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> digits <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">10</span>
        count <span class="token operator">=</span> <span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> digits <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token number">9</span><span class="token operator">*</span>count
    <span class="token keyword">def</span> <span class="token function">digitsAtIndex_main</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        digits <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            number <span class="token operator">=</span> self<span class="token punctuation">.</span>countOfIntegers<span class="token punctuation">(</span>digits<span class="token punctuation">)</span>
            <span class="token keyword">if</span> index <span class="token operator">&lt;</span> number <span class="token operator">*</span> digits<span class="token punctuation">:</span>
                <span class="token keyword">return</span> self<span class="token punctuation">.</span>digitsAtIndex<span class="token punctuation">(</span>index<span class="token punctuation">,</span> digits<span class="token punctuation">)</span>
            index <span class="token operator">-=</span> digits <span class="token operator">*</span> number
            digits <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>digitsAtIndex_main<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-45-把数组排成最小的数" tabindex="-1"><a class="header-anchor" href="#no-45-把数组排成最小的数" aria-hidden="true">#</a> NO.45 把数组排成最小的数</h2><p>题目：输入一个正整数数组，把数组里所有数字拼接起来排成一个数，打印能拼接出的所有数组中最小的一个。例如，输入数组{3,32,321}，则打印出这三个数字能排成的最小数字321323</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;定义一种新的比较大小数字大小的方法，使用该方法对数组进行排序，同时考虑大数问题&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">PrintMinNumber</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> numbers<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>
        strNumber <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> numbers<span class="token punctuation">]</span>

        <span class="token keyword">def</span> <span class="token function">compare</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> str2<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;新的比较方法，尝试拼接两字符串然后比较大小&quot;&quot;&quot;</span>
            <span class="token keyword">if</span> str1<span class="token operator">+</span>str2 <span class="token operator">&gt;</span> str2<span class="token operator">+</span>str1<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> str1 <span class="token operator">+</span> str2 <span class="token operator">&lt;</span> str2 <span class="token operator">+</span> str1<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token number">0</span>
        <span class="token comment"># python3中取消了cmp参数，但牛客网中使用的是python2.7故能通过测试代码，python3中的解决代码如下;</span>
<span class="token comment">#         import functools</span>
<span class="token comment">#         strNumber = sorted(strNumber, key=functools.cmp_to_key(compare))</span>
        strNumber <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>strNumber<span class="token punctuation">,</span> <span class="token builtin">cmp</span><span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span>compare<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>strNumber<span class="token punctuation">)</span>
<span class="token comment"># test code </span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-46-把数字翻译成字符串" tabindex="-1"><a class="header-anchor" href="#no-46-把数字翻译成字符串" aria-hidden="true">#</a> NO.46 把数字翻译成字符串</h2><p>题目：给定一个数字，我们按照如下规则把它翻译为字符串：0翻译成&#39;a&#39;，1翻译为&#39;b&#39;，....，11翻译为&#39;l&#39;，...，25翻译为&#39;z&#39;。一个数字可能有多个翻译。例如，12258有5中不同的翻译，分别是&#39;bccfi&#39;,&#39;bwfi&#39;,&#39;bczi&#39;,&#39;mcfi&#39;,&#39;mzi&#39;。请编程实现一个函数，用来计算一个数字有多少种不同的翻译方法。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;从右向左的依次计算可组合翻译的种类，避免重复计算了拆分的小问题&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">GetTranslationCount</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> number <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        strNumber <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>
        length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>strNumber<span class="token punctuation">)</span>
        counts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> length
        count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            count <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">if</span> i <span class="token operator">&lt;</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token comment"># 避免counts在未初始化时对count进行了赋值</span>
                count <span class="token operator">=</span> counts<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># count初始值总是前面可组合的次数，在此基础上进行累积</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                count <span class="token operator">=</span> <span class="token number">1</span>
            <span class="token keyword">if</span> i <span class="token operator">&lt;</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
                digit1 <span class="token operator">=</span> <span class="token builtin">ord</span><span class="token punctuation">(</span>strNumber<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span>
                digit2 <span class="token operator">=</span> <span class="token builtin">ord</span><span class="token punctuation">(</span>strNumber<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span>
                converted <span class="token operator">=</span> digit1 <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> digit2
                <span class="token keyword">if</span> converted <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token keyword">and</span> converted <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">:</span> <span class="token comment"># 可合并翻译的情况</span>
                    <span class="token keyword">if</span> i <span class="token operator">&lt;</span> length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">:</span>
                        count <span class="token operator">+=</span> counts<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        count <span class="token operator">+=</span> <span class="token number">1</span>
            counts<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> count
        <span class="token keyword">return</span> count
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token number">12258</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>GetTranslationCount<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-47-礼物的最大价值" tabindex="-1"><a class="header-anchor" href="#no-47-礼物的最大价值" aria-hidden="true">#</a> NO.47 礼物的最大价值</h2><p>题目:在一个m*n的棋盘的每一格都放有一个礼物，每个礼物都有一定的价值(价值大于0).你可以从棋盘的左上角开始拿格子里的礼物，并每次向右或者向下移动一格，直到达到棋盘的右下角。给定一个棋盘及其上面的礼物，请计算你最多能拿到多少价值的礼物？</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">getMaxValue_solution</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>values<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;解决方案一，使用辅助的二维矩阵记录路径上能得到的最大价值&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> values<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        rows <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span>
        clos <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>values<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        maxValue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> clos <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>clos<span class="token punctuation">)</span><span class="token punctuation">:</span>
                left <span class="token operator">=</span> <span class="token number">0</span>
                up <span class="token operator">=</span> <span class="token number">0</span>
                <span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    up <span class="token operator">=</span> maxValue<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
                <span class="token keyword">if</span> j <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    left <span class="token operator">=</span> maxValue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
                maxValue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> up<span class="token punctuation">)</span> <span class="token operator">+</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        maxValue <span class="token operator">=</span> maxValue<span class="token punctuation">[</span>rows<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>clos<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> maxValue
    <span class="token keyword">def</span> <span class="token function">getMaxValue_solution2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>values<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;优化方案，使用一维数组记录路径上能得到的最大价值&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> values<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        rows <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span>
        clos <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>values<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        maxValues <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> clos
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>clos<span class="token punctuation">)</span><span class="token punctuation">:</span>
                left <span class="token operator">=</span> <span class="token number">0</span>
                up <span class="token operator">=</span> <span class="token number">0</span>
                <span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">:</span>
                    up <span class="token operator">=</span> maxValues<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
                <span class="token keyword">if</span> j <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    left <span class="token operator">=</span> maxValues<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
                maxValues<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>up<span class="token punctuation">,</span> left<span class="token punctuation">)</span> <span class="token operator">+</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        maxValues <span class="token operator">=</span> maxValues<span class="token punctuation">[</span>clos <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> maxValues
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>getMaxValue_solution2<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-48-最长不含重复字符的字符串" tabindex="-1"><a class="header-anchor" href="#no-48-最长不含重复字符的字符串" aria-hidden="true">#</a> NO.48 最长不含重复字符的字符串</h2><p>题目：请从字符串中找出一个最长的不包含重复字符的子字符串，计算该最长子字符串的长度。假设字符串中只包含&#39;a&#39;-&#39;z&#39;的字符。例如，在字符串&quot;arabcacfr&quot;中，最长的不含重复字符的子字符串是&quot;acfr&quot;，长度为4.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">longestSubstringWithoutDuplication</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> strs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;position用来存储上一次对应位置字符出现的索引值&quot;&quot;&quot;</span>
        curLength <span class="token operator">=</span> <span class="token number">0</span>
        maxLength <span class="token operator">=</span> <span class="token number">0</span>
        position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">26</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>strs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            prevIndex <span class="token operator">=</span> position<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>strs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span> prevIndex <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> i <span class="token operator">-</span> prevIndex <span class="token operator">&gt;</span> curLength<span class="token punctuation">:</span> <span class="token comment"># 计算距离d是否大于当前长度</span>
                curLength <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> curLength <span class="token operator">&gt;</span> maxLength<span class="token punctuation">:</span>
                    maxLength <span class="token operator">=</span> curLength
                curLength <span class="token operator">=</span> i <span class="token operator">-</span> prevIndex
            position<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>strs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> i
        <span class="token keyword">if</span> curLength <span class="token operator">&gt;</span> maxLength<span class="token punctuation">:</span>
            maxLength <span class="token operator">=</span> curLength
        <span class="token keyword">return</span> maxLength
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token string">&#39;arabcacfr&#39;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>longestSubstringWithoutDuplication<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-49-丑数" tabindex="-1"><a class="header-anchor" href="#no-49-丑数" aria-hidden="true">#</a> NO.49 丑数</h2><p>题目：我们把只包含因子2,3,5的数成为丑数，求从小到大的顺序的第1500个丑数。例如，6,8都是丑数，但14不是，因为它包含因子7.习惯上我们把1当做第一个丑数。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">GetUglyNumber_Solution</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用丑数产生丑数，相比于直接判断每一个整数的方法计算速度要快，但同时将使用O(n)复杂度的存储空间&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> index <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        pUglyNumbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> index
        pUglyNumbers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
        nextUglyIndex <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token comment"># pMultiply&#39;s Index in pUglyNumbers 记录第一个乘以因子比当前最大丑数大的基丑数的索引位置</span>
        pMultiply2 <span class="token operator">=</span> <span class="token number">0</span>
        pMultiply3 <span class="token operator">=</span> <span class="token number">0</span>
        pMultiply5 <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> nextUglyIndex <span class="token operator">&lt;</span> index<span class="token punctuation">:</span>
            minNumber <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pUglyNumbers<span class="token punctuation">[</span>pMultiply2<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> pUglyNumbers<span class="token punctuation">[</span>pMultiply3<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">,</span> 
                             pUglyNumbers<span class="token punctuation">[</span>pMultiply5<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            pUglyNumbers<span class="token punctuation">[</span>nextUglyIndex<span class="token punctuation">]</span> <span class="token operator">=</span> minNumber
            <span class="token comment"># update T2,T3,T5</span>
            <span class="token keyword">while</span> pUglyNumbers<span class="token punctuation">[</span>pMultiply2<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">&lt;=</span> pUglyNumbers<span class="token punctuation">[</span>nextUglyIndex<span class="token punctuation">]</span><span class="token punctuation">:</span>
                pMultiply2 <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">while</span> pUglyNumbers<span class="token punctuation">[</span>pMultiply3<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">&lt;=</span> pUglyNumbers<span class="token punctuation">[</span>nextUglyIndex<span class="token punctuation">]</span><span class="token punctuation">:</span>
                pMultiply3 <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">while</span> pUglyNumbers<span class="token punctuation">[</span>pMultiply5<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">&lt;=</span> pUglyNumbers<span class="token punctuation">[</span>nextUglyIndex<span class="token punctuation">]</span><span class="token punctuation">:</span>
                pMultiply5 <span class="token operator">+=</span> <span class="token number">1</span>
            nextUglyIndex <span class="token operator">+=</span> <span class="token number">1</span>
        ugly <span class="token operator">=</span> pUglyNumbers<span class="token punctuation">[</span>nextUglyIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> ugly
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-50-第一个只出现一次的字符" tabindex="-1"><a class="header-anchor" href="#no-50-第一个只出现一次的字符" aria-hidden="true">#</a> NO.50 第一个只出现一次的字符</h2><ul><li>题目一：字符串中第一个只出现一次的字符。<br> 如输入&quot;abaccdeff&quot;则输出&#39;b&#39;</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">FirstNotRepeatingChar</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;使用长度为256的列表表示ASCII码，列表中的值表示对应字符出现的次数，模拟哈希表，统计字符出现的次数，
        再依照字符出现的顺序检查哈希表，找出第一次只出现一次的字符&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> s<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>
        tableSize <span class="token operator">=</span> <span class="token number">256</span>
        hashTable <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> tableSize
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            hashTable<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> hashTable<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token string">&#39;abaccdeff&#39;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>FirstNotRepeatingChar<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 牛客网对应代码</span>
<span class="token triple-quoted-string string">&quot;&quot;&quot;在一个字符串(0&lt;=字符串长度&lt;=10000，全部由字母组成)中找到第一个只出现一次的字符,并返回它的位置, 
如果没有则返回 -1（需要区分大小写）&quot;&quot;&quot;</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">FirstNotRepeatingChar</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;使用长度为256的列表表示ASCII码，列表中的值表示对应字符出现的次数，模拟哈希表，统计字符出现的次数，
        再依照字符出现的顺序检查哈希表，找出第一次只出现一次的字符，并在第一题的基础上返回字符改为范围该索引，
        并将返回空字符的代码改为返回-1&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> s<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        tableSize <span class="token operator">=</span> <span class="token number">256</span>
        hashTable <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> tableSize
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            hashTable<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> hashTable<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> i
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网测试通过</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目二：字符流中第一个只出现一次的字符<br> 请实现一个函数，用来找出字符流中的第一个只出现一次的字符。例如，当从字符流中只读出两个字符&quot;go&quot;时，第一个只出现一次的字符是&quot;g&quot;；当从该字符流中读出前6个字符&quot;google&quot;时，第一个只出现一次的字符是&quot;I&quot;。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;初始化哈希表和索引,其中
        occurrence[i] = -1 表示元素尚未找到
        occurrence[i] = -2 表示元素被找到多次
        occurrence[i] &gt;= 0 表示元素仅被找到一次&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>occurrence <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">256</span>
        self<span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">Insert</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>ch<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>occurrence<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>occurrence<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>index
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>occurrence<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>occurrence<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>
        self<span class="token punctuation">.</span>index <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">def</span> <span class="token function">FirstAppearingOnce</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;若元素不存在，或未被找到则输出#&quot;&quot;&quot;</span>
        ch <span class="token operator">=</span> <span class="token string">&#39;#&#39;</span>
        minIndex <span class="token operator">=</span> <span class="token number">0xffffffff</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>occurrence<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>occurrence<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> minIndex<span class="token punctuation">:</span>
                ch <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
                minIndex <span class="token operator">=</span> self<span class="token punctuation">.</span>occurrence<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">return</span> ch
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token string">&#39;abaccdebff&#39;</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a<span class="token punctuation">.</span>Insert<span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>FirstAppearingOnce<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 存储数据版代码，上述算法并未在插入时存储有效的插入数据，此版本利用存储的数据对字符进行索引</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;初始化数据存储列表，散列表，和索引值&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>countNumber <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">256</span>
        self<span class="token punctuation">.</span>once <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">FirstAppearingOnce</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用始终指向第一个只出现一次的字符的索引值返回对应字符&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>once<span class="token punctuation">]</span> <span class="token keyword">if</span> self<span class="token punctuation">.</span>once <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">&#39;#&#39;</span>
    <span class="token keyword">def</span> <span class="token function">Insert</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> char<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;存储插入的字符并更新散列表中的次数，检查索引值是否始终指向第一次只出现一次的字符，若此字符不存在，则索引值指向界外&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>char<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>countNumber<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>once <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>countNumber<span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>once<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>once <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-51-数组中的逆序对" tabindex="-1"><a class="header-anchor" href="#no-51-数组中的逆序对" aria-hidden="true">#</a> NO.51 数组中的逆序对</h2><p>题目：在数组中有两个数字，如果前面一个数字大于后面的数字，则两个数字组成一个逆序对。输入一个数组，求出这个数组中的逆序对的总数。例如在数组{7,5,6,4}中，一共存在5个逆序对，分别是(7,6),(7,5),(7,4),(6,4),(5,4).</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">InverseParisCroe</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>data<span class="token punctuation">,</span> copy<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用归并排序原理，递归的将数组进行拆分，在拆分的内部进行比较计算逆序对数，再比较分组之间的大小和逆序对数合并分组&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> start <span class="token operator">==</span> end<span class="token punctuation">:</span>
            copy<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>start<span class="token punctuation">]</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        length <span class="token operator">=</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        left <span class="token operator">=</span> self<span class="token punctuation">.</span>InverseParisCroe<span class="token punctuation">(</span>copy<span class="token punctuation">,</span>data<span class="token punctuation">,</span>start<span class="token punctuation">,</span>start <span class="token operator">+</span> length<span class="token punctuation">)</span>
        right <span class="token operator">=</span> self<span class="token punctuation">.</span>InverseParisCroe<span class="token punctuation">(</span>copy<span class="token punctuation">,</span>data<span class="token punctuation">,</span> start <span class="token operator">+</span> length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span>
        i <span class="token operator">=</span> start <span class="token operator">+</span> length
        j <span class="token operator">=</span> end
        indexCopy <span class="token operator">=</span> end
        count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> i <span class="token operator">&gt;=</span> start <span class="token keyword">and</span> j <span class="token operator">&gt;=</span> start <span class="token operator">+</span> length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
                copy<span class="token punctuation">[</span>indexCopy<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                indexCopy <span class="token operator">-=</span> <span class="token number">1</span>
                i <span class="token operator">-=</span> <span class="token number">1</span>
                count <span class="token operator">+=</span> j <span class="token operator">-</span> start <span class="token operator">-</span> length
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                copy<span class="token punctuation">[</span>indexCopy<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
                indexCopy <span class="token operator">-=</span> <span class="token number">1</span>
                j <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">while</span> i <span class="token operator">&gt;=</span> start<span class="token punctuation">:</span>
            copy<span class="token punctuation">[</span>indexCopy<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            indexCopy <span class="token operator">-=</span> <span class="token number">1</span>
            i <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">while</span> j <span class="token operator">&gt;=</span> start <span class="token operator">+</span> length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>
            copy<span class="token punctuation">[</span>indexCopy<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
            indexCopy <span class="token operator">-=</span> <span class="token number">1</span>
            j <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> left <span class="token operator">+</span> right <span class="token operator">+</span> count
    <span class="token keyword">def</span> <span class="token function">InversePairs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> data<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        copy <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
        count <span class="token operator">=</span> self<span class="token punctuation">.</span>InverseParisCroe<span class="token punctuation">(</span>data<span class="token punctuation">,</span> copy<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> count
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>InversePairs<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;由于牛客网的原因，上个cell中的归并排序代码在算法复杂度上无法通过测试，但同样使用归并排序的以下算法可以
    一下算法和上述归并排序原理的算法的区别在于，该算法在数组上从左到右的进行比较和统计逆序对数&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">InversePairs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000000007</span>

    <span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> temp<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> right <span class="token operator">-</span> left <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        <span class="token keyword">if</span> right <span class="token operator">-</span> left <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> data<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> data<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token number">0</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                temp<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> temp<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
                <span class="token keyword">return</span> <span class="token number">1</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        res <span class="token operator">=</span> self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>data<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> temp<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>data<span class="token punctuation">,</span> mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">,</span> temp<span class="token punctuation">)</span>
        <span class="token comment"># 合并</span>
        i <span class="token operator">=</span> left
        j <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
        index <span class="token operator">=</span> left

        <span class="token keyword">while</span> i <span class="token operator">&lt;=</span> mid <span class="token keyword">and</span> j <span class="token operator">&lt;=</span> right<span class="token punctuation">:</span>
            <span class="token keyword">if</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
                temp<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                temp<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
                res <span class="token operator">+=</span> mid <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span>
                j <span class="token operator">+=</span> <span class="token number">1</span>
            index <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">while</span> i <span class="token operator">&lt;=</span> mid<span class="token punctuation">:</span>
            temp<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            i <span class="token operator">+=</span> <span class="token number">1</span>
            index <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">while</span> j <span class="token operator">&lt;=</span> right<span class="token punctuation">:</span>
            temp<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
            j <span class="token operator">+=</span> <span class="token number">1</span>
            index <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> res
<span class="token comment"># test code</span>
<span class="token comment"># 已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-52-两个链表的第一个公共节点" tabindex="-1"><a class="header-anchor" href="#no-52-两个链表的第一个公共节点" aria-hidden="true">#</a> NO.52 两个链表的第一个公共节点</h2><p>题目：输入两个链表，找出它们的第一个公共节点。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;由于是单向链表，公共节点及其后的节点一定都相同，不会出现分叉。基于此算法先求出两链表的长度，让较长的链表先遍历多出的节点，
    然后两链表再一起遍历，通过比较找出公共节点，若无公共节点返回None&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">GetListLength</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>phaed<span class="token punctuation">)</span><span class="token punctuation">:</span>
        nLength <span class="token operator">=</span> <span class="token number">0</span>
        pNode <span class="token operator">=</span> phaed
        <span class="token keyword">while</span> pNode <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            nLength <span class="token operator">+=</span> <span class="token number">1</span>
            pNode <span class="token operator">=</span> pNode<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> nLength
    <span class="token keyword">def</span> <span class="token function">FindFirstCommonNode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pHead1<span class="token punctuation">,</span> pHead2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        nLength1 <span class="token operator">=</span> self<span class="token punctuation">.</span>GetListLength<span class="token punctuation">(</span>pHead1<span class="token punctuation">)</span>
        nLength2 <span class="token operator">=</span> self<span class="token punctuation">.</span>GetListLength<span class="token punctuation">(</span>pHead2<span class="token punctuation">)</span>
        nLengthDif <span class="token operator">=</span> nLength1 <span class="token operator">-</span> nLength2
        
        pListHeadLong <span class="token operator">=</span> pHead1
        pListHeadShort <span class="token operator">=</span> pHead2
        
        <span class="token keyword">if</span> nLength2 <span class="token operator">&gt;</span> nLength1<span class="token punctuation">:</span>
            pListHeadLong <span class="token operator">=</span> pHead2
            pListHeadShort <span class="token operator">=</span> pHead1
            nLengthDif <span class="token operator">=</span> nLength2 <span class="token operator">-</span> nLength1
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>nLengthDif<span class="token punctuation">)</span><span class="token punctuation">:</span>
            pListHeadLong <span class="token operator">=</span> pListHeadLong<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">while</span> pListHeadLong <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pListHeadShort <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pListHeadLong <span class="token operator">!=</span> pListHeadShort<span class="token punctuation">:</span>
            pListHeadLong <span class="token operator">=</span> pListHeadLong<span class="token punctuation">.</span><span class="token builtin">next</span>
            pListHeadShort <span class="token operator">=</span> pListHeadShort<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> pListHeadLong
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-53-在排序数组中查找数字" tabindex="-1"><a class="header-anchor" href="#no-53-在排序数组中查找数字" aria-hidden="true">#</a> NO.53 在排序数组中查找数字</h2><ul><li>题目一：数字在排序数字中出现的次数<br> 统计一个数字在排序数组中出现的次数。例如，输入排序数组{1,2,3,3,3,3,4,5}和数字3，由于3在这个数组中出现了4次，因此输出4</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">GetFirstK</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>data<span class="token punctuation">,</span> k<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用二分查找法原理查找第一个k出现的位置，二分法找到k之后再尝试判断前一位数值，用与判断当前找到的k是否是第一个k&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> start <span class="token operator">&gt;</span> end<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        middleIndex <span class="token operator">=</span> <span class="token punctuation">(</span>start <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        middleData <span class="token operator">=</span> data<span class="token punctuation">[</span>middleIndex<span class="token punctuation">]</span>
        <span class="token keyword">if</span> middleData <span class="token operator">==</span> k<span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>middleIndex <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> data<span class="token punctuation">[</span>middleIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> k<span class="token punctuation">)</span> <span class="token keyword">or</span> middleIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> middleIndex
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                end <span class="token operator">=</span> middleIndex <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">elif</span> middleData <span class="token operator">&gt;</span> k<span class="token punctuation">:</span>
            end <span class="token operator">=</span> middleIndex <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            start <span class="token operator">=</span> middleIndex <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>GetFirstK<span class="token punctuation">(</span>data<span class="token punctuation">,</span> k<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">GetLastK</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">,</span> k<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;利用二分查找法原理查找最后一个k出现的位置，二分法找到k之后再尝试判断后一位数值，用与判断当前找到的k是否是最后一个k&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> start <span class="token operator">&gt;</span> end<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        middleIndex <span class="token operator">=</span> <span class="token punctuation">(</span>start <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        middleData <span class="token operator">=</span> data<span class="token punctuation">[</span>middleIndex<span class="token punctuation">]</span>
        <span class="token keyword">if</span> middleData <span class="token operator">==</span> k<span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>middleIndex <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token keyword">and</span> data<span class="token punctuation">[</span>middleIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> k<span class="token punctuation">)</span> <span class="token keyword">or</span> middleIndex <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> middleIndex
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                start <span class="token operator">=</span> middleIndex <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">elif</span> middleData <span class="token operator">&lt;</span> k<span class="token punctuation">:</span>
            start <span class="token operator">=</span> middleIndex <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            end <span class="token operator">=</span> middleIndex <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>GetLastK<span class="token punctuation">(</span>data<span class="token punctuation">,</span> k<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">GetNumberOfK</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;主函数，调用二分法原理的子函数，找到第一个k和最后一个k出现的位置，从而计算出k在数组中出现的次数&quot;&quot;&quot;</span>
        number <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">if</span> data<span class="token punctuation">:</span>
            first <span class="token operator">=</span> self<span class="token punctuation">.</span>GetFirstK<span class="token punctuation">(</span>data<span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
            last <span class="token operator">=</span> self<span class="token punctuation">.</span>GetLastK<span class="token punctuation">(</span>data<span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> first <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> last <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
                number <span class="token operator">=</span> last <span class="token operator">-</span> first <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">return</span> number
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目二：[0,n-1]中缺失的数字<br> 一个长度为n-1的递增排序数组中的所有数字都是唯一的，并且每一个数字都在范围[0,n-1]之内。在范围[0,n-1]之内的n个数字有且只有一个数字不在该数组中，请找出该数字。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">GetMissingNumber</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;问题转换为找到第一个下标和值不等的元素，利用二分查找法原理对排序数组进行查找&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> numbers<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        left <span class="token operator">=</span> <span class="token number">0</span>
        right <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">while</span> left <span class="token operator">&lt;=</span> right<span class="token punctuation">:</span>
            middle <span class="token operator">=</span> <span class="token punctuation">(</span>right <span class="token operator">+</span> left<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>
            <span class="token keyword">if</span> numbers<span class="token punctuation">[</span>middle<span class="token punctuation">]</span> <span class="token operator">!=</span> middle<span class="token punctuation">:</span>
                <span class="token keyword">if</span> middle <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> numbers<span class="token punctuation">[</span>middle<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> middle <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> middle
                right <span class="token operator">=</span> middle <span class="token operator">-</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                left <span class="token operator">=</span> middle <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">if</span> left <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>GetMissingNumber<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目三：数组中数值和下标相等的元素<br> 假设一个单调递增的数组里每个元素都是整数并且唯一。请实现一个函数，找出数组中任意一个数值等于其下标的元素。例如，在数组{-3,-1,1,3,5}中，数字3和它的下标相等。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">GetNumberSameAsIndex</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> numbers<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>
        left <span class="token operator">=</span> <span class="token number">0</span>
        right <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">while</span> left <span class="token operator">&lt;=</span> right<span class="token punctuation">:</span>
            middle <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>
            <span class="token keyword">if</span> numbers<span class="token punctuation">[</span>middle<span class="token punctuation">]</span> <span class="token operator">==</span> middle<span class="token punctuation">:</span>
                <span class="token keyword">return</span> middle
            <span class="token keyword">if</span> numbers<span class="token punctuation">[</span>middle<span class="token punctuation">]</span> <span class="token operator">&gt;</span> middle<span class="token punctuation">:</span>
                right <span class="token operator">=</span> middle <span class="token operator">-</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                left <span class="token operator">=</span> middle <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>GetNumberSameAsIndex<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-54-二叉搜索树的第k大节点" tabindex="-1"><a class="header-anchor" href="#no-54-二叉搜索树的第k大节点" aria-hidden="true">#</a> NO.54 二叉搜索树的第K大节点</h2><p>题目：给定一个二叉搜索数，请找出其中第k大的节点。例如，在下图中的二叉搜索树里，按节点数值大小顺序，第3大节点的值是4<br><img src="/assets/n54.932400b4.png" alt="n54.png"></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">TreeNode</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>val <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token boolean">None</span>
        self<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token boolean">None</span>

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;中根序遍历一遍二叉搜索树相当于按节点数值大小顺遍历二叉树，遍历k次即可找到第k大的节点&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">KthNodeCroe</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>pRoot<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
        target <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">if</span> pRoot<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            target <span class="token operator">=</span> self<span class="token punctuation">.</span>KthNodeCroe<span class="token punctuation">(</span>pRoot<span class="token punctuation">.</span>left<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
        <span class="token keyword">if</span> target <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> k<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                target <span class="token operator">=</span> pRoot
            k<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> target <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">and</span> pRoot<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            target <span class="token operator">=</span> self<span class="token punctuation">.</span>KthNodeCroe<span class="token punctuation">(</span>pRoot<span class="token punctuation">.</span>right<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
        <span class="token keyword">return</span> target
    <span class="token keyword">def</span> <span class="token function">KthNode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>pRoot<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> pRoot <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">or</span> k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>KthNodeCroe<span class="token punctuation">(</span>pRoot<span class="token punctuation">,</span> <span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
pRoot <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
pRoot<span class="token punctuation">.</span>left <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
pRoot<span class="token punctuation">.</span>right <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
pRoot<span class="token punctuation">.</span>left<span class="token punctuation">.</span>left <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
pRoot<span class="token punctuation">.</span>left<span class="token punctuation">.</span>right <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
pRoot<span class="token punctuation">.</span>right<span class="token punctuation">.</span>left <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
pRoot<span class="token punctuation">.</span>right<span class="token punctuation">.</span>right <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>KthNode<span class="token punctuation">(</span>pRoot<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-55-二叉树的深度" tabindex="-1"><a class="header-anchor" href="#no-55-二叉树的深度" aria-hidden="true">#</a> NO.55 二叉树的深度</h2><ul><li>题目一：二叉树的深度<br> 输入一颗二叉树的根节点，求该树的深度。从根节点到叶节点依次经过的节点(含根、叶节点)形成树的一条路径，最长路径的长度为树的深度</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">TreeDepth</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的计算左右子树的深度，其中较大者加1就是本树的深度&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> pRoot <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        nLeft <span class="token operator">=</span> self<span class="token punctuation">.</span>TreeDepth<span class="token punctuation">(</span>pRoot<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
        nRight <span class="token operator">=</span> self<span class="token punctuation">.</span>TreeDepth<span class="token punctuation">(</span>pRoot<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
        <span class="token keyword">return</span> nLeft <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">if</span> nLeft <span class="token operator">&gt;</span> nRight <span class="token keyword">else</span> nRight <span class="token operator">+</span> <span class="token number">1</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目二：平衡二叉树<br> 输入一颗二叉树的根节点，判断该树是不是平衡二叉树。如果某二叉树中任意节点的左、右子树的深度相差不超过1，那么它就是一颗平衡二叉树。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;利用后根序遍历原理，遍历的同时比较两颗子树的深度，判断是否平衡，利用可变类型list传入递归函数取得被递归的左右子树的最大深度&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">IsBalancedCroe</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot<span class="token punctuation">,</span> pDepth<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> pRoot<span class="token punctuation">:</span>
            pDepth<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>IsBalancedCroe<span class="token punctuation">(</span>pRoot<span class="token punctuation">.</span>left<span class="token punctuation">,</span> left<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>IsBalancedCroe<span class="token punctuation">(</span>pRoot<span class="token punctuation">.</span>right<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">:</span>
            diff <span class="token operator">=</span> left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span> diff <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token keyword">and</span> diff <span class="token operator">&gt;=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
                pDepth<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">if</span> left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">else</span> right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">def</span> <span class="token function">IsBalanced_Solution</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot<span class="token punctuation">)</span><span class="token punctuation">:</span>
        depth <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>IsBalancedCroe<span class="token punctuation">(</span>pRoot<span class="token punctuation">,</span> depth<span class="token punctuation">)</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已通过牛客网测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-56-数组中数字出现的次数" tabindex="-1"><a class="header-anchor" href="#no-56-数组中数字出现的次数" aria-hidden="true">#</a> NO.56 数组中数字出现的次数</h2><ul><li>题目－：数组中只出现一次的两个数字<br> 一个整型数组里除了两个数字之外，其他数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度O(n)，空间复杂度O(1)。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">IsBit1</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>num<span class="token punctuation">,</span>indexBit<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;判断num的从右到左第indexBit位是否是1&quot;&quot;&quot;</span>
        num <span class="token operator">=</span> num <span class="token operator">&gt;&gt;</span> indexBit
        <span class="token keyword">return</span> <span class="token punctuation">(</span>num <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">FindFirstBitIs1</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;检查num二进制中1位于从左到右的第几位，并返回位数&quot;&quot;&quot;</span>
        indexBit <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>num <span class="token operator">&amp;</span> <span class="token number">1</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">and</span> indexBit <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">:</span>
            num <span class="token operator">=</span> num <span class="token operator">&gt;&gt;</span> <span class="token number">1</span>
            indexBit <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> indexBit
    <span class="token keyword">def</span> <span class="token function">FindNumsAppearOnce</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;用0作为初始值，从左到右连续对array每个元素进行异或，出现两次的元素最终会相互抵消，剩下的就是两个只出现一次的元素的
        异或的结果resultExclusiveOR，调用函数获取结果二进制中最低位的位置indexOf1，并再次连续异或利用该位置对另一个只出现
        一次的元素进行排除，从而获得的两个结果就是array中两个只出现一次的元素&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> array<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        resultExclusiveOr <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> array<span class="token punctuation">:</span>
            resultExclusiveOr <span class="token operator">=</span> resultExclusiveOr <span class="token operator">^</span> i
        indexOf1 <span class="token operator">=</span> self<span class="token punctuation">.</span>FindFirstBitIs1<span class="token punctuation">(</span>resultExclusiveOr<span class="token punctuation">)</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> array<span class="token punctuation">:</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>IsBit1<span class="token punctuation">(</span>i<span class="token punctuation">,</span>indexOf1<span class="token punctuation">)</span><span class="token punctuation">:</span>
                result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> i
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^</span> i
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目二：数组中唯一只出现一次的数字<br> 在一个数组中除一个数字只出现一次之外，其他数字都出现了三次，请找出那个只出现一次的数字</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">FindNumsAppearOnce</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;将数组中所有元素的二进制数的每一位相加，若能被3整除则只出现一次的数字在此位一定为0，否则为1，收集这些1即可得到该数&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> numbers<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        bitSum <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">32</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            bitMask <span class="token operator">=</span> <span class="token number">1</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                bit <span class="token operator">=</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> bitMask
                <span class="token keyword">if</span> bit <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    bitSum<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
                bitMask <span class="token operator">=</span> bitMask <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>
        result <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            result <span class="token operator">=</span> result <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>
            result <span class="token operator">+=</span> bitSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%</span> <span class="token number">3</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>FindNumsAppearOnce<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-57-和为s的数字" tabindex="-1"><a class="header-anchor" href="#no-57-和为s的数字" aria-hidden="true">#</a> NO.57 和为s的数字</h2><ul><li>题目一：和为s的数字<br> 输入一个递增排序的数组和一个数字s，在数组中查找两个数，使得它们的和正好是s。如果有多对数字的和等于s，则输出任意一对即可</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;使用两个索引分别指向数组的首尾，指针向中间对撞查找符合要求的数字，对于有多个符合要求的数字对来说，这种方法第一个找到的
    必定是两数字只差最大的，因此也是乘积最小的，符合牛客网的附加条件，此外result还具备收集多对符合要求的数字的潜力&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">FindNumbersWithSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> array<span class="token punctuation">,</span> tsum<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> array<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        ahead <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
        behind <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> ahead <span class="token operator">&gt;</span> behind<span class="token punctuation">:</span>
            curSum <span class="token operator">=</span> array<span class="token punctuation">[</span>ahead<span class="token punctuation">]</span> <span class="token operator">+</span> array<span class="token punctuation">[</span>behind<span class="token punctuation">]</span>
            <span class="token keyword">if</span> curSum <span class="token operator">==</span> tsum<span class="token punctuation">:</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>array<span class="token punctuation">[</span>behind<span class="token punctuation">]</span><span class="token punctuation">)</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>array<span class="token punctuation">[</span>ahead<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
            <span class="token keyword">elif</span> curSum <span class="token operator">&gt;</span> tsum<span class="token punctuation">:</span>
                ahead <span class="token operator">-=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                behind <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目二：和为s的连续正数序列<br> 输入一个正数s，打印出所有和为s的连续正数序列(至少含有两个数)。例如，输入15，由于1+2+3+4+5=4+5+6=7+8=15，所以打印出3个连续序列1~5,4~6,7~8。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">FindContinuousSequence</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tsum<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;和上题相同的思路，指针扩散，设置一个比较小数和较大数，判断其中间的序列和是否符合条件，其中当前序列和的计算参考了
        前一序列和，在前一序列和基础上增加big或减少small，这样可以减少计算量&quot;&quot;&quot;</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> tsum <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> result
        small <span class="token operator">=</span> <span class="token number">1</span>
        big <span class="token operator">=</span> <span class="token number">2</span>
        middle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> tsum<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        curSum <span class="token operator">=</span> small <span class="token operator">+</span> big
        <span class="token keyword">while</span> small <span class="token operator">&lt;</span> middle<span class="token punctuation">:</span>
            <span class="token keyword">if</span> curSum <span class="token operator">==</span> tsum<span class="token punctuation">:</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>small<span class="token punctuation">,</span> big<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">while</span> curSum <span class="token operator">&gt;</span> tsum <span class="token keyword">and</span> small <span class="token operator">&lt;</span> middle<span class="token punctuation">:</span>
                curSum <span class="token operator">-=</span> small
                small <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> curSum <span class="token operator">==</span> tsum<span class="token punctuation">:</span>
                    result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>small<span class="token punctuation">,</span> big <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            big <span class="token operator">+=</span> <span class="token number">1</span>
            curSum <span class="token operator">+=</span> big
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-58-翻转字符串" tabindex="-1"><a class="header-anchor" href="#no-58-翻转字符串" aria-hidden="true">#</a> NO.58 翻转字符串</h2><ul><li>题目一：翻转单词顺序<br> 输入一个英文句子，翻转句子中单词的顺序，但单词内字符的顺序不变。为简单起见，标点符号和普通字母一样处理。例如输入字符串&quot;I am a student&quot;，则输出&quot;student a am I&quot;。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;先使用reverse翻转整个句子，再将单词逐个恢复过来&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">Reverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>data<span class="token punctuation">,</span> pBegin<span class="token punctuation">,</span> pEnd<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> data<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;输入数据为空&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">while</span> pBegin <span class="token operator">&lt;</span> pEnd <span class="token keyword">and</span> pEnd <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
            temp <span class="token operator">=</span> data<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span>
            data<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span>
            data<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span> <span class="token operator">=</span> temp
            pBegin <span class="token operator">+=</span> <span class="token number">1</span>
            pEnd <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">def</span> <span class="token function">ReverseSentence</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> s<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>
        data <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
        pBegin <span class="token operator">=</span> <span class="token number">0</span>
        pEnd <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>Reverse<span class="token punctuation">(</span>data<span class="token punctuation">,</span> pBegin<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">while</span> pBegin <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> data<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">:</span>
                pBegin <span class="token operator">+=</span> <span class="token number">1</span>
                pEnd <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> pEnd <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token keyword">or</span> data<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>Reverse<span class="token punctuation">(</span>data<span class="token punctuation">,</span> pBegin<span class="token punctuation">,</span> pEnd <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
                pBegin <span class="token operator">=</span> pEnd
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                pEnd <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目二：左旋字符串。　　 字符串的左旋转操作是把字符串的前面若干个字符转移到字符串的尾部。请定义一个函数实现字符串左旋转操作的功能。比如，输入字符串&quot;abcdefg&quot;和数字２，该函数将返回左旋转两位得到的结果&quot;cdefgab&quot;</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;和题目一的思路一致，将字符串按ｎ分成两段，先分别翻转，在整体翻转即可达到效果&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">Reverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>data<span class="token punctuation">,</span> pBegin<span class="token punctuation">,</span> pEnd<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> data<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;输入数据为空&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">while</span> pBegin <span class="token operator">&lt;</span> pEnd <span class="token keyword">and</span> pEnd <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
            temp <span class="token operator">=</span> data<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span>
            data<span class="token punctuation">[</span>pBegin<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span>
            data<span class="token punctuation">[</span>pEnd<span class="token punctuation">]</span> <span class="token operator">=</span> temp
            pBegin <span class="token operator">+=</span> <span class="token number">1</span>
            pEnd <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">def</span> <span class="token function">LeftRotateString</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        data <span class="token operator">=</span> s
        <span class="token keyword">if</span> s<span class="token punctuation">:</span>
            length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
            <span class="token keyword">if</span> length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> n <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> n <span class="token operator">&lt;</span> length<span class="token punctuation">:</span>
                data <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
                pFirstStart <span class="token operator">=</span> <span class="token number">0</span>
                pFirstEnd <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span>
                pSecondStart <span class="token operator">=</span> n
                pSecondEnd <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span>
                self<span class="token punctuation">.</span>Reverse<span class="token punctuation">(</span>data<span class="token punctuation">,</span> pFirstStart<span class="token punctuation">,</span> pFirstEnd<span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>Reverse<span class="token punctuation">(</span>data<span class="token punctuation">,</span> pSecondStart<span class="token punctuation">,</span> pSecondEnd<span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>Reverse<span class="token punctuation">(</span>data<span class="token punctuation">,</span> pFirstStart<span class="token punctuation">,</span> pSecondEnd<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-59-队列的最大值" tabindex="-1"><a class="header-anchor" href="#no-59-队列的最大值" aria-hidden="true">#</a> NO.59 队列的最大值</h2><ul><li>题目一：滑动窗口的最大值<br> 给定一个数组和滑动窗口的大小，请找出所有滑动窗口里的最大值。例如，如果输入数组{2,3,4,2,6,2,5,1}以及滑动窗口大小3，那么一共存在6个滑动窗口，他们的最大值分别是{4,4,6,6,6,5}。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">maxInWindows</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;使用双端队列，维持队列顶端始终是滑动窗口的最大值的索引位置&quot;&quot;&quot;</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> size <span class="token keyword">and</span> size <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">:</span>
            index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 第一段循环填充满第一个滑动窗口</span>
                <span class="token keyword">while</span> index <span class="token keyword">and</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> num<span class="token punctuation">[</span>index<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    index<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
                index<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 第二段循环开始记录每个滑动窗口的最大值</span>
                result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>num<span class="token punctuation">[</span>index<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">while</span> index <span class="token keyword">and</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> num<span class="token punctuation">[</span>index<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    index<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> index <span class="token keyword">and</span> index<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>i <span class="token operator">-</span> size<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 若当前最大值已滑出窗口，则将其删除</span>
                    index<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
                index<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>num<span class="token punctuation">[</span>index<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>题目二：队列的最大值<br> 请定义一个队列并实现函数max得到队列里的最大值，要求函数max，push_back和pop_front的时间复杂度都是O(1)。</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;思路类似题目一&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>maximums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">push_back</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>maximums <span class="token keyword">and</span> number <span class="token operator">&gt;=</span> self<span class="token punctuation">.</span>maximums<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>maximums<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>data<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>number<span class="token punctuation">,</span> self<span class="token punctuation">.</span>currentIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>maximums<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>number<span class="token punctuation">,</span> self<span class="token punctuation">.</span>currentIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>currentIndex <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">def</span> <span class="token function">pop_front</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>maximums<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&#39;queue is empty&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>maximums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>maximums<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>data<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">maxNumber</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>maximums<span class="token punctuation">:</span>
            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;queue is empty&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maximums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> data<span class="token punctuation">:</span>
    a<span class="token punctuation">.</span>push_back<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>maxNumber<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">:</span>
        a<span class="token punctuation">.</span>pop_front<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-60-n个骰子的点数" tabindex="-1"><a class="header-anchor" href="#no-60-n个骰子的点数" aria-hidden="true">#</a> NO.60 n个骰子的点数</h2><p>题目：把n个骰子仍在地上，所有骰子朝上一面的点数之和为s。输入n，打印出s所有可能的值出现的概率。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;递归的实现算法思路虽然清晰，但算法复杂度高，故而仅实现基于循环的算法，使用两个辅助数组来存储中间结果，多出一个骰子，其增加
    的结果的频次是数组前6个数字之和，基于此利用循环来模拟实现&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>g_maxValue <span class="token operator">=</span> <span class="token number">6</span>
    <span class="token keyword">def</span> <span class="token function">probability</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> number <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        pProbabilities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>g_maxValue <span class="token operator">*</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>g_maxValue <span class="token operator">*</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        flag <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>g_maxValue <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            pProbabilities<span class="token punctuation">[</span>flag<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">:</span>
                pProbabilities<span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span>flag<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> self<span class="token punctuation">.</span>g_maxValue<span class="token operator">*</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                pProbabilities<span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span>flag<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
                k <span class="token operator">=</span> <span class="token number">1</span>
                <span class="token keyword">while</span> k <span class="token operator">&lt;=</span> i <span class="token keyword">and</span> k <span class="token operator">&lt;=</span> self<span class="token punctuation">.</span>g_maxValue<span class="token punctuation">:</span>
                    pProbabilities<span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span>flag<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> pProbabilities<span class="token punctuation">[</span>flag<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token operator">-</span>k<span class="token punctuation">]</span>
                    k <span class="token operator">+=</span> <span class="token number">1</span>
            flag <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> flag
        total <span class="token operator">=</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>g_maxValue<span class="token punctuation">,</span> number<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>pProbabilities<span class="token punctuation">[</span>flag<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">/</span>total <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span> self<span class="token punctuation">.</span>g_maxValue<span class="token operator">*</span>number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
result <span class="token operator">=</span> a<span class="token punctuation">.</span>probability<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-61-扑克牌中的顺子" tabindex="-1"><a class="header-anchor" href="#no-61-扑克牌中的顺子" aria-hidden="true">#</a> NO.61 扑克牌中的顺子</h2><p>题目：从扑克牌中随机抽出5张牌，判断是不是一个顺子，即这5张牌是不是连续的。2~10为数字本身，A为1，J为11，Q为12，K为13，而大、小王可以看成任意数字。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">IsContinuous</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;先将数组进行排序，计算0的个数和间隔的长度，若间隔的长度大于0的个数，则说明使用大小王也无法将五张牌连成顺子，
        另外检测到对子则直接判断不是顺子&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> numbers<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        numbers<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        numberOfZero <span class="token operator">=</span> <span class="token number">0</span>
        numberOfGap <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> numbers<span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token keyword">break</span>
            numberOfZero <span class="token operator">+=</span> <span class="token number">1</span>
        small <span class="token operator">=</span> numberOfZero
        big <span class="token operator">=</span> small <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">while</span> big <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> numbers<span class="token punctuation">[</span>small<span class="token punctuation">]</span> <span class="token operator">==</span> numbers<span class="token punctuation">[</span>big<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">False</span>
            numberOfGap <span class="token operator">+=</span> numbers<span class="token punctuation">[</span>big<span class="token punctuation">]</span> <span class="token operator">-</span> numbers<span class="token punctuation">[</span>small<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span>
            small <span class="token operator">=</span> big
            big <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span> <span class="token keyword">if</span> numberOfGap <span class="token operator">&gt;</span> numberOfZero <span class="token keyword">else</span> <span class="token boolean">True</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-62-圆圈中最后剩下的数字" tabindex="-1"><a class="header-anchor" href="#no-62-圆圈中最后剩下的数字" aria-hidden="true">#</a> NO.62 圆圈中最后剩下的数字</h2><p>题目：0,1,...,n-1这n个数字排成一个圆圈，从数字0开始，每次从这一个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;此为经典的约瑟夫环问题，可以采用环形链表模拟圆圈进行求解，但此方法时间复杂度为O(mn),空间复杂度O(n)算法效率不高。
    另一种方法是找出被删数字的规律，直接计算圆圈中剩下的数字，此方法需要进行数学分析建模，过程较为复杂，但算法效率一般比较高
    以下代码根据数学建模后的递归公式写成，算法时间复杂度为O(n),空间复杂度O(1)，具体建模过程详见剑指offer，P302-303。&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">LastRemaining_Solution</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token keyword">or</span> m <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        last <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            last <span class="token operator">=</span> <span class="token punctuation">(</span>last <span class="token operator">+</span> m<span class="token punctuation">)</span> <span class="token operator">%</span> i
        <span class="token keyword">return</span> last
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-63-股票的最大利润" tabindex="-1"><a class="header-anchor" href="#no-63-股票的最大利润" aria-hidden="true">#</a> NO.63 股票的最大利润</h2><p>题目：假设把某股票的价格按照时间先后顺序存储在数组中，请问买卖该股票一次可能获得的最大利润是多少？例如，一只股票在某些时间节点的价格为{9,11,8,5,7,12,16,14}。如果我们能在价格为5的时候买入，并在价格为16时卖出，则能收获最大的利润11.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">MaxDiff</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;maxdiff存储扫描过的数字中最大利润，minNumber存储扫描过的数字中的最小数字，循环遍历整个数组，
        最后得到的必定是最大的差值，即最大利润&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        minNumber <span class="token operator">=</span> numbers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        maxDiff <span class="token operator">=</span> numbers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> minNumber
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> numbers<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> minNumber<span class="token punctuation">:</span>
                minNumber <span class="token operator">=</span> numbers<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
            currentDiff <span class="token operator">=</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> minNumber
            <span class="token keyword">if</span> currentDiff <span class="token operator">&gt;</span> maxDiff<span class="token punctuation">:</span>
                maxDiff <span class="token operator">=</span> currentDiff
        <span class="token keyword">return</span> maxDiff
<span class="token comment"># test code</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span>MaxDiff<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-64-求1-2-n" tabindex="-1"><a class="header-anchor" href="#no-64-求1-2-n" aria-hidden="true">#</a> NO.64 求1+2+...+n</h2><p>题目：求1+2+...+n，要求不能使用乘除法，for，while，if，else，switch，case等关键字及条件判断语句。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;通过构造函数绕过绕过条件判断，构造出递归终止条件，通过递归实现循环相加。剑指offer中四种方法(构造函数，虚函数，函数指针，
    模板类型)都是绕开循环递归相加的思路&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">sum_stop</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>fun_list <span class="token operator">=</span> <span class="token punctuation">[</span>sum_stop<span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">Sum_Solution</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>fun_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>Sum_Solution<span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>fun_list<span class="token punctuation">[</span><span class="token builtin">bool</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> n
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-65-不用加减乘除做加法" tabindex="-1"><a class="header-anchor" href="#no-65-不用加减乘除做加法" aria-hidden="true">#</a> NO.65 不用加减乘除做加法</h2><p>题目：写一个函数，求两整数之和，要求在函数体内不得使用+-*/四则运算符号</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;使用异或运算，计算无进位时的结果，使用按位与和左移运算来计算进位数字。由于python在数字即将溢出时会自动使用大数表示，因此
    需要对求和结果判断溢出&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">Add</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> num2 <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            temp <span class="token operator">=</span> num1 <span class="token operator">^</span> num2
            num2 <span class="token operator">=</span> <span class="token punctuation">(</span>num1 <span class="token operator">&amp;</span> num2<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>
            num1 <span class="token operator">=</span> temp <span class="token operator">&amp;</span> <span class="token number">0xFFFFFFFF</span> 
        <span class="token keyword">return</span> num1 <span class="token keyword">if</span> num1 <span class="token operator">&gt;&gt;</span> <span class="token number">31</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token operator">~</span><span class="token punctuation">(</span>num1 <span class="token operator">^</span> <span class="token number">0xffffffff</span><span class="token punctuation">)</span>
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-66-构建乘积数组" tabindex="-1"><a class="header-anchor" href="#no-66-构建乘积数组" aria-hidden="true">#</a> NO.66 构建乘积数组</h2><p>题目：给定一个数组A[0,1,...,n-1],请构建一个数组B[0,1,...,n-1]，其中B中的元素$$ B[i]=A[0]\times A[1]\times ...\times A[i-1] \times A[i+1] \times ... \times A[n-1] $$不能使用除法</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;将B[i]按照A[i-1]和A[i+1]分成前面乘积C[i]和后面乘积D[i]两部分，对于C[i]=C[i-1]*A[i-1]，D[i]=D[i+1]*A[i+1]，
    因此可以采用从沿着i增加的方向循环计算C[i]，再沿着i减少的方向计算D[i]，最终获得B&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">multiply</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">:</span>
        length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span>
        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span><span class="token operator">*</span>length
        <span class="token keyword">if</span> length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token comment"># calculate C[i]</span>
        result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
            result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> A<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token comment"># calculate D[i]*C[i]</span>
        temp <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            temp <span class="token operator">*=</span> A<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
            result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*=</span> temp
        <span class="token keyword">return</span> result
<span class="token comment"># test code</span>
<span class="token comment"># 代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-67-把字符串转换成整数" tabindex="-1"><a class="header-anchor" href="#no-67-把字符串转换成整数" aria-hidden="true">#</a> NO.67 把字符串转换成整数</h2><p>题目：将一个字符串转换成一个整数(实现Integer.valueOf(string)的功能，但是string不符合数字要求时返回0)，要求不能使用字符串转换整数的库函数。 数值为0或者字符串不是一个合法的数值则返回0。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;设置输入是否符合要求指示标志&quot;&quot;&quot;</span>
        self<span class="token punctuation">.</span>g_nStatus <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token keyword">def</span> <span class="token function">StrToInt</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>g_nStatus <span class="token operator">=</span> <span class="token boolean">False</span>
        num <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">if</span> s<span class="token punctuation">:</span>
            minus <span class="token operator">=</span> <span class="token boolean">False</span>
            i <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;+&#39;</span><span class="token punctuation">:</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">elif</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;-&#39;</span><span class="token punctuation">:</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
                minus <span class="token operator">=</span> <span class="token boolean">True</span>
            <span class="token keyword">if</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
                num <span class="token operator">=</span> self<span class="token punctuation">.</span>StrToIntCore<span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> minus<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">StrToIntCore</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> minus<span class="token punctuation">)</span><span class="token punctuation">:</span>
        num <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token string">&#39;0&#39;</span> <span class="token keyword">and</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token string">&#39;9&#39;</span><span class="token punctuation">:</span>
                flag <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">if</span> minus <span class="token keyword">else</span> <span class="token number">1</span>
                num <span class="token operator">=</span> num <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> flag <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">not</span> minus <span class="token keyword">and</span> num <span class="token operator">&gt;</span> <span class="token number">0x7fffffff</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>minus <span class="token keyword">and</span> num <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">0x80000000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>　<span class="token comment"># 判断是否溢出</span>
                    num <span class="token operator">=</span> <span class="token number">0</span>
                    <span class="token keyword">break</span>
                i <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                num <span class="token operator">=</span> <span class="token number">0</span>
                <span class="token keyword">break</span>
        <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>g_nStatus <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> num
<span class="token comment"># test code</span>
<span class="token comment">#代码已在牛客网通过测试</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="no-68-树中两个节点的最低公共祖先" tabindex="-1"><a class="header-anchor" href="#no-68-树中两个节点的最低公共祖先" aria-hidden="true">#</a> NO.68 树中两个节点的最低公共祖先</h2><p>题目：输入树的根节点和之中两个节点，求两个节点的最低公共祖先</p><ul><li>思路一：判定为二叉搜索树<br> 若是二叉搜索树，则通过比较两节点和根节点值的大小，来判断其位于根节点的左子树或右子树，递归判断根节点的子节点，若两节点分别位于子节点(包括根节点)的两侧，则该节点为两节点的最低公共祖先</li><li>思路二：若不是二叉搜索树，且有指向父节点的指针<br> 若有指向父节点的指针，该问题可转换为求两个链表的第一个公共节点，该链表的尾节点都是指向根节点，可参考两链表的第一个公共节点的解法</li><li>思路三：若只是普通树，且没有指向父节点的指针<br> 若只是普通树，则可采用深度优先遍历，找到两节点到根节点的路径，将其转换为求两链表的第一个公共节点。以下为此思路的代码(其中测试代码以下图为例)：<br><img src="/assets/n68.996b3fed.png" alt="n68.png"></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">TreeNode</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>val <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">GetNodePath</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot<span class="token punctuation">,</span> pNode<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;获取pNode到pRoot的路径，通过修改list类型path返回值&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> pRoot <span class="token operator">==</span> pNode<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>pRoot<span class="token punctuation">)</span>
        found <span class="token operator">=</span> <span class="token boolean">False</span>
        i <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> <span class="token keyword">not</span> found <span class="token keyword">and</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>pRoot<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">:</span>
            found <span class="token operator">=</span> self<span class="token punctuation">.</span>GetNodePath<span class="token punctuation">(</span>pRoot<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> pNode<span class="token punctuation">,</span> path<span class="token punctuation">)</span>
            i <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> found<span class="token punctuation">:</span>
            path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> found
    <span class="token keyword">def</span> <span class="token function">GetLastCommonNode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> path1<span class="token punctuation">,</span> path2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;遍历两个list模拟的链表，找出最后一个相同的节点&quot;&quot;&quot;</span>
        i <span class="token operator">=</span> <span class="token number">0</span>
        pLast <span class="token operator">=</span> <span class="token boolean">None</span>
        <span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>path1<span class="token punctuation">)</span> <span class="token keyword">and</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>path2<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> path1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> path2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
                pLast <span class="token operator">=</span> path1<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            i <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> pLast
    <span class="token keyword">def</span> <span class="token function">GetLastCommonParent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pRoot<span class="token punctuation">,</span> pNode1<span class="token punctuation">,</span> pNode2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> pRoot <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">or</span> pNode1 <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">or</span> pNode2 <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        path1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        path2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>GetNodePath<span class="token punctuation">(</span>pRoot<span class="token punctuation">,</span> pNode1<span class="token punctuation">,</span> path1<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>GetNodePath<span class="token punctuation">(</span>pRoot<span class="token punctuation">,</span> pNode2<span class="token punctuation">,</span> path2<span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>GetLastCommonNode<span class="token punctuation">(</span>path1<span class="token punctuation">,</span> path2<span class="token punctuation">)</span>
<span class="token comment"># test code</span>
pRoot <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>
pRoot<span class="token punctuation">.</span>children<span class="token punctuation">.</span>append<span class="token punctuation">(</span>TreeNode<span class="token punctuation">(</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pRoot<span class="token punctuation">.</span>children<span class="token punctuation">.</span>append<span class="token punctuation">(</span>TreeNode<span class="token punctuation">(</span><span class="token string">&#39;c&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
temp <span class="token operator">=</span> pRoot<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
temp<span class="token punctuation">.</span>children<span class="token punctuation">.</span>append<span class="token punctuation">(</span>TreeNode<span class="token punctuation">(</span><span class="token string">&#39;d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
temp<span class="token punctuation">.</span>children<span class="token punctuation">.</span>append<span class="token punctuation">(</span>TreeNode<span class="token punctuation">(</span><span class="token string">&#39;e&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
temp<span class="token punctuation">.</span>children<span class="token punctuation">.</span>append<span class="token punctuation">(</span>TreeNode<span class="token punctuation">(</span><span class="token string">&#39;f&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
temp<span class="token punctuation">.</span>children<span class="token punctuation">.</span>append<span class="token punctuation">(</span>TreeNode<span class="token punctuation">(</span><span class="token string">&#39;g&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
temp <span class="token operator">=</span> pRoot<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
temp<span class="token punctuation">.</span>children<span class="token punctuation">.</span>append<span class="token punctuation">(</span>TreeNode<span class="token punctuation">(</span><span class="token string">&#39;h&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
temp<span class="token punctuation">.</span>children<span class="token punctuation">.</span>append<span class="token punctuation">(</span>TreeNode<span class="token punctuation">(</span><span class="token string">&#39;i&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
temp<span class="token punctuation">.</span>children<span class="token punctuation">.</span>append<span class="token punctuation">(</span>TreeNode<span class="token punctuation">(</span><span class="token string">&#39;j&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> Solution<span class="token punctuation">(</span><span class="token punctuation">)</span>
reuslt <span class="token operator">=</span> a<span class="token punctuation">.</span>GetLastCommonParent<span class="token punctuation">(</span>pRoot<span class="token punctuation">,</span> temp<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pRoot<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>reuslt<span class="token punctuation">.</span>val <span class="token keyword">if</span> reuslt <span class="token operator">!=</span> <span class="token boolean">None</span> <span class="token keyword">else</span> reuslt<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: vitotu@qq.com">vito</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.4a97f006.js" defer></script>
  </body>
</html>

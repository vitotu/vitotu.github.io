<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>微信小程序基础 | Vito&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/cat.jpg">
    <meta name="description" content="vito的个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.4b836ad2.css" as="style"><link rel="preload" href="/assets/js/app.3bfa1cdf.js" as="script"><link rel="preload" href="/assets/js/2.dd66bfe3.js" as="script"><link rel="preload" href="/assets/js/55.ec996f18.js" as="script"><link rel="prefetch" href="/assets/js/10.d93d995a.js"><link rel="prefetch" href="/assets/js/11.c8d27c88.js"><link rel="prefetch" href="/assets/js/12.aaff0931.js"><link rel="prefetch" href="/assets/js/13.dbd6c46a.js"><link rel="prefetch" href="/assets/js/14.63b4897d.js"><link rel="prefetch" href="/assets/js/15.d45ce2e4.js"><link rel="prefetch" href="/assets/js/16.361edfa9.js"><link rel="prefetch" href="/assets/js/17.0323f2d1.js"><link rel="prefetch" href="/assets/js/18.83c2b38c.js"><link rel="prefetch" href="/assets/js/19.de1d914b.js"><link rel="prefetch" href="/assets/js/20.2c7197a6.js"><link rel="prefetch" href="/assets/js/21.d4820aea.js"><link rel="prefetch" href="/assets/js/22.f61f7a67.js"><link rel="prefetch" href="/assets/js/23.fd64dfab.js"><link rel="prefetch" href="/assets/js/24.a158d99f.js"><link rel="prefetch" href="/assets/js/25.c558ff87.js"><link rel="prefetch" href="/assets/js/26.dd4b876a.js"><link rel="prefetch" href="/assets/js/27.ed6195c7.js"><link rel="prefetch" href="/assets/js/28.4bdf079c.js"><link rel="prefetch" href="/assets/js/29.8acd26c2.js"><link rel="prefetch" href="/assets/js/3.77ed64ba.js"><link rel="prefetch" href="/assets/js/30.cc9c8462.js"><link rel="prefetch" href="/assets/js/31.5822283c.js"><link rel="prefetch" href="/assets/js/32.186c867e.js"><link rel="prefetch" href="/assets/js/33.359e6749.js"><link rel="prefetch" href="/assets/js/34.07888b24.js"><link rel="prefetch" href="/assets/js/35.3892d0ad.js"><link rel="prefetch" href="/assets/js/36.08e667ec.js"><link rel="prefetch" href="/assets/js/37.594befa5.js"><link rel="prefetch" href="/assets/js/38.abe26bd4.js"><link rel="prefetch" href="/assets/js/39.66f2b135.js"><link rel="prefetch" href="/assets/js/4.a694757d.js"><link rel="prefetch" href="/assets/js/40.da7f642a.js"><link rel="prefetch" href="/assets/js/41.dc8e50dc.js"><link rel="prefetch" href="/assets/js/42.b696480b.js"><link rel="prefetch" href="/assets/js/43.60c1d3d2.js"><link rel="prefetch" href="/assets/js/44.a203d4e0.js"><link rel="prefetch" href="/assets/js/45.e40795ac.js"><link rel="prefetch" href="/assets/js/46.0a959fcd.js"><link rel="prefetch" href="/assets/js/47.f12a3b61.js"><link rel="prefetch" href="/assets/js/48.5a76c211.js"><link rel="prefetch" href="/assets/js/49.0b9e990b.js"><link rel="prefetch" href="/assets/js/5.94181dd7.js"><link rel="prefetch" href="/assets/js/50.308ee637.js"><link rel="prefetch" href="/assets/js/51.b6577223.js"><link rel="prefetch" href="/assets/js/52.0d27b43d.js"><link rel="prefetch" href="/assets/js/53.664e9906.js"><link rel="prefetch" href="/assets/js/54.f17225f2.js"><link rel="prefetch" href="/assets/js/6.d73236f1.js"><link rel="prefetch" href="/assets/js/7.83496c96.js"><link rel="prefetch" href="/assets/js/8.120fdafe.js"><link rel="prefetch" href="/assets/js/9.bc601a82.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4b836ad2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Vito's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/jsBase.html" class="nav-link">
  js基础
</a></li><li class="dropdown-item"><!----> <a href="/js/es6+/" class="nav-link">
  es6+基础
</a></li><li class="dropdown-item"><!----> <a href="/js/jsPlus.html" class="nav-link">
  js进阶
</a></li><li class="dropdown-item"><!----> <a href="/js/jsHand.html" class="nav-link">
  js手写系列
</a></li><li class="dropdown-item"><!----> <a href="/js/typescript/" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><h4>
          js读书笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/js/jsAsync/" class="nav-link">
  js异步编程
</a></li><li class="dropdown-subitem"><a href="/js/jsDeep/" class="nav-link">
  你不知道的js系列
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vue2base.html" class="nav-link">
  vue2基础
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue2plus/" class="nav-link">
  vue2进阶
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue3base/" class="nav-link">
  vue3基础
</a></li><li class="dropdown-item"><!----> <a href="/vue/vuex/" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/vue/vueRouter/" class="nav-link">
  vue router
</a></li></ul></div></div><div class="nav-item"><a href="/html/" class="nav-link">
  html
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="css" class="dropdown-title"><span class="title">css</span> <span class="arrow down"></span></button> <button type="button" aria-label="css" class="mobile-dropdown-title"><span class="title">css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/css/css3/" class="nav-link">
  图解css3
</a></li><li class="dropdown-item"><!----> <a href="/css/css3plus/" class="nav-link">
  css进阶
</a></li><li class="dropdown-item"><!----> <a href="/css/scss/" class="nav-link">
  scss
</a></li></ul></div></div><div class="nav-item"><a href="/browser/browser.html" class="nav-link">
  浏览器
</a></div><div class="nav-item"><a href="/network/webNetwork.html" class="nav-link">
  网络通信
</a></div><div class="nav-item"><a href="/linuxNote/" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发构建工具" class="dropdown-title"><span class="title">开发构建工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发构建工具" class="mobile-dropdown-title"><span class="title">开发构建工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devToolsNote/npm-note.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/webpack/webpackNote.html" class="nav-link">
  webpack基础
</a></li><li class="dropdown-item"><!----> <a href="/webpack/webpack5Note.html" class="nav-link">
  webpack5
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/tsClassicTop10SortAlgorithm.html" class="nav-link">
  排序算法
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/tsSword4Offer.html" class="nav-link">
  剑指offer
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/common.html" class="nav-link">
  常见算法
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/10sortedAlgorithm.html" class="nav-link">
  排序算法python
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/python_sword_for_offer.html" class="nav-link">
  剑指offer-python
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/labuladongNote.html" class="nav-link">
  labuladong算法
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/vitotu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/jsBase.html" class="nav-link">
  js基础
</a></li><li class="dropdown-item"><!----> <a href="/js/es6+/" class="nav-link">
  es6+基础
</a></li><li class="dropdown-item"><!----> <a href="/js/jsPlus.html" class="nav-link">
  js进阶
</a></li><li class="dropdown-item"><!----> <a href="/js/jsHand.html" class="nav-link">
  js手写系列
</a></li><li class="dropdown-item"><!----> <a href="/js/typescript/" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><h4>
          js读书笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/js/jsAsync/" class="nav-link">
  js异步编程
</a></li><li class="dropdown-subitem"><a href="/js/jsDeep/" class="nav-link">
  你不知道的js系列
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vue2base.html" class="nav-link">
  vue2基础
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue2plus/" class="nav-link">
  vue2进阶
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue3base/" class="nav-link">
  vue3基础
</a></li><li class="dropdown-item"><!----> <a href="/vue/vuex/" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/vue/vueRouter/" class="nav-link">
  vue router
</a></li></ul></div></div><div class="nav-item"><a href="/html/" class="nav-link">
  html
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="css" class="dropdown-title"><span class="title">css</span> <span class="arrow down"></span></button> <button type="button" aria-label="css" class="mobile-dropdown-title"><span class="title">css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/css/css3/" class="nav-link">
  图解css3
</a></li><li class="dropdown-item"><!----> <a href="/css/css3plus/" class="nav-link">
  css进阶
</a></li><li class="dropdown-item"><!----> <a href="/css/scss/" class="nav-link">
  scss
</a></li></ul></div></div><div class="nav-item"><a href="/browser/browser.html" class="nav-link">
  浏览器
</a></div><div class="nav-item"><a href="/network/webNetwork.html" class="nav-link">
  网络通信
</a></div><div class="nav-item"><a href="/linuxNote/" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发构建工具" class="dropdown-title"><span class="title">开发构建工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发构建工具" class="mobile-dropdown-title"><span class="title">开发构建工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devToolsNote/npm-note.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/webpack/webpackNote.html" class="nav-link">
  webpack基础
</a></li><li class="dropdown-item"><!----> <a href="/webpack/webpack5Note.html" class="nav-link">
  webpack5
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/tsClassicTop10SortAlgorithm.html" class="nav-link">
  排序算法
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/tsSword4Offer.html" class="nav-link">
  剑指offer
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/common.html" class="nav-link">
  常见算法
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/10sortedAlgorithm.html" class="nav-link">
  排序算法python
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/python_sword_for_offer.html" class="nav-link">
  剑指offer-python
</a></li><li class="dropdown-item"><!----> <a href="/algorithm/labuladongNote.html" class="nav-link">
  labuladong算法
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/vitotu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>微信小程序基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wechatMiniApp.html#概述" class="sidebar-link">概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wechatMiniApp.html#开发环境搭建" class="sidebar-link">开发环境搭建</a></li><li class="sidebar-sub-header"><a href="/wechatMiniApp.html#代码结构简介" class="sidebar-link">代码结构简介</a></li><li class="sidebar-sub-header"><a href="/wechatMiniApp.html#宿主环境" class="sidebar-link">宿主环境</a></li><li class="sidebar-sub-header"><a href="/wechatMiniApp.html#协作开发与发布上线" class="sidebar-link">协作开发与发布上线</a></li></ul></li><li><a href="/wechatMiniApp.html#小程序框架" class="sidebar-link">小程序框架</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wechatMiniApp.html#视图层" class="sidebar-link">视图层</a></li><li class="sidebar-sub-header"><a href="/wechatMiniApp.html#逻辑层" class="sidebar-link">逻辑层</a></li></ul></li><li><a href="/wechatMiniApp.html#生命周期" class="sidebar-link">生命周期</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="微信小程序基础"><a href="#微信小程序基础" class="header-anchor">#</a> 微信小程序基础</h1> <p>hybrid app包含小程序(微信、抖音、支付宝等平台)， native app、H5页面等；<br> <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer">微信小程序官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
本文用于记录小程序的入门用法，会经常与vue进行类比学习，因此要求读者具备一定的vue知识</p> <h2 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h2> <p>web端通常运行于浏览器，在微信中使用WebView，JSBridge,JsCore等技术展示页面并提供平台的开放能力；<br>
网页开发中渲染线程与引擎线程(脚本执行线程)是互斥的，但对应小程序需中的渲染层和逻辑层是分开的<br>
微信小程序的逻辑层中没有DOM、BOM相关api</p> <h3 id="开发环境搭建"><a href="#开发环境搭建" class="header-anchor">#</a> 开发环境搭建</h3> <p>开发微信小程序面对的不是chrome等浏览器，因此需要搭建对应的开发环境，仅需两步：</p> <ol><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/getstart.html#%E7%94%B3%E8%AF%B7%E5%B8%90%E5%8F%B7" target="_blank" rel="noopener noreferrer">申请账号<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener noreferrer">微信开发这工具<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <p>PS：开发者工具仅支持window和macOS两个平台<br>
TODO：完善利用VScode进行开发的文档</p> <h3 id="代码结构简介"><a href="#代码结构简介" class="header-anchor">#</a> 代码结构简介</h3> <p>通过开发者工具创建的项目，在主目录中通常包含<br>
app.json文件用于小程序<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html" target="_blank" rel="noopener noreferrer">全局配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，及页面注册<br>
project.config.json开发者工具配置<br>
sitemap.json用于配置微信索引，类似于SEO，<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html" target="_blank" rel="noopener noreferrer">完整配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
app.js入口文件<br>
app.css/app.wxss全局样式<br>
pages目录，存放页面文件</p> <p>页面目录结构以index为例通常为：</p> <div class="custom-block tip"><p class="custom-block-title">目录结构</p> <p>pages/index/<br>
├── index.json 当前<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html" target="_blank" rel="noopener noreferrer">页面配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>与app.json类似，在当页会覆盖app.json中的部分相同配置<br>
├── index.wxss 页面样式，类似于css<br>
├── index.js 页面逻辑<br>
└── index.wxml 页面结构， 类似于vue的template，但仅支持微信中提供的标签或自定义的组件</p></div> <h3 id="宿主环境"><a href="#宿主环境" class="header-anchor">#</a> 宿主环境</h3> <p>小程序运行环境是由微信客户端提供的，分成渲染层(运行WXML和WXSS)和逻辑层(运行js脚本)，分别对应了两个不同的线程管理,网络请求则由native转发</p> <p>与VUE的VM类似小程序只有一个app实例，js文件中window对象被wx对象取代，wx对象上包含多种微信开放能力api<br>
微信客户端在装在页面时会优先读取json配置文件，而后是wxml,wxss文件，最后加载js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// app.js文件中</span>
<span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">onLaunch</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// index.js页面文件中</span>
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onLoad</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="协作开发与发布上线"><a href="#协作开发与发布上线" class="header-anchor">#</a> 协作开发与发布上线</h3> <p>依托微信，小程序的上线需要通过开发者工具将代码打包上传至腾讯，由腾讯的服务器负责资源分发<br>
搜索微信公共平台，使用注册的微信号扫码，选择对应小程序登录，即可访问小程序管理后台<br>
小程序管理后台可设置开发者权限，体验者权限等进行协作开发<br>
管理后台进行小程序版本管理，包含提交的版本(开发者工具上提交的版本)、体验版本，上线版本等</p> <h2 id="小程序框架"><a href="#小程序框架" class="header-anchor">#</a> 小程序框架</h2> <p>小程序框架主要分为逻辑层和视图层，并在两层间提供的数据传输和事件系统</p> <p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/scene.html" target="_blank" rel="noopener noreferrer">场景值<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>描述用户进入小程序的路径</p> <h3 id="视图层"><a href="#视图层" class="header-anchor">#</a> 视图层</h3> <p>视图层主要由wxml和wxss编写，将逻辑层的数据映射为视图，同时将视图层的事件发送给逻辑层<br>
小程序的数据也是响应式的，wxml中同样支持类似于vue的模板语法：</p> <ul><li>wxml</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- wxml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tapMessage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">model:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{value}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 双向绑定(只能绑定单个字段，不支持路径)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-component</span> <span class="token attr-name"><span class="token namespace">model:</span>properties-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{value}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 自定义组件的双向绑定
与vue中类似，自定义组件需设置properties属性，子组件内部通过this.setData({name:''})的方式主动触发更新
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{array}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span> 列表渲染
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{view == <span class="token punctuation">'</span>webview}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>webview<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span> 条件渲染
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>elif</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{view == <span class="token punctuation">'</span>app}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>app<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>else</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{view == <span class="token punctuation">'</span>MINA}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>MINA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span><span class="token string">'Hello'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">array</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">view</span><span class="token operator">:</span><span class="token string">'MINA'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">tapName</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>wxss</li></ul> <p>wxss具有css大部分特性，同时对css进行了两点扩展：</p> <ol><li>尺寸单位：rpx，以iPhone6屏幕为参考，iPhone屏幕宽度为375px，共有750个物理像素，对应750rpx的宽度</li> <li>样式导入：使用@import导入外联样式时，使用相对路径并以<code>;</code>结束</li></ol> <p>目前仅支持类选择器、id选择器、元素选择器、群组选择器、<code>::after</code>、<code>::before</code>这6种</p> <ul><li>wxs</li></ul> <p>wxs是小程序的一套脚本语言，类似于<code>&lt;script&gt;</code>标签，但有其独特的语法，<br>
运行环境与其他js代码隔离，不依赖于运行时的基础库版本<br>
基础库版本低于2.4.4时，其函数不能作为组件的事件回调<br> <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/" target="_blank" rel="noopener noreferrer">参考文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wxs</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>m1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  var msg = &quot;hello world&quot;;
  module.exports.message = msg;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wxs</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wxs</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>m2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./test.wxs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wxs</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{m1.message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>事件系统</li></ul> <p>在wxml标签属性中，可以使用bind*=&quot;callback&quot; (或bind:*=&quot;callback&quot;) 来绑定一个事件；<br>
也可以使用catch绑定来阻止事件向上冒泡；<br>
使用mut-bind绑定则会在在mut-bind各级绑定中仅有一个绑定函数会被触发；<br>
给上述绑定加上capture-前缀则可在事件捕获阶段监听事件</p> <p>wxs从2.4.4基础库版本后支持函数绑定事件，接收2个参数event和ownerInstance对象，具体用法<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/interactive-animation.html" target="_blank" rel="noopener noreferrer">详见<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
事件分为冒泡事件与非冒泡事件，冒泡事件包含touch*, tap, longpress, longtap以及动画相关事件，其他如无特殊声明均为非冒泡事件</p> <p>事件对象的种类即其包含的属性方法<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" target="_blank" rel="noopener noreferrer">详见<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>获取界面上的节点信息(类似DOM api)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 生成SelectorQuery对象，可用于在指定范围内找到wxml节点对象</span>
<span class="token keyword">const</span> query <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createSelectQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 自定义组件中推荐使用this.createSelectorQuery()</span>
query<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span> <span class="token comment">// 返回NodesRef对象实例，类似于DOM节点</span>
</code></pre></div><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/SelectorQuery.html" target="_blank" rel="noopener noreferrer">SelectorQuery文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/NodesRef.html" target="_blank" rel="noopener noreferrer">NodesRef对象文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>wx.createInterSectionObserver api则与浏览器的IntersectionObserver api 类似</p> <ul><li>初始渲染缓存</li></ul> <p>小程序初始化逻辑层时，先初始化页面this对象，然后发送相关数据到视图层，视图层等待逻辑层初始化完毕后，渲染页面<br>
冷启动时，逻辑层初始化事件较长，启用初始渲染缓存可以让视图层直接使用缓存的数据而无需等待逻辑层初始化完毕，从而加速启动过程<br>
通过json文件中增加<code>&quot;initialRenderingCache&quot;:&quot;static&quot;</code>配置项开启渲染缓存，小程序首次打开后页面初始数据将被缓存，在第二次打开时检查缓存命中</p> <h3 id="逻辑层"><a href="#逻辑层" class="header-anchor">#</a> 逻辑层</h3> <p>小程序js代码会在启动时运行，直到小程序销毁，类似于ServiceWorker, 逻辑层也称为App Service</p> <p>在app.js文件中，调用<code>App()</code>方法注册小程序实例，与vue类似，整个小程序只有一个app实例，全页面共享，<code>可通过getApp</code>方法获取到这个唯一的实例<br>
在各页面的js文件中，使用<code>Page()</code>方法注册页面，与vue的mixin类似，小程序通过引入behaviors选项可实现，多个页面有相同的数据字段和方法<br>
对于复杂页面可以使用<code>Component</code>方法来构造页面，语法上与<code>Page()</code>的主要区别是方法要放在<code>methods()</code>选项中</p> <ul><li>页面路由</li></ul> <p>小程序页面路由全部由框架管理，维护有页面栈，可通过wx.navigate*等api进行手动跳转，也可使用<code>&lt;navigator open-type=&quot;navigate*&quot;&gt;&lt;/navigator&gt;</code>等组件</p> <ul><li>模块化</li></ul> <p>小程序仅支持module.exports和require的方式进行模块导出和导入<br>
TODO：npm包管理器的使用</p> <ul><li>API</li></ul> <p>小程序通过API开放微信的能力，主要分为同步API和异步API； 异步api支持回调和promise两种方式，若结构参数Object中不含<code>success/fail/complete</code>时，默认返回promise对象，但部分结构<code>downloadFile, request, createCamera</code>等还需要自行promisify封装<br>
wx.onUnhandledRejection可以监听未处理的Promise拒绝事件</p> <h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <p><a href="https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png" target="_blank" rel="noopener noreferrer">生命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
TODO:</p> <p>冷启动：用户首次打开或小程序销毁后用户再次打开，再次打开时，若带有path则进入对应path页面，若无path则进入首页或遵循重新启动策略<code>restartStrategy</code><br>
热启动：已打开过小程序，小程序未被销毁，从后台切换到前台为热启动，热启动可利用场景值和path再次回到小程序或对应的页面</p> <p>前台：界面被展示给用户，称为前台状态<br>
后台：关闭小程序时，小程序并没有真正关闭，而是进入后台状态，此时小程序还可短暂运行一小段时间，但部分api受限(常规切后台方式外，前台运行时锁屏或直接将微信切后台均可进入后台方式)<br>
小程序进入后台后5秒，会停止小程序js线程执行，随后进入挂起状态，此时会保存小程序内存状态，但代码会停止执行，事件及接口回调会在再次进入前台时触发<br>
当使用了后台音乐播放、后台地理位置等能力时小程序可以在后台持续运行<br>
当小程序可能将要被销毁前<code>onSaveExitState</code>函数会被调用，在回调中可以通过返回数据对象的方式缓存一些数据，返回对象格式：<code>{data:Object, expireTimeStamp: time}</code></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/12/2022, 5:15:26 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3bfa1cdf.js" defer></script><script src="/assets/js/2.dd66bfe3.js" defer></script><script src="/assets/js/55.ec996f18.js" defer></script>
  </body>
</html>
